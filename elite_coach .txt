#import kivy
#kivy.require('2.2.1') # Ù†Ø³Ø®Ù‡ Kivy Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²

#from kivy.app import App
#from kivy.uix.label import Label
#from kivy.uix.button import Button
#from kivy.uix.boxlayout import BoxLayout
#from kivy.properties import StringProperty

#class SimpleKivyApp(App):
#    # Ø§ÛŒÙ† Ù…ØªØºÛŒØ± Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø§Ø¯Ù‡ Ø¨ÛŒÙ† Ù¾Ø§ÛŒØªÙˆÙ† Ùˆ ÙØ§ÛŒÙ„ KV Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
#    message = StringProperty("Ø³Ù„Ø§Ù… Ø¯Ù†ÛŒØ§ Ø§Ø² Kivy!")

#    def build(self):
#        # Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ Ø·Ø±Ø§Ø­ÛŒ Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ (my.kv)
#        self.load_kv('my.kv')
#        
#        # Ø³Ø§Ø®Øª ÛŒÚ© Ø·Ø±Ø­ Ø¨Ù†Ø¯ÛŒ (Layout) Ø¨Ø±Ø§ÛŒ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ø§Ø¬Ø²Ø§
#        layout = BoxLayout(orientation='vertical', padding=10, spacing=10)
#        
#        # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÛŒÚ© Ø¨Ø±Ú†Ø³Ø¨ (Label) Ú©Ù‡ Ù…ØªÙ† Ø¢Ù† ØªÙˆØ³Ø· ÙØ§ÛŒÙ„ KV Ú©Ù†ØªØ±Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
#        self.label = Label(text=self.message, font_size='30sp')
#        layout.add_widget(self.label)
#        
#        # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÛŒÚ© Ø¯Ú©Ù…Ù‡
#        btn = Button(text="Ø±ÙˆÛŒ Ù…Ù† Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯", size_hint=(1, 0.2))
#        btn.bind(on_press=self.on_button_press)
#        layout.add_widget(btn)
#        
#        return layout

#    def on_button_press(self, instance):
#        # ØªØºÛŒÛŒØ± Ù…ØªÙ† Ø¨Ø±Ú†Ø³Ø¨ Ù‡Ù†Ú¯Ø§Ù… Ú©Ù„ÛŒÚ©
#        self.message = "Ø´Ù…Ø§ Ú©Ù„ÛŒÚ© Ú©Ø±Ø¯ÛŒØ¯!"
#        self.label.text = self.message

#if __name__ == '__main__':
#    SimpleKivyApp().run()
#from kivy.app import App
#from kivy.uix.screenmanager import ScreenManager, Screen
#from kivy.lang import Builder
#from kivy.properties import StringProperty, ObjectProperty

# ===============================================================
# 1. ØªØ¹Ø§Ø±ÛŒÙ ØµÙØ­Ø§Øª (Screens)
# ===============================================================

#class LoginScreen(Screen):
#    # ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ (Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ùˆ Ú©Ø¯)
#    phone_number = StringProperty('')
#    verification_code = StringProperty('')
#    error_message = StringProperty('')

#    def submit_phone(self):
#        # Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ÛŒØ¯ Ú©Ø¯ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´ÙˆØ¯
#        print(f"Phone number submitted: {self.phone_number}")
#        # Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡ ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ Ú©Ø¯ Ù…ÛŒâ€ŒØ±ÙˆÛŒÙ… (Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
#        self.manager.current = 'verify_code'

#    def verify_code_action(self):
#        # Ø¯Ø± ÛŒÚ© Ø³ÛŒØ³ØªÙ… ÙˆØ§Ù‚Ø¹ÛŒØŒ Ø§ÛŒÙ† Ú©Ø¯ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø³Ø±ÙˆØ± Ú†Ú© Ø´ÙˆØ¯
#        if self.verification_code == "1234": # Ú©Ø¯ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡
#            self.error_message = ""
#            self.manager.current = 'team_setup'
#        else:
#            self.error_message = "Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª."
#            print("Verification Failed")


#class TeamSetupScreen(Screen):
#    team_name = StringProperty('')
#    # Ù„ÛŒØ³Øª Ø³Ø§Ø¯Ù‡ ØªÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨ÙˆØ¯Ù†
#    registered_teams = ['Esteghlal', 'Persepolis', 'Tractor', 'Sepahan']
#    error_message = StringProperty('')

#    def finalize_setup(self):
#        team_name_clean = self.team_name.strip()
#        if not team_name_clean:
#            self.error_message = "Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… ØªÛŒÙ… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯."
#            return
#            
#        if team_name_clean in self.registered_teams:
#            self.error_message = "Ø§ÛŒÙ† Ù†Ø§Ù… ØªÛŒÙ… ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø³Øª. Ù†Ø§Ù… Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯."
#        else:
#            # ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªÛŒÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯ Ùˆ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ù…ÛŒâ€ŒØ±ÙˆÛŒÙ…
#            self.error_message = ""
#            print(f"Team '{team_name_clean}' successfully registered!")
#            # Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
#            self.manager.current = 'home'
#            # Ø¯Ø± ÛŒÚ© Ø§Ù¾ ÙˆØ§Ù‚Ø¹ÛŒØŒ Ø¨Ø§ÛŒØ¯ team_name Ùˆ Ø´Ù…Ø§Ø±Ù‡ Ø±Ø§ Ø¯Ø± ÛŒÚ© Ø¬Ø§ÛŒ Ø¯Ø§Ø¦Ù…ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯


#class HomeScreen(Screen):
#    pass

#class LeagueScreen(Screen):
#    pass

#class PlayersScreen(Screen):
#    pass

#class GeneralScreen(Screen):
#    pass

#class TransfersScreen(Screen):
#    pass

#class CupScreen(Screen):
#    pass

#class TreasuryScreen(Screen):
#    pass


# ===============================================================
# 2. Ù…Ø¯ÛŒØ±ÛŒØª ØµÙØ­Ø§Øª (ScreenManager)
# ===============================================================

#class FootballAppManager(ScreenManager):
#    pass


# ===============================================================
# 3. Ú©Ù„Ø§Ø³ Ø§ØµÙ„ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
# ===============================================================

#class FootballApp(App):
#    def build(self):
#        # Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ KV Ú©Ù‡ Ø´Ø§Ù…Ù„ ØªÙ…Ø§Ù… Ø·Ø±Ø§Ø­ÛŒâ€ŒÙ‡Ø§Ø³Øª
#        return Builder.load_file('my.kv')

#if __name__ == '__main__':
#    FootballApp().run()
#from kivy.app import App
#from kivy.uix.screenmanager import ScreenManager, Screen
#from kivy.lang import Builder
#from kivy.properties import StringProperty, NumericProperty, ObjectProperty
#from kivy.clock import Clock

# ===============================================================
# 1. ØªØ¹Ø§Ø±ÛŒÙ ØµÙØ­Ø§Øª (Screens) - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù‡
# ===============================================================

#class LoginScreen(Screen):
#    phone_number = StringProperty('')
#    verification_code = StringProperty('')
#    error_message = StringProperty('')

#    def submit_phone(self):
#        # Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯
#        self.manager.get_screen('verify_code').phone_number = self.phone_number
#        self.manager.current = 'verify_code'

#    def verify_code_action(self):
#        if self.verification_code == "1234": 
#            self.error_message = ""
#            # Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ ØªÙ†Ø¸ÛŒÙ… ØªÛŒÙ…
#            self.manager.current = 'team_setup'
#        else:
#            self.error_message = "Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª."


#class TeamSetupScreen(Screen):
#    team_name = StringProperty('')
#    registered_teams = ['Esteghlal', 'Persepolis', 'Tractor', 'Sepahan']
#    error_message = StringProperty('')

#    def finalize_setup(self):
#        team_name_clean = self.team_name.strip()
#        if not team_name_clean:
#            self.error_message = "Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… ØªÛŒÙ… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯."
#            return
#            
#        if team_name_clean in self.registered_teams:
#            self.error_message = "Ø§ÛŒÙ† Ù†Ø§Ù… ØªÛŒÙ… ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø³Øª. Ù†Ø§Ù… Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯."
#        else:
#            self.error_message = ""
#            # Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ØªÛŒÙ…ÛŒ Ùˆ Ø±ÙØªÙ† Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
#            home_screen = self.manager.get_screen('home')
#            home_screen.set_team_info(team_name_clean, 5000) # ÙØ±Ø¶: ØªÛŒÙ… Ø¨Ø§ 5000 ÙˆØ§Ø­Ø¯ Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
#            self.manager.current = 'home'


#class HomeScreen(Screen):
#    # Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² TeamSetupScreen Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯
#    team_name_display = StringProperty('Ø¨Ø§Ø²ÛŒÚ©Ù† Ù†Ø§Ø´Ù†Ø§Ø³')
#    team_score_display = NumericProperty(0)
#    
#    def set_team_info(self, name, initial_score):
#        """Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÛŒÙ… Ø±Ø§ Ù¾Ø³ Ø§Ø² Ø«Ø¨Øª Ù†Ø§Ù… ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ø¯."""
#        self.team_name_display = name
#        self.team_score_display = initial_score
#        # Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ (Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ ÙÙ‚Ø· Ù…Ù‚Ø¯Ø§Ø± Ø§Ù…ØªÛŒØ§Ø² Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…)
#        print(f"Home Screen Loaded for Team: {name} with Score: {initial_score}")

#    def on_enter(self):
#        # Ø§ÛŒÙ† Ù…ØªØ¯ Ù‡Ù†Ú¯Ø§Ù… ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ØµÙØ­Ù‡ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
#        # Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ù†ÛŒÙ… (Ú©Ù‡ ÙØ¹Ù„Ø§Ù‹ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª)
#        pass


#class LeagueScreen(Screen):
#    pass

#class PlayersScreen(Screen):
#    pass

#class GeneralScreen(Screen):
#    pass

#class TransfersScreen(Screen):
#    pass

#class CupScreen(Screen):
#    pass

#class TreasuryScreen(Screen):
#    pass

# ===============================================================
# 2. Ù…Ø¯ÛŒØ±ÛŒØª ØµÙØ­Ø§Øª (ScreenManager) Ùˆ Ù„Ø§ÛŒÙ‡ Ø§ØµÙ„ÛŒ (RootLayout)
# ===============================================================

#class FootballAppManager(ScreenManager):
#    pass

#class RootLayout(ScreenManager):
#    # Ø§ÛŒÙ† Ù„Ø§ÛŒÙ‡ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† ScreenManager Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ø§Ù„Ø§ Ù†Ú¯Ù‡ Ù…ÛŒâ€ŒØ¯Ø§Ø±Ø¯
#    
#    # Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø¬Ø§Ø±ÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø¯Ø± ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯
#    current_treasury = NumericProperty(0)
#    
#    def update_treasury(self, amount):
#        """Ø¨Ø±Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø§Ø² Ù‡Ø± ØµÙØ­Ù‡ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯."""
#        self.current_treasury += amount
#        
#    def on_enter_screen(self, screen_name):
#        """Ù‡Ù†Ú¯Ø§Ù…ÛŒ Ú©Ù‡ ÛŒÚ© ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø¢Ù† Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯."""
#        # Ø§ÛŒÙ† Ù‚Ø³Ù…Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© Ù…Ú©Ø§Ù†ÛŒØ³Ù… Ù‚ÙˆÛŒâ€ŒØªØ± Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø±Ø¯ØŒ 
#        # Ø§Ù…Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø§ ÙÙ‚Ø· Ù…Ù‚Ø¯Ø§Ø± Ø±Ø§ Ø§Ø² RootLayout Ø¨Ù‡ HomeScreen Ù¾Ø§Ø³ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ….
#        if screen_name == 'home':
#            home_screen = self.get_screen('home')
#            home_screen.team_score_display = self.current_treasury
#            # Ø§Ú¯Ø± Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ ØµÙØ­Ù‡ Treasury ØªØºÛŒÛŒØ± Ú©Ù†Ø¯ØŒ HomeScreen Ø¨Ø§ÛŒØ¯ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´ÙˆØ¯
#            
# ===============================================================
# 3. Ú©Ù„Ø§Ø³ Ø§ØµÙ„ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
# ===============================================================

#class FootballApp(App):
#    def build(self):
#        # Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ KV Ú©Ù‡ Ø´Ø§Ù…Ù„ ØªÙ…Ø§Ù… Ø·Ø±Ø§Ø­ÛŒâ€ŒÙ‡Ø§Ø³Øª
#        return Builder.load_file('my.kv')

#if __name__ == '__main__':
#    FootballApp().run()
# ... (Ú©Ø¯Ù‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ø±Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…) ...

#import random

# ===============================================================
# 3. Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚ Ù„ÛŒÚ¯
# ===============================================================

#class LeagueManager:
#    """Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù„ÛŒÚ¯ØŒ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª Ùˆ Ø¬ÙˆØ§ÛŒØ²."""
#    
#    def __init__(self):
#        # Ø§ÛŒÙ† Ù„ÛŒØ³Øª Ø¨Ø§ÛŒØ¯ Ø¨Ø§ ØªÛŒÙ…â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ù¾Ø± Ø´ÙˆØ¯
#        self.current_teams = {
#            'TeamA': {'power': 10000, 'score': 0, 'gold': 0, 'played': 0, 'wins': 0, 'losses': 0, 'draws': 0},
#            'TeamB': {'power': 10500, 'score': 0, 'gold': 0, 'played': 0, 'wins': 0, 'losses': 0, 'draws': 0},
#            'TeamC': {'power': 9800, 'score': 0, 'gold': 0, 'played': 0, 'wins': 0, 'losses': 0, 'draws': 0},
#            # ... 13 ØªÛŒÙ… Ø¯ÛŒÚ¯Ø± (Ø¨Ø§ÛŒØ¯ Ú©Ø§Ù…Ù„ Ø´ÙˆØ¯)
#        }
#        self.current_league_level = 1 # Ø´Ø±ÙˆØ¹ Ø§Ø² Ù„ÛŒÚ¯ Ø¨Ø±ØªØ±
#        self.total_teams = 16 # ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ù„ÛŒØ³Øª ÙØ¹Ù„ÛŒ 16 ØªÛŒÙ… Ø¯Ø§Ø±Ø¯
#        
#        # ØªÙ†Ø¸ÛŒÙ… Ø¬ÙˆØ§ÛŒØ² Ø§ÙˆÙ„ÛŒÙ‡ Ù„ÛŒÚ¯ 1
#        self.base_rewards = {
#            1: {'gold': 100000, 'score': 1000}, # Ø±ØªØ¨Ù‡ 1
#            2: {'gold': 80000, 'score': 800},
#            3: {'gold': 60000, 'score': 600},
#        }
#        
#        # Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªÛŒÙ… Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ù„ÛŒØ³Øª Ø§Ø³Øª
#        # (Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø§ÛŒÙ† Ø¨Ø§ÛŒØ¯ Ø§Ø² TeamSetupScreen Ú¯Ø±ÙØªÙ‡ Ø´ÙˆØ¯)
#        self.user_team_name = "MyTeam" 
#        if self.user_team_name not in self.current_teams:
#             self.current_teams[self.user_team_name] = {'power': 11000, 'score': 0, 'gold': 0, 'played': 0, 'wins': 0, 'losses': 0, 'draws': 0}

#    def calculate_rewards(self, rank):
#        """Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¬ÙˆØ§ÛŒØ² Ø¨Ø± Ø§Ø³Ø§Ø³ Ø±ØªØ¨Ù‡ Ùˆ Ø³Ø·Ø­ Ù„ÛŒÚ¯."""
#        base_r = self.base_rewards.get(rank)
#        if not base_r:
#            return {'gold': 0, 'score': 0}
#            
#        # Ú©Ø§Ù‡Ø´ 10000 Ú¯Ù„Ø¯ Ùˆ 100 Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø³Ø·Ø­ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ø§Ø² Ù„ÛŒÚ¯ 1
#        gold_reduction = 10000 * (self.current_league_level - 1)
#        score_reduction = 100 * (self.current_league_level - 1)
#        
#        return {
#            'gold': max(0, base_r['gold'] - gold_reduction),
#            'score': max(0, base_r['score'] - score_reduction)
#        }

#    def simulate_match_outcome(self, team1_power, team2_power):
#        """Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‚Ø¯Ø±Øª ØªØ±Ú©ÛŒØ¨."""
#        
#        # Ù‚ÙˆØ§Ù†ÛŒÙ† Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ:
#        # Ù‚Ø¯Ø±Øª ØªÙØ§ÙˆØª = |Power1 - Power2|
#        # Ø§Ú¯Ø± ØªÙØ§ÙˆØª Ú©Ù… Ø¨Ø§Ø´Ø¯ (Ù…Ø«Ù„Ø§ Ø²ÛŒØ± 500): Ø¨Ø±Ø¯ Ø¨Ø§ Ø§Ø®ØªÙ„Ø§Ù Ú©Ù… (Score Diff: 1-3)
#        # Ø§Ú¯Ø± ØªÙØ§ÙˆØª Ù…ØªÙˆØ³Ø· Ø¨Ø§Ø´Ø¯ (Ù…Ø«Ù„Ø§ 500 ØªØ§ 1500): Ø¨Ø±Ø¯ Ø¨Ø§ Ø§Ø®ØªÙ„Ø§Ù Ù…ØªÙˆØ³Ø· (Score Diff: 4-7)
#        # Ø§Ú¯Ø± ØªÙØ§ÙˆØª Ø²ÛŒØ§Ø¯ Ø¨Ø§Ø´Ø¯ (Ø¨ÛŒØ´ØªØ± Ø§Ø² 1500): Ø¨Ø±Ø¯ Ø¨Ø§ Ø§Ø®ØªÙ„Ø§Ù Ø²ÛŒØ§Ø¯ (Score Diff: 8-15)
#        
#        diff = abs(team1_power - team2_power)
#        
#        if diff < 500:
#            score_diff = random.randint(1, 3)
#        elif diff < 1500:
#            score_diff = random.randint(4, 7)
#        else:
#            score_diff = random.randint(8, 15)
#            
#        # ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡
#        if team1_power > team2_power:
#            return ('win', score_diff) # ØªÛŒÙ… 1 Ø¨Ø±Ù†Ø¯Ù‡ Ø¨Ø§ Ø§Ø®ØªÙ„Ø§Ù score_diff
#        elif team2_power > team1_power:
#            return ('loss', score_diff) # ØªÛŒÙ… 1 Ø¨Ø§Ø²Ù†Ø¯Ù‡ Ø¨Ø§ Ø§Ø®ØªÙ„Ø§Ù score_diff
#        else:
#            # Ø§Ú¯Ø± Ù‚Ø¯Ø±Øª Ù…Ø³Ø§ÙˆÛŒ Ø¨ÙˆØ¯ (Ø¨Ø³ÛŒØ§Ø± Ù†Ø§Ø¯Ø± Ø¯Ø± Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ)
#            return ('draw', random.randint(0, 2)) 

#    def play_round(self):
#        """Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ø¯ÙˆØ± Ú©Ø§Ù…Ù„ Ø¨Ø§Ø²ÛŒ (Ø±ÙØª Ùˆ Ø¨Ø±Ú¯Ø´Øª Ø´Ø§Ù…Ù„ 15 Ø¨Ø§Ø²ÛŒ)."""
#        # Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…Ù†Ø·Ù‚ Ø³Ø§Ø®ØªÙ† Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¬Ø¯ÙˆÙ„ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯
#        # Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ØŒ Ù…Ø§ ÙÙ‚Ø· ÛŒÚ© Ø¨Ø±Ø¯ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªØ§ ØªØ³Øª Ø´ÙˆØ¯.
#        
#        # Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø¯ Ø¨Ø±Ø§ÛŒ ØªÛŒÙ… Ú©Ø§Ø±Ø¨Ø±
#        other_team_name = list(self.current_teams.keys())[0] if list(self.current_teams.keys())[0] != self.user_team_name else list(self.current_teams.keys())[1]
#        
#        p1 = self.current_teams[self.user_team_name]['power']
#        p2 = self.current_teams[other_team_name]['power']
#        
#        result, score_diff = self.simulate_match_outcome(p1, p2)
#        
#        # Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¨Ø±Ø¯/Ø¨Ø§Ø®Øª/Ù…Ø³Ø§ÙˆÛŒ (Ø¨Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±)
#        if result == 'win':
#            self.current_teams[self.user_team_name]['wins'] += 1
#            self.current_teams[self.user_team_name]['score'] += 1
#            self.current_teams[self.user_team_name]['gold'] += 100
#            
#        # Ø¯Ø± Ù†Ù‡Ø§ÛŒØªØŒ Ø§ÛŒÙ† Ù…ØªØ¯ Ø¨Ø§ÛŒØ¯ Ú©Ù„ Ù„ÛŒÚ¯ Ø±Ø§ Ø¬Ù„Ùˆ Ø¨Ø¨Ø±Ø¯.
#        
#        return result, other_team_name, score_diff


#class LeagueScreen(Screen):
#    league_manager = ObjectProperty(None)
#    
#    def on_enter(self):
#        # Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ Ù…Ù†ÛŒØ¬Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
#        if not self.league_manager:
#            # Ø§ÛŒÙ† Ø¨Ø§ÛŒØ¯ Ø¯Ø± build app ÛŒØ§ Ø¨Ù‡ ØµÙˆØ±Øª ØªØ²Ø±ÛŒÙ‚ Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯
#            # ÙØ¹Ù„Ø§Ù‹ Ø¨Ù‡ ØµÙˆØ±Øª Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ù…:
#            self.league_manager = LeagueManager() 
#            
#        # Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´
#        self.update_league_table()

#    def update_league_table(self):
#        # Ø§ÛŒÙ† Ù…ØªØ¯ Ø¨Ø§ÛŒØ¯ Ø¬Ø¯ÙˆÙ„ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ league_manager Ù¾Ø± Ú©Ù†Ø¯.
#        # Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨ÛŒØ´ØªØ± Ø¨Ù‡ Ú©Ø¯ KV ÙˆØ§Ø¨Ø³ØªÙ‡ Ø§Ø³Øª.
#        pass
#        
#    def simulate_next_game(self):
#        """Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§."""
#        result, opponent, score_diff = self.league_manager.play_round()
#        
#        # Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø±Ø§ÛŒÛŒ (Treasury) Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ø·Ø±ÛŒÙ‚ RootLayout
#        # Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ RootLayout Ø¯Ø§Ø±ÛŒÙ…. Ø§ÛŒÙ† Ú©Ø§Ø± Ø±Ø§ Ø¯Ø± Kivy Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø§Ø² Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Screen Ø§Ø³Øª.
#        # Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ØŒ Ù…Ø§ ÙÙ‚Ø· Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ú¯Ù„Ø¯ ØªÛŒÙ… Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ² Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ùˆ ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… UI Ø¨Ù‡â€ŒØ±ÙˆØ² Ù…ÛŒâ€ŒØ´ÙˆØ¯.
#        
#        user_data = self.league_manager.current_teams[self.league_manager.user_team_name]
#        
#        # Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ: Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø¯ØŒ 100 Ú¯Ù„Ø¯ Ùˆ 1 Ø§Ù…ØªÛŒØ§Ø² Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
#        # (Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ù…Ù†Ø·Ù‚ Ø¨Ø±Ø¯/Ø¨Ø§Ø®Øª Ø¯Ø± play_round Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ø¨Ø§Ø´Ø¯)
#        
#        # ÙØ¹Ù„Ø§Ù‹ ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ø¨Ø±Ø¯ Ùˆ 100 Ú¯Ù„Ø¯ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯:
#        # (Ø§ÛŒÙ† Ø¨Ø§ÛŒØ¯ Ø§Ø² logic Ø¨Ø§Ø²ÛŒ Ø¨ÛŒØ±ÙˆÙ† Ø¨ÛŒØ§ÛŒØ¯)
#        
#        self.update_league_table()
#        print(f"Game Simulated: {self.league_manager.user_team_name} vs {opponent}. Result: {result} with Score Diff {score_diff}")


# ... (Ø¨Ù‚ÛŒÙ‡ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ Ø¯Ø± main.py) ...
# main.py
#import kivy
#from kivy.app import App
#from kivy.uix.screenmanager import ScreenManager, Screen
#from kivy.uix.boxlayout import BoxLayout
#from kivy.uix.gridlayout import GridLayout
#from kivy.properties import StringProperty, NumericProperty, ListProperty, ObjectProperty
#from kivy.uix.label import Label
#from kivy.lang import Builder

#kivy.require('2.1.0') # ÙˆØ±Ú˜Ù† Kivy Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²

# --- Ù…Ø¯Ù„ Ù‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡ (Data Models) ---

#class Team:
#    """Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡Ù†Ø¯Ù‡ ÛŒÚ© ØªÛŒÙ… Ø´Ø±Ú©Øª Ú©Ù†Ù†Ø¯Ù‡ Ø¯Ø± Ø¬Ø§Ù…"""
#    def __init__(self, name, owner_name, entry_fee):
#        self.name = name           # Ù†Ø§Ù… ØªÛŒÙ…
#        self.owner = owner_name    # Ù†Ø§Ù… ØµØ§Ø­Ø¨ ØªÛŒÙ…
#        self.entry_fee = entry_fee # ÙˆØ±ÙˆØ¯ÛŒ Ú¯Ù„Ø¯
#        self.score = 0             # Ø§Ù…ØªÛŒØ§Ø² (Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ù„ÛŒÚ¯ ÛŒØ§ Ø¨Ø§Ø²ÛŒ Ù‡Ø§ÛŒ Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ)

#class Match:
#    """Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡Ù†Ø¯Ù‡ ÛŒÚ© Ù…Ø³Ø§Ø¨Ù‚Ù‡"""
#    def __init__(self, team1: Team, team2: Team, is_final=False, is_ranking=False):
#        self.team1 = team1
#        self.team2 = team2
#        self.winner = None
#        self.is_final = is_final
#        self.is_ranking = is_ranking
#        self.is_played = False
#        
#    def __str__(self):
#        if self.is_final:
#            return f"ÙÛŒÙ†Ø§Ù„: {self.team1.name} vs {self.team2.name}"
#        elif self.is_ranking:
#            return f"Ø±Ø¯Ù‡ Ø¨Ù†Ø¯ÛŒ (Ù…Ù‚Ø§Ù… Ø³ÙˆÙ…): {self.team1.name} vs {self.team2.name}"
#        else:
#            return f"{self.team1.name} vs {self.team2.name}"


#class Cup:
#    """Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡Ù†Ø¯Ù‡ ÛŒÚ© Ø¬Ø§Ù… (Tournament)"""
#    MAX_TEAMS = 8
#    
#    def __init__(self, name, entry_fee):
#        self.name = name
#        self.entry_fee = entry_fee
#        self.teams: list[Team] = []
#        self.matches: list[Match] = []
#        self.is_active = False
#        self.prize_distribution = {} # {1: gold_amount, 2: gold_amount, 3: gold_amount}

#    def add_team(self, team: Team):
#        if len(self.teams) < self.MAX_TEAMS and not self.is_active:
#            self.teams.append(team)
#            if len(self.teams) == self.MAX_TEAMS:
#                self.finalize_and_start()
#            return True
#        return False

#    def finalize_and_start(self):
#        """Ù¾Ø³ Ø§Ø² ØªÚ©Ù…ÛŒÙ„ Ø¸Ø±ÙÛŒØªØŒ Ø³Ø§Ø®ØªØ§Ø± Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯."""
#        self.is_active = True
#        print(f"ğŸ‰ Ø¬Ø§Ù… '{self.name}' Ø¨Ø§ {self.MAX_TEAMS} ØªÛŒÙ… Ú©Ø§Ù…Ù„ Ø´Ø¯ Ùˆ Ø´Ø±ÙˆØ¹ Ø´Ø¯!")
#        
#        # 1. Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¬ÙˆØ§ÛŒØ²
#        total_pot = self.entry_fee * self.MAX_TEAMS
#        self.prize_distribution = {
#            1: int(total_pot * 0.50), # 50%
#            2: int(total_pot * 0.30), # 30%
#            3: int(total_pot * 0.20)  # 20%
#        }
#        
#        # 2. Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø³Ø§Ø¨Ù‚Ø§Øª (Bracket Generation - Ø³Ø§Ø¯Ù‡ Ø´Ø¯Ù‡)
#        # Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø³Ø§Ø¯Ù‡ØŒ ØªÛŒÙ… Ù‡Ø§ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÙˆØ¬ (0-1, 2-3, 4-5, 6-7) Ù…Ú† Ù…ÛŒ Ú©Ù†ÛŒÙ….
#        
#        # Ù…Ø±Ø­Ù„Ù‡ Û± (ÛŒÚ© Ú†Ù‡Ø§Ø±Ù… Ù†Ù‡Ø§ÛŒÛŒ)
#        for i in range(0, self.MAX_TEAMS, 2):
#            match = Match(self.teams[i], self.teams[i+1])
#            self.matches.append(match)
#        
#        # ØªÙˆØ¬Ù‡: Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù„ Ø¯Ø±Ø®Øª Ù…Ø³Ø§Ø¨Ù‚Ø§Øª (Bracket) Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø§Ø³Øª Ùˆ Ø¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø¯Ø³ØªÛŒ (Ø¨Ø¹Ø¯ Ø§Ø² Ù…Ø±Ø­Ù„Ù‡ Ø§ÙˆÙ„) Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒ Ø´ÙˆØ¯.

#    def record_result(self, match: Match, winner_team: Team):
#        """Ø«Ø¨Øª Ù†ØªÛŒØ¬Ù‡ ÛŒÚ© Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ùˆ Ù¾ÛŒØ´Ø¨Ø±Ø¯ Ø¬Ø§Ù…."""
#        if match.is_played:
#            print("Ø§ÛŒÙ† Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ù‚Ø¨Ù„Ø§ Ø¨Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.")
#            return
#            
#        if winner_team not in [match.team1, match.team2]:
#            print("ØªÛŒÙ… Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.")
#            return

#        match.winner = winner_team
#        match.is_played = True
#        
#        # Ù…Ù†Ø·Ù‚ Ù¾ÛŒØ´Ø±ÙØª Ø¨Ù‡ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ÛŒ: (Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ÛŒØ¯ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø´ÙˆØ¯)
#        # ...
#        
#        print(f"Ù†ØªÛŒØ¬Ù‡ Ø«Ø¨Øª Ø´Ø¯: {match.team1.name} vs {match.team2.name} -> Ø¨Ø±Ù†Ø¯Ù‡: {winner_team.name}")
#        # Ø¨Ø¹Ø¯ Ø§Ø² Ø«Ø¨Øª Ù†ØªØ§ÛŒØ¬ Ú©Ø§ÙÛŒØŒ Ø¨Ø§ÛŒØ¯ Ù†ÛŒÙ…Ù‡â€ŒÙ†Ù‡Ø§ÛŒÛŒ Ùˆ ÙÛŒÙ†Ø§Ù„ Ø³Ø§Ø®ØªÙ‡ Ø´ÙˆØ¯.

# --- Ú©Ù„Ø§Ø³ Ø§ØµÙ„ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Kivy ---

#class CupManagerScreen(Screen):
#    """ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø§Ù… Ù‡Ø§"""
#    cup_list_layout = ObjectProperty(None)
#    
#    def __init__(self, **kwargs):
#        super().__init__(**kwargs)
#        self.cups: list[Cup] = [] # Ù„ÛŒØ³Øª ØªÙ…Ø§Ù… Ø¬Ø§Ù… Ù‡Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡
#        
#    def on_enter(self):
#        """Ù‡Ù†Ú¯Ø§Ù…ÛŒ Ú©Ù‡ ØµÙØ­Ù‡
#        # main.py (ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± Ù‚Ø³Ù…Øª Ù…Ø¯Ù„ Ù‡Ø§ Ùˆ Ø§Ù†ØªÙ‡Ø§)

# ... (Ú©Ù„Ø§Ø³ Ù‡Ø§ÛŒ Team, Match, Cup Ù‚Ø¨Ù„ÛŒ Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) ...

#class TopScorer:
#    """Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø±ØªØ± Ùˆ Ø¬Ø§ÛŒØ²Ù‡ Ø§Ùˆ"""
#    PRIZE = 5000 # Ø¬Ø§ÛŒØ²Ù‡ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†
#    def __init__(self, name, goals):
#        self.name = name
#        self.goals = goals

#class MonthlyAwardsScreen(Screen):
#    """ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¬ÙˆØ§ÛŒØ² Ù…Ø§Ù‡Ø§Ù†Ù‡ (Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù† Ùˆ ØªØ±Ú©ÛŒØ¨ Ù…Ù†ØªØ®Ø¨)"""
#    awards_layout = ObjectProperty(None)
#    image_path = StringProperty(None) # Ù…Ø³ÛŒØ± ØªØµÙˆÛŒØ± ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡

#    def on_enter(self):
#        """Ù‡Ù†Ú¯Ø§Ù…ÛŒ Ú©Ù‡ ØµÙØ­Ù‡ Ù„ÙˆØ¯ Ù…ÛŒ Ø´ÙˆØ¯ØŒ Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ø±Ø¯Ù‡ Ùˆ ØªØµÙˆÛŒØ± Ø±Ø§ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒ Ú©Ù†Ø¯."""
#        self.generate_monthly_awards()
#        self.update_ui()

#    def generate_monthly_awards(self):
#        """ØªÙˆÙ„ÛŒØ¯ Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ÛŒ ÙØ±Ø¶ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ³Øª (Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…Ù†Ø·Ù‚ Ù¾Ø§ÛŒØ§Ù† Ù„ÛŒÚ¯)"""
#        
#        # 1. Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù† ÙØ±Ø¶ÛŒ (Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ØªÛŒÙ… Ù‡Ø§ÛŒ ØªØ³ØªØ¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ main)
#        scorers = [
#            TopScorer("ØªÛŒÙ… Ø§Ù„Ù (Ø¹Ù„ÛŒ)", 25),
#            TopScorer("ØªÛŒÙ… Ù¾ (Ù¾ÙˆÛŒØ§)", 22),
#            TopScorer("ØªÛŒÙ… Ø­ (Ø­Ø³ÛŒÙ†)", 19),
#        ]
#        
#        # 2. ØªÙˆÙ„ÛŒØ¯ Ù¾Ø±Ø§Ù…Ù¾Øª Ø¨Ø±Ø§ÛŒ ØªØµÙˆÛŒØ± ØªØ±Ú©ÛŒØ¨ Ù…Ù†ØªØ®Ø¨
#        prompt = (
#            "A stunning, epic digital art composition of an 'All-Star Team' lineup "
#            "in a vibrant gold and dark blue color scheme. The image should feature "
#            "silhouettes or stylized portraits of 11 legendary football players "
#            "standing in a classic 4-4-2 formation, glowing with energy and achievement. "
#            "Overlay subtle graphics of 'Monthly Top Performers' in elegant Persian script (if possible) "
#            "or a prominent banner."
#        )
#        
#        # 3. ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ ØªÙˆÙ„ÛŒØ¯ ØªØµÙˆÛŒØ±
#        # Ø¯Ø± Ù…Ø­ÛŒØ· ÙˆØ§Ù‚Ø¹ÛŒØŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø§Ø¨Ø²Ø§Ø± Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯. Ø§ÛŒÙ†Ø¬Ø§ Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù…ÛŒ Ú©Ù†ÛŒÙ….
#        print("\n--- Ø¯Ø± Ø­Ø§Ù„ ØªÙˆÙ„ÛŒØ¯ ØªØµÙˆÛŒØ± ØªØ±Ú©ÛŒØ¨ Ù…Ù†ØªØ®Ø¨ (Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø¨Ø²Ø§Ø± Ø¯Ø§Ø±Ø¯) ---")
#        # ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ø§Ø¨Ø²Ø§Ø± ØªØµÙˆÛŒØ± Ø±Ø§ Ø¨Ø§ Ù†Ø§Ù… 'monthly_team.png' Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†Ø¯.
#        self.image_path = "[/mnt/data/monthly_team.png"](https://storage.gapgpt.app/media/code_interpreter/672f9193-b82d-4f6d-949e-dd85710b0ff9/monthly_team.png%22) # Ù…Ø³ÛŒØ± ÙØ±Ø¶ÛŒ Ø¯Ø± Ù…Ø­ÛŒØ· Ø§Ø¬Ø±Ø§ÛŒ Ø§Ø¨Ø²Ø§Ø±
#        
#        # Ø¯Ø± Ù…Ø­ÛŒØ· ÙˆØ§Ù‚Ø¹ÛŒ:
#        # result = App.get_running_app().generate_image_tool(prompt)
#        # self.image_path = result.path 
#        
#        self.scorers_data = scorers
#        
#    def update_ui(self):
#        if not self.awards_layout: return
#        self.awards_layout.clear_widgets()
#        
#        # Ø¨Ø®Ø´ Ú¯Ù„Ø²Ù†Ø§Ù†
#        self.awards_layout.add_widget(Label(text="ğŸ¥‡ Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù† Ù…Ø§Ù‡ ğŸ¥‡", font_size=22, size_hint_y=None, height=50))
#        
#        for scorer in self.scorers_data:
#            self.awards_layout.add_widget(Label(
#                text=f"ğŸ¯ {scorer.name}: {scorer.goals} Ú¯Ù„ | Ø¬Ø§ÛŒØ²Ù‡: {scorer.PRIZE} Ú¯Ù„Ø¯",
#                size_hint_y=None, height=45
#            ))
#            
#        self.awards_layout.add_widget(Label(text="---", size_hint_y=None, height=10))

#        # Ø¨Ø®Ø´ ØªØ±Ú©ÛŒØ¨ Ù…Ù†ØªØ®Ø¨ (Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØµÙˆÛŒØ±)
#        self.awards_layout.add_widget(Label(text="ğŸŒŸ ØªØ±Ú©ÛŒØ¨ Ù…Ù†ØªØ®Ø¨ Ù…Ø§Ù‡ ğŸŒŸ", font_size=22, size_hint_y=None, height=50))
#        
#        # Ù†Ù…Ø§ÛŒØ´ ØªØµÙˆÛŒØ±
#        # Ø§Ø² Image Kivy Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…. Ú†ÙˆÙ† Ø¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ ØªØµÙˆÛŒØ± Ù†Ø¯Ø§Ø±ÛŒÙ…ØŒ ÙÙ‚Ø· ÛŒÚ© Ù…ØªÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ Ù…ÛŒ Ú¯Ø°Ø§Ø±ÛŒÙ….
#        if self.image_path:
#            # ØªÙˆØ¬Ù‡: Ø¯Ø± Ø§Ø¬Ø±Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒØŒ Ø¨Ø§ÛŒØ¯ ØªØµÙˆÛŒØ± Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² generate_image ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯.
#            # ÙØ¹Ù„Ø§Ù‹ Ø§Ø² ÛŒÚ© Label Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Placeholder Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
#            self.awards_layout.add_widget(Label(text=f"[ØªØµÙˆÛŒØ± ØªØ±Ú©ÛŒØ¨ Ù…Ù†ØªØ®Ø¨ Ø¯Ø±: {self.image_path}]", 
#                                                size_hint_y=None, height=150, color=[1, 1, 0, 1])) # Ø²Ø±Ø¯
#        else:
#            self.awards_layout.add_widget(Label(text="ØªØµÙˆÛŒØ± Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ...", size_hint_y=None, height=150))

# ... (ØªØ§Ø¨Ø¹ CupApp Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´) ...
# main.py
#import random
#from kivy.app import App
#from kivy.uix.boxlayout import BoxLayout
#from kivy.uix.screenmanager import ScreenManager, Screen
#from kivy.uix.label import Label
#from kivy.uix.button import Button
#from kivy.uix.scrollview import ScrollView
#from kivy.properties import StringProperty, NumericProperty, ObjectProperty
#from kivy.lang import Builder

# ------------------- Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø·Ù‚ (Ø§Ø² Ù¾Ø§Ø³Ø® Ù‚Ø¨Ù„ÛŒ) -------------------

#class Player:
#    def __init__(self, player_id, power, age, position, is_legend=False, is_custom=False):
#        self.id = player_id
#        self.power = power
#        self.age = age
#        self.position = position
#        self.is_legend = is_legend
#        self.is_custom = is_custom
#        self.contract_length = 1
#        self.contract_expiry_month = 1
#        self.name = f"P{player_id}" # Ù†Ø§Ù… Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´

#    def get_current_power(self, in_lineup=False):
#        if self.is_legend and in_lineup:
#            return self.power * 2
#        return self.power

#    def __repr__(self):
#        type_str = "Ø§Ø³Ø·ÙˆØ±Ù‡" if self.is_legend else ("Ø³Ø§Ø®ØªÙ†ÛŒ" if self.is_custom else "Ù…Ø¹Ù…ÙˆÙ„ÛŒ")
#        return (f"ID:{self.id}|{self.name} | P:{self.power} | Type:{type_str} | Cont:{self.contract_length}M")

#class Team:
#    MAX_PLAYERS = 45
#    MIN_PLAYERS = 16
#    INITIAL_PLAYERS = 25
#    REPLACEMENT_POWER = 150
#    
#    # Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø¨Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø³Ø·ÙˆØ±Ù‡
#    BUILDER_PHONE = "09937716911"

#    def __init__(self, name="My Team"):
#        self.name = name
#        self.squad = []
#        self.gold = 10000
#        self.next_player_id = 1
#        self.lineup = {} 
#        self.current_league_month = 1
#        self.roster_history = [] # Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§
#        
#        self._initialize_squad()

#    def _initialize_squad(self):
#        for _ in range(self.INITIAL_PLAYERS):
#            power = random.randint(150, 250)
#            age = random.randint(18, 30)
#            position = random.choice(['GK', 'DEF', 'MID', 'FWD'])
#            new_player = Player(self.next_player_id, power, age, position)
#            self.squad.append(new_player)
#            self.next_player_id += 1
#        self.log_event(f"ØªÛŒÙ… {self.name} Ø¨Ø§ {len(self.squad)} Ø¨Ø§Ø²ÛŒÚ©Ù† ØªØ´Ú©ÛŒÙ„ Ø´Ø¯.")

#    def log_event(self, message):
#        self.roster_history.insert(0, f"[{self.current_league_month}M] {message}")
#        if len(self.roster_history) > 20:
#            self.roster_history.pop()

#    def get_player_by_id(self, player_id):
#        for player in self.squad:
#            if player.id == player_id:
#                return player
#        return None

#    def add_player(self, player):
#        if len(self.squad) >= self.MAX_PLAYERS:
#            self.log_event("Ù‡Ø´Ø¯Ø§Ø±: Ø³Ù‚Ù ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ù¾Ø± Ø§Ø³Øª.")
#            return False
#        
#        # Ø§Ú¯Ø± ID ØµÙØ± Ø¨Ø§Ø´Ø¯ØŒ ÛŒØ¹Ù†ÛŒ Ø§Ø² Ù…ØªØ¯ Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø¢Ù…Ø¯Ù‡ Ùˆ Ø¨Ø§ÛŒØ¯ ID Ø¬Ø¯ÛŒØ¯ Ø¨Ú¯ÛŒØ±Ø¯
#        if player.id == 0:
#            player.id = self.next_player_id
#            self.next_player_id += 1
#            
#        self.squad.append(player)
#        self.log_event(f"Ø¨Ø§Ø²ÛŒÚ©Ù† ID:{player.id} ({player.power}) Ø¨Ù‡ ØªÛŒÙ… Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.")
#        
#        if len(self.squad) < self.MIN_PLAYERS and (not player.is_legend and not player.is_custom):
#             self._fill_squad_emergency()
#             
#        return True

#    def _fill_squad_emergency(self):
#        while len(self.squad) < self.MIN_PLAYERS:
#            power = self.REPLACEMENT_POWER
#            age = random.randint(20, 25)
#            position = random.choice(['DEF', 'MID']) 
#            # Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ø¨Ø§Ø²ÛŒÚ©Ù† "Ø³Ø§Ø®ØªÙ†ÛŒ" Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
#            new_player = Player(0, power, age, position, is_custom=True) 
#            self.add_player(new_player)
#            self.log_event(f"Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ Ø¨Ø§ Ù‚Ø¯Ø±Øª {power} Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.")
#            
#    def sell_player(self, player_id):
#        player = self.get_player_by_id(player_id)
#        if not player: return
#        
#        min_price = player.power * 10
#        max_price = player.power * 20
#        sell_price = random.randint(min_price, max_price)
#        
#        self.squad.remove(player)
#        self.gold += sell_price
#        self.log_event(f"ÙØ±ÙˆØ´ Ù…ÙˆÙ
#        from kivy.app import App
#from kivy.uix.screenmanager import ScreenManager, Screen
#from kivy.properties import StringProperty, ListProperty, NumericProperty
#from kivy.lang import Builder

# -------------------
#  ØªØ¹Ø±ÛŒÙ ØµÙØ­Ø§Øª Ù…Ø®ØªÙ„Ù
# -------------------

#class ChatScreen(Screen):
#    messages = ListProperty([])
#    def send_message(self, msg):
#        if msg.strip():
#            self.messages.append(msg)
#            self.ids.chat_input.text = ""

#class PublicationScreen(Screen):
#    posts = ListProperty([])
#    def add_post(self, text, image=""):
#        if text.strip():
#            self.posts.append({"text": text, "image": image})
#            self.ids.post_text.text = ""

#class UnionScreen(Screen):
#    unions = ListProperty([])
#    def create_union(self, name, image):
#        if name.strip():
#Ù‚ÛŒØª Ø¢
#from kivy.app import App
#from kivy.uix.boxlayout import BoxLayout
#from kivy.properties import NumericProperty, StringProperty, ObjectProperty
#from kivy.uix.popup import Popup

# Ù…Ø¯Ù„ Ú©Ø§Ø±Ø¨Ø±
#class User:
#    def __init__(self, username, gold=0):
#        self.username = username
#        self.gold = gold

# Ú©Ù„Ø§Ø³ Ø§ØµÙ„ÛŒ Ø±Ø§Ø¨Ø·
#class Treasury(BoxLayout):
#    gold_balance = NumericProperty(0)
#    username = StringProperty("Ú©Ø§Ø±Ø¨Ø±_Ù…Ù†")
#    recipient_input = ObjectProperty(None)
#    amount_input = ObjectProperty(None)
#    
#    def buy_gold(self, package):
#        prices = {
#            "1": (10000, 20000),
#            "2": (100000, 170000),
#            "3": (500000, 500000),
#            "4": (5000, 2500000)
#        }
#        gold, price = prices[package]
#        self.gold_balance += gold
#        self.show_popup(f"Ø¨Ø³ØªÙ‡ {package} Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯!\nÙ…Ù‚Ø¯Ø§Ø±: {gold} Ú¯Ù„Ø¯\nÙ‚ÛŒÙ…Øª: {price:,} ØªÙˆÙ…Ø§Ù†")

#    def deposit_gold(self):
#        # ÙØ±Ø¶ÛŒ: Ø³ÙˆØ¯ Û±Ùª Ø§Ø² Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§
#        profit = self.gold_balance * 0.01
#        self.gold_balance += profit
#        self.show_popup(f"Ø³ÙˆØ¯ Û±Ùª Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯ âœ…\nÙ…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬Ø¯ÛŒØ¯: {int(self.gold_balance)} Ú¯Ù„Ø¯")

#    def donate_gold(self):
#        try:
#            recipient = self.recipient_input.text.strip()
#            amount = int(self.amount_input.text)
#            if amount > self.gold_balance:
#                self.show_popup("âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!")
#                return
#            self.gold_balance -= amount
#            self.show_popup(f"{amount} Ú¯Ù„Ø¯ Ø¨Ù‡ {recipient} Ø§Ù‡Ø¯Ø§ Ø´Ø¯ âœ…")
#            self.recipient_input.text = ""
#            self.amount_input.text = ""
#        except ValueError:
#            self.show_popup("âš ï¸ Ù„Ø·ÙØ§Ù‹ Ù…Ù‚Ø¯Ø§Ø± Ú¯Ù„Ø¯ Ø±Ø§ Ø¯Ø±Ø³Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")

#    def show_popup(self, message):
#        popup = Popup(title="Ø§Ø¹Ù„Ø§Ù†", contentBoxLayout())
#        box = BoxLayout(orientation='vertical')
#        from kivy.uix.label import Label
#        from kivy.uix.button import Button
#        box.add_widget(Label(text=message))
#        btn = Button(text="Ø¨Ø³ØªÙ†", size_hint_y=None, height=40)
#        btn.bind(on_press=lambda x: popup.dismiss())
#        box.add_widget(btn)
#        popup.content = box
#        popup.size_hint = (0.8, 0.5)
#        popup.open()

#class TreasuryApp(App):
#    def build(self):
#        return Treasury()

#if __name__ == "__main__":
#    TreasuryApp().run()
# main.py
#import sqlite3
#from kivy.app import App
#from kivy.uix.boxlayout import BoxLayout
#from kivy.uix.label import Label
#from kivy.uix.scrollview import ScrollView
#from kivy.properties import StringProperty

# --- 1. Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ (Ø¯Ø± Ù…Ø­ÛŒØ· ÙˆØ§Ù‚Ø¹ÛŒØŒ Ø§ÛŒÙ† Ù‚Ø³Ù…Øª Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÙˆØ§Ù‚Ø¹ÛŒ ÙˆØµÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯) ---
#def initialize_db():
#    """Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…ÙˆÙ‚Øª Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ù…Ù†Ø·Ù‚"""
#    conn = sqlite3.connect('football_stats.db')
#    cursor = conn.cursor()

#    # Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†
#    cursor.execute('''
#        CREATE TABLE IF NOT EXISTS players (
#            player_id INTEGER PRIMARY KEY,
#            name TEXT NOT NULL,
#            position TEXT NOT NULL -- 'Forward', 'Goalkeeper'
#        )
#    ''')

#    # Ø¬Ø¯ÙˆÙ„ Ø¢Ù…Ø§Ø± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§
#    cursor.execute('''
#        CREATE TABLE IF NOT EXISTS match_stats (
#            stat_id INTEGER PRIMARY KEY,
#            player_id INTEGER,
#            goals_scored INTEGER DEFAULT 0,
#            goals_conceded INTEGER DEFAULT 0, -- ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†â€ŒÙ‡Ø§ Ù…Ø¹Ù†ÛŒ Ø¯Ø§Ø±Ø¯
#            matches_played INTEGER DEFAULT 0,
#            FOREIGN KEY (player_id) REFERENCES players(player_id)
#        )
#    ''')

#    # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ (Ø¨Ø±Ø§ÛŒ ØªØ³Øª)
#    players_data = [
#        (1, 'Ø¹Ù„ÛŒ Ú©Ø±ÛŒÙ…ÛŒ', 'Forward'),
#        (2, 'Ù…Ù‡Ø¯ÛŒ Ø·Ø§Ø±Ù…ÛŒ', 'Forward'),
#        (3, 'Ø¹Ù„ÛŒØ±Ø¶Ø§ Ø¨ÛŒØ±Ø§ÙˆÙ†ÙˆÙ†Ø¯', 'Goalkeeper'),
#        (4, 'Ø­Ø³ÛŒÙ† Ø­Ø³ÛŒÙ†ÛŒ', 'Goalkeeper'),
#    ]
#    cursor.executemany('INSERT OR IGNORE INTO players VALUES (?, ?, ?)', players_data)

#    stats_data = [
#        # Ú¯Ù„Ø²Ù†Ø§Ù†
#        (101, 1, 25, 0, 30),  # Ú©Ø±ÛŒÙ…ÛŒ: 25 Ú¯Ù„ Ø¯Ø± 30 Ø¨Ø§Ø²ÛŒ
#        (102, 2, 28, 0, 29),  # Ø·Ø§Ø±Ù…ÛŒ: 28 Ú¯Ù„ Ø¯Ø± 29 Ø¨Ø§Ø²ÛŒ (Ø¨Ù‡ØªØ±ÛŒÙ† Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„)
#        # Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†â€ŒÙ‡Ø§
#        (103, 3, 0, 15, 30),  # Ø¨ÛŒØ±Ø§Ù†ÙˆÙ†Ø¯: 15 Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡ Ø¯Ø± 30 Ø¨Ø§Ø²ÛŒ (Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† 0.5)
#        (104, 4, 20, 20, 30),  # Ø­Ø³ÛŒÙ†ÛŒ: 20 Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡ Ø¯Ø± 30 Ø¨Ø§Ø²ÛŒ (Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† 0.66)
#    ]
#    cursor.executemany('INSERT OR IGNORE INTO match_stats VALUES (?, ?, ?, ?, ?)', stats_data)

#    conn.commit()
#    conn.close()

# --- 2. Ù…Ù†Ø·Ù‚ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ ---

#def get_top_scorers():
#    """Ù…Ø­Ø§Ø³Ø¨Ù‡ Ùˆ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ø¨Ø±ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù† (Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ù„ Ú¯Ù„ Ø²Ø¯Ù‡)"""
#    conn = sqlite3.connect('football_stats.db')
#    cursor = conn.cursor()
#    
#    query = """
#        SELECT 
#            p.name, 
#            ms.goals_scored
#        FROM players p
#        JOIN match_stats ms ON p.player_id = ms.player_id
#        WHERE p.position = 'Forward'
#        ORDER BY ms.goals_scored DESC
#        LIMIT 5
#    """
#    top_scorers = cursor.execute(query).fetchall()
#    conn.close()
#    
#    results = []
#    for name, goals in top_scorers:
#        results.append(f"{name}: {goals} Ú¯Ù„")
#    return results

#def get_top_goalkeepers():
#    """Ù…Ø­Ø§Ø³Ø¨Ù‡ Ùˆ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ø¨Ø±ØªØ±ÛŒÙ† Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù† (Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ù…ØªØ±ÛŒÙ† Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡)"""
#    conn = sqlite3.connect('football_stats.db')
#    cursor = conn.cursor()
#    
#    # Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡: (Goals Conceded / Matches Played)
#    query = """
#      
#        current_user_label:
#            text: 'Ø­Ø³Ø§Ø¨  ÙØ¹Ø§Ù„: '
#            font_size: '20sp'
#            halign: 'center'
#            color:  (0.2, 0.8, 0.2, 1)

#        Button:
#            text: 'ØªÙ†Ø¸ÛŒÙ…Ø§Øª'
#            on_release: app.root.current = 'settings'  # Navigates to Settings screen

#<SettingsScreen>:
#    name: 'settings'
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 20
#        Label:
#            text: 'Ø­Ø³Ø§Ø¨Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±'
#            font_name: 'Vazir.ttf'
#            font_size: '30sp'
#            halign: 'center'
#        ScrollView:
#            BoxLayout:
#                id: accounts_container
#                orientation: 'vertical'
#                size_hint_y: None
#                height: self.minimum_height
#            # Filler Label to ensure proper scrolling
#        Button:
#            text: 'Ø§ÙØ²ÙˆØ¯Ù† Ø­Ø³Ø§Ø¨'
#            on_release: app.root.current = 'add_account'

#<AddAccountScreen>:
#    name: 'add_account'
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 20
#        Label:
#            text: 'Ø§ÙØ²ÙˆØ¯Ù† Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÛŒØ¯'
#            font_name: 'Vazir.ttf'
#            font_size: '30sp'
#            halign: 'center'
#        TextInput:
#            id: phone_input
#            hint_text: 'Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†'
#            multiline: False
#            font_name: 'Vazir.ttf'
#        TextInput:
#            id: name_input
#            hint_text: 'Ù†Ø§Ù…'
#            multiline: False
#            font_name: 'Vazir.ttf'
#        Button:
#            text: 'Ø§ÙØ²ÙˆØ¯Ù†'
#            on_release: root.add_new_account(phone_input.text, name_input.text)
#"""

# --- Main App ---

#class MultiAccountApp(App):
#    def build(self):
#        sm = ScreenManager()
#        sm.add_widget(MainScreen(name='main'))
#        sm.add_widget(SettingsScreen(name='settings'))
#        sm.add_widget(AddAccountScreen(name='add_account'))
#        return sm


#if __name__ == '__main__':
#    kivy.require('2.2.1')  #  Kivy version
#    from kivy.lang import Builder
#    Builder.load_string(kv_code)  # Loads the KV language code for UI layout
#    MultiAccountApp().run() # Runs the application
# main.py
#from kivy.app import App
#from kivy.uix.screenmanager import ScreenManager, Screen
#from kivy.uix.boxlayout import BoxLayout
#from kivy.uix.label import Label
#from kivy.uix.button import Button
#from kivy.properties import StringProperty

#class MainScreen(Screen):
#    # Ù…ØªØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ (Ù…Ø«Ù„Ø§Ù‹ Ù‡ÙØªÙ‡ Ø¬Ø§Ø±ÛŒ Ù„ÛŒÚ¯)
#    status_text = StringProperty("Ù‡ÙØªÙ‡ Û² Ù„ÛŒÚ¯ØŒ Ù‚Ø±Ø¹Ù‡ Ú©Ø´ÛŒ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ...")

#    def __init__(self, **kwargs):
#        super().__init__(**kwargs)
#        # Ø³Ø§Ø®ØªØ§Ø± ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒ ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ
#        # Ø§Ù…Ø§ Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ØªØ± Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø¨Ù‡ KV Ù…Ù†ØªÙ‚Ù„ Ø´ÙˆØ¯.
#        
#        main_layout = BoxLayout(orientation='vertical', padding=20, spacing=15)
#        
#        # Ø¹Ù†ÙˆØ§Ù† Ùˆ ÙˆØ¶Ø¹ÛŒØª
#        title = Label(text="Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ù„ÛŒÚ¯ Ùˆ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ", size_hint_y=None, height=50, font_size='24sp')
#        
#        # Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ù¾ÙˆÛŒØ§ (Ø§ÛŒÙ†Ø¬Ø§ ÙÙ‚Ø· Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† placeholder Ø§Ø³Øª)
#        self.status_label = Label(text=self.status_text, size_hint_y=None, height=40, font_size='16sp')
#        
#        # Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
#        btn_bracket = Button(text="Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ", font_size='18sp', background_color=(0.2, 0.6, 0.8, 1))
#        btn_bracket.bind(on_press=self.go_to_bracket)
#        
#        btn_teams = Button(text="Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§", font_size='18sp', background_color=(0.3, 0.7, 0.4, 1))
#        btn_teams.bind(on_press=lambda x: self.manager.current = 'team_screen') # ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… TeamScreen Ø±Ø§ Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
#        
#        main_layout.add_widget(title)
#        main_layout.add_widget(self.status_label)
#        main_layout.add_widget(btn_bracket)
#        main_layout.add_widget(btn_teams)
#        
#        self.add_widget(main_layout)

#    def go_to_bracket(self, instance):
#        self.manager.current = 'bracket_screen'

#class BracketScreen(Screen):
#    def __init__(self, **kwargs):
#        super().__init__(**kwargs)
#        layout = BoxLayout(orientation='vertical', padding=20, spacing=10)
#        
#        layout.add_widget(Label(text="Ø¬Ø¯ÙˆÙ„ Ø­Ø°ÙÛŒ Ø¬Ø§Ù… (Ù…Ø±Ø§Ø­Ù„ Ø±ÙØª Ùˆ Ø¨Ø±Ú¯Ø´Øª)", size_hint_y=None, height=50, font_size='22sp'))
#        
#        # Placeholder Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù…Ø±Ø§Ø­Ù„:
#        cup_display = Label(text="[ÛŒÚ© Ø´Ø§Ù†Ø²Ø¯Ù‡Ù… Ø±ÙØª] -> [ÛŒÚ© Ø´Ø§Ù†Ø²Ø¯Ù‡Ù… Ø¨Ø±Ú¯Ø´Øª] -> ...", font_size='14sp')
#        layout.add_widget(cup_display)
#        
#        back_btn = Button(text="Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯", size_hint_y=None, height=50, background_color=(0.8, 0.2, 0.2, 1))
#        back_btn.bind(on_press=self.go_back)
#        layout.add_widget(back_btn)
#        
#        self.add_widget(layout)

#    def go_back(self, instance):
#        self.manager.current = 'main_screen'

#class TeamScreen(Screen):
#    # Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ø·Ù„Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯
#    def __init__(self, **kwargs):
#        super().__init__(**kwargs)
#        layout = BoxLayout(orientation='vertical', padding=20, spacing=10)
#        layout.add_widget(Label(text="Ø¬Ø²Ø¦ÛŒØ§Øª ØªÛŒÙ…â€ŒÙ‡Ø§ Ùˆ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª", size_hint_y=None, height=50, font_size='22sp'))
#        
#        back_btn = Button(text="Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯", size_hint_y=None, height=50, background_color=(0.8, 0.2, 0.2, 1))
#        back_btn.bind(on_press=lambda x: self.manager.current = 'main_screen')
#        layout.add_widget(back_btn)
#        
#        self.add_widget(layout)

#class TournamentManager(ScreenManager):
#    def __init__(self, **kwargs):
#        super().__init__(**kwargs)
#        self.add_widget(MainScreen(name='main_screen'))
#        self.add_widget(BracketScreen(name='bracket_screen'))
#        self.add_widget(TeamScreen(name='team_screen'))

#class TournamentApp(App):
#    def build(self):
#        # ØªÙ†Ø¸ÛŒÙ… Ø²Ø¨Ø§Ù† Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ (Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙØ§Ø±Ø³ÛŒ)
#        # Ø¯Ø± Ù…Ø­ÛŒØ· ÙˆØ§Ù‚Ø¹ÛŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø¶Ø§ÙÛŒ Ø¨Ø§Ø´Ø¯
#        self.title = 'Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ù‚Ø§Ø¨Øªâ€ŒÙ‡Ø§'
#        return TournamentManager()

#if __name__ == '__main__':
#    TournamentApp().run()
#    # main.py (Ù†Ø³Ø®Ù‡ Ø§ØµÙ„Ø§Ø­ Ø´Ø¯Ù‡ Ø¨Ø§ Ù…Ù†Ø·Ù‚ Ù‚Ø¯Ø±Øª Ø¨Ø§Ø²ÛŒÚ©Ù†)
#from kivy.app import App
#from kivy.uix.screenmanager import ScreenManager, Screen
#from kivy.uix.boxlayout import BoxLayout
#from kivy.uix.label import Label
#from kivy.uix.button import Button
#from kivy.properties import StringProperty
#from kivy.uix.popup import Popup
#import random # Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù†Ù…Ø±Ø§Øª

# --- Ù…Ø¯Ù„ Ø¯Ø§Ø¯Ù‡ Ùˆ Ù…Ù†Ø·Ù‚ Ù‡Ø³ØªÙ‡ ---

# ØªØ¹Ø±ÛŒÙ ØªÛŒÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±Ø¶ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹
#TEAMS_DATA = {
#    "ØªÛŒÙ… Ø§Ù„Ù": {"is_league1": True, "gold": 60000, "points": 600, "players": {
#        "P1": {"name": "Ø¹Ù„ÛŒ Ú©Ø±ÛŒÙ…ÛŒ", "power": 150, "performance_scores": []},
#        "P2": {"name": "Ø±Ø¶Ø§ Ø§Ø­Ù…Ø¯ÛŒ", "power": 130, "performance_scores": []}
#    }},
#    "ØªÛŒÙ… Ø¨": {"is_league1": False, "gold": 50000, "points": 500, "players": {
#        "P3": {"name": "Ø³Ø§Ø±Ø§ Ù…Ø­Ù…Ø¯ÛŒ", "power": 180, "performance_scores": []},
#        "P4": {"name": "Ù…Ù‡Ø¯ÛŒ Ù†ÙˆØ±ÛŒ", "power": 140, "performance_scores": []}
#    }},
#    # ... 14 ØªÛŒÙ… Ø¯ÛŒÚ¯Ø±
#}

#class TournamentLogic:
#    @staticmethod
#    def calculate_power_adjustment(average_score):
#        """Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ù…Ø±Ù‡ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¨Ø§Ø²ÛŒÚ©Ù†ØŒ ØªØ¹Ø¯ÛŒÙ„ Ù‚Ø¯Ø±Øª Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯."""
#        if average_score >= 8:
#            return int(average_score * 100) # 8 * 100 = 800 Ø§Ø¶Ø§ÙÙ‡
#        elif 7 <= average_score < 8:
#            return int(average_score * 50)  # 7.5 * 50 = 375 Ø§Ø¶Ø§ÙÙ‡
#        elif 5 <= average_score < 7:
#            return int(average_score * 10)  # 6 * 10 = 60 Ø§Ø¶Ø§ÙÙ‡
#        elif 3 <= average_score < 5:
#            return int(average_score * -10) # 4 * -10 = -40 Ú©Ø³Ø±
#        else: # Ù†Ù…Ø±Ù‡ Ø²ÛŒØ± 3
#            return int(average_score * -10) # 2 * -10 = -20 Ú©Ø³Ø±
#    
#    @staticmethod
#    def apply_monthly_updates(team_data):
#        """Ù…Ù†Ø·Ù‚ ØªØ¹Ø¯ÛŒÙ„ Ù‚Ø¯Ø±Øª Ùˆ Ø¬ÙˆØ§ÛŒØ² Ù¾Ø§ÛŒÙ‡ Ù¾Ø³ Ø§Ø² Ù¾Ø§ÛŒØ§Ù† Ù„ÛŒÚ¯/Ù…Ø§Ù‡."""
#        
#        # 1. Ø§Ø¹Ù…Ø§Ù„ ØªØ¹Ø¯ÛŒÙ„ Ù‚Ø¯Ø±Øª Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ù…Ø±Ø§Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†
#        for team_name, team_info in team_data.items():
#            for player_id, player_info in team_info["players"].items():
#                if player_info["performance_scores"]:
#                    avg_score = sum(player_info["performance_scores"]) / len(player_info["performance_scores"])
#                    adjustment = TournamentLogic.calculate_power_adjustment(avg_score)
#                    
#                    # Ø§Ø¹Ù…Ø§Ù„ ØªØ¹Ø¯ÛŒÙ„ Ù‚Ø¯Ø±Øª
#                    new_power = player_info["power"] + adjustment
#                    
#                    # Ø§Ø¹Ù…Ø§Ù„ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª (Cap) Ø¨Ø±Ø§ÛŒ Ú¯Ù„Ø¯ Ùˆ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª ØªÛŒÙ… (Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø±Ø§ÛŒ Ú¯Ù„Ø¯/Ø§Ù…ØªÛŒØ§Ø² Ø§Ø³ØªØŒ Ù†Ù‡ Ù‚Ø¯Ø±Øª)
#                    # Ù†Ú©ØªÙ‡: Ù‚Ø§Ù†ÙˆÙ† Cap Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú¯Ù„Ø¯/Ø§Ù…ØªÛŒØ§Ø² Ø§Ø³ØªØŒ Ù†Ù‡ Ù‚Ø¯Ø±Øª Ø¨Ø§Ø²ÛŒÚ©Ù†. Ù‚Ø¯Ø±Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§Ø¨Ø¯.
#                    
#                    player_info["power"] = max(0, new_power) # Ù‚Ø¯Ø±Øª Ù†Ø¨Ø§ÛŒØ¯ Ù…Ù†ÙÛŒ Ø´ÙˆØ¯
#                    
#                    # Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù†Ù…Ø±Ø§Øª Ø¨Ø±Ø§ÛŒ Ù…Ø§Ù‡ Ø¨Ø¹Ø¯
#                    player_info["performance_scores"] = []
#                    
#                    print(f"Ø¨Ø§Ø²ÛŒÚ©Ù† {player_info['name']} (Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†: {avg_score:.2f}) ØªØ¹Ø¯ÛŒÙ„ Ù‚Ø¯Ø±Øª: {adjustment}. Ù‚Ø¯Ø±Øª Ø¬Ø¯ÛŒØ¯: {player_info['power']}")

#        # 2. Ø§Ø¹Ù…Ø§Ù„ Ø¬ÙˆØ§ÛŒØ² Ù¾Ø§ÛŒÙ‡ Ù„ÛŒÚ¯ (Ø¨Ù‡ ØµÙˆØ±Øª Ù…Ø«Ø§Ù„ Ø¨Ø±Ø§ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯)
#        if "ØªÛŒÙ… Ø§Ù„Ù" in team_data:
#            # Ø±ØªØ¨Ù‡ 1 ÙØ±Ø¶ÛŒ
#            team_data["ØªÛŒÙ… Ø§Ù„Ù"]["gold"] += 50000
#            team_data["ØªÛŒÙ… Ø§Ù„Ù"]["points"] += 500
#        
#        if "ØªÛŒÙ… Ø¨" in team_data:
#            # Ø±ØªØ¨Ù‡ 2 ÙØ±Ø¶ÛŒ
#            team_data["ØªÛŒÙ… Ø¨"]["gold"] += 30000
#            team_data["ØªÛŒÙ… Ø¨"]["points"] += 300

#        # 3. ØªØ¹Ø¯ÛŒÙ„ Ø¬ÙˆØ§ÛŒØ² Ù„ÛŒÚ¯ Û± Ùˆ Ø§Ø¹Ù…Ø§Ù„ Ù‚Ø§Ù†ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª (Cap)
#        for team_name, team_info in team_data.items():
#            if team_info["is_league1"]:
#                team_info["gold"] = max(5000, team_info["gold"] - 5000) # Ú©Ø³Ø± 5000 Ùˆ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª 5000
#                team_info["points"] = max(50, team_info["points"] - 50)   # Ú©Ø³Ø± 50 Ùˆ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª 50
#                
#        return team_data


# --- ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Kivy ---

#class MainScreen(Screen):
#    # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÛŒÚ© Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚ Ù…Ø§Ù‡Ø§Ù†Ù‡
#    def __init__(self, **kwargs):
#        super().__init__(**kwargs)
#        main_layout = BoxLayout(orientation='vertical', padding=20, spacing=15)
#        
#        title = Label(text="Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ù„ÛŒÚ¯ Ùˆ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ", size_hint_y=None, height=50, font_size='24sp')
#        self.status_label = Label(text="Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø¢ØºØ§Ø² Ù‡ÙØªÙ‡ Ø¬Ø¯ÛŒØ¯...", size_hint_y=None, height=40, font_size='16sp')
#        
#        btn_bracket = Button(text="Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ", font_size='18sp', background_color=(0.2, 0.6, 0.8, 1))
#        btn_bracket.bind(on_press=lambda x: self.manager.current = 'bracket_screen')
#        
#        # Ø¯Ú©Ù…Ù‡ Ø¬Ø¯ÛŒØ¯: Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ø§ÛŒØ§Ù† Ù…Ø§Ù‡ Ùˆ Ø§Ø¹Ù…Ø§Ù„ Ù…Ø­Ø§Ø³Ø¨Ø§Øª
#        btn_final_update = Button(text="Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ø§ÛŒØ§Ù† Ù…Ø§Ù‡ (Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚)", font_size='18sp', background_color=(0.9, 0.4, 0.1, 1))
#        btn_final_update.bind(on_press=self.run_monthly_update)
#        
#        btn_teams = Button(text="Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§", font_size='18sp', background_color=(0.3, 0.7, 0.4, 1))
#        btn_teams.bind(on_press=lambda x: self.manager.current = 'team_screen') 
#        
#        main_layout.add_widget(title)
#        main_layout.add_widget(self.status_label)
#        main_layout.add_widget(btn_bracket)
#        main_layout.add_widget(btn_teams)
#        main_layout.add_widget(btn_final_update)
#        
#        self.add_widget(main_layout)

#    def run_monthly_update(self, instance):
#        global TEAMS_DATA
#        
#        # Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ø«Ø¨Øª Ù†Ù…Ø±Ø§Øª ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„
#        for team_name, team_info in TEAMS_DATA.items():
#            for player_id, player_info in team_info["players"].items():
#                # ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ù‡Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† 4 Ø¨Ø§Ø²ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ù…Ø§Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª
#                player_info["performance_scores"] = [random.randint(1, 10) for _ in range(4)]

#        # Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚ Ø§ØµÙ„ÛŒ
#        TEAMS_DATA = TournamentLogic.apply_monthly_updates(TEAMS_DATA)
#        
#        # Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡ Ø¯Ø± ÛŒÚ© Ù¾Ø§Ù¾â€ŒØ¢Ù¾
#        popup_content = BoxLayout(orientation='vertical', padding=10, spacing=10)
#        popup_content.add_widget(Label(text="ØªØ¹Ø¯ÛŒÙ„Ø§Øª Ù…Ø§Ù‡Ø§Ù†Ù‡ Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯!", font_size='18sp'))
#        
#        # Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª ÛŒÚ© ØªÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù†
#        team_a_info = TEAMS_DATA.get("ØªÛŒÙ… Ø§Ù„Ù", {})
#        if team_a_info:
#            msg = (f"ØªÛŒÙ… Ø§Ù„Ù (Ù„ÛŒÚ¯ Û±):\n"
#                   f"Ú¯Ù„Ø¯ Ø¬Ø¯ÛŒØ¯: {team_a_info['gold']}, Ø§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÛŒØ¯: {team_a_info['points']}\n"
#                   f"Ù‚Ø¯Ø±Øª Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§ÙˆÙ„ (P1) Ù¾Ø³ Ø§Ø² ØªØ¹Ø¯ÛŒÙ„: {team_a_info['players']['P1']['power']}")
#            popup_content.add_widget(Label(text=msg))
#            
#        popup = Popup(title='Ù†ØªÛŒØ¬Ù‡', content=popup_content,
#                      size_hint=(0.8, 0.5))
#        popup.open()


#class BracketScreen(Screen):
#    # ... (Ø¨Ø§Ù‚ÛŒ Ú©Ø¯ Ù…Ø´Ø§Ø¨Ù‡ Ù‚Ø¨Ù„)
#    def __init__(self, **kwargs):
#        super().__init__(**kwargs)
#        layout = BoxLayout(orientation='vertical', padding=20, spacing=10)
#        layout.add_widget(Label(text="Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ", size_hint_y=None, height=50, font_size='22sp'))
#        cup_display = Label(text="Ù…Ø±Ø§Ø­Ù„ Ø­Ø°ÙÛŒ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø¯Ø± KV", font_size='14sp')
#        layout.add_widget(cup_display)
#        back_btn = Button(text="Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯", size_hint_y=None, height=50, background_color=(0.8, 0.2, 0.2, 1))
#        back_btn.bind(on_press=lambda x: self.manager.current = 'main_screen')
#        layout.add_widget(back_btn)
#        self.add_widget(layout
#            from typing import Dict, List, Any
#from collections import defaultdict
#import json

# ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ø§ÛŒÙ† Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ùˆ Ø¯Ø± main.py ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª
#TEAMS_DATA: Dict[str, Any] = {
#    "TeamA": {
#        "players": {
#            "P1": {"power": 1000, "score": 500, "gold": 10000, "performance_scores": [9.0, 8.5, 7.0]},
#            "P2": {"power": 1200, "score": 600, "gold": 12000, "performance_scores": [6.5, 6.0, 5.5]},
#            "P3": {"power": 900, "score": 400, "gold": 9000, "performance_scores": [4.0, 3.5, 4.5]},
#            "P4": {"power": 1100, "score": 550, "gold": 11000, "performance_scores": [1.0, 2.0, 1.5]},
#        }
#    },
#    "TeamB": {
#        "players": {
#            "P5": {"power": 1300, "score": 700, "gold": 13000, "performance_scores": [9.5, 9.0, 9.2]},
#            "P6": {"power": 1050, "score": 520, "gold": 10500, "performance_scores": [7.5, 7.0, 8.0]},
#            "P7": {"power": 1150, "score": 580, "gold": 11500, "performance_scores": [5.0, 5.5, 6.0]},
#            "P8": {"power": 950, "score": 450, "gold": 9500, "performance_scores": [2.5, 2.8, 3.0]},
#        }
#    },
#    # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨ÛŒØ´ØªØ± Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ø±ØªØ¨Ù‡ Ø¨Ù†Ø¯ÛŒ 10 ØªØ§ÛŒÛŒ
#    "TeamC": {
#        "players": {
#            "P9": {"power": 1000, "score": 500, "gold": 10000, "performance_scores": [8.8, 8.6, 8.9]},
#            "P10": {"power": 1200, "score": 600, "gold": 12000, "performance_scores": [7.8, 7.9, 8.1]},
#            "P11": {"power": 900, "score": 400, "gold": 9000, "performance_scores": [6.8, 6.9, 7.1]},
#            "P12": {"power": 1100, "score": 550, "gold": 11000, "performance_scores": [5.8, 5.9, 6.1]},
#            "P13": {"power": 1000, "score": 500, "gold": 10000, "performance_scores": [4.8, 4.9, 5.1]},
#            "P14": {"power": 1200, "score": 600, "gold": 12000, "performance_scores": [3.8, 3.9, 4.1]},
#        }
#    }
#}

#class TournamentLogic:
#    def __init__(self, teams_data: Dict[str, Any]):
#        self.teams_data = teams_data
#        self.power_adjustment_cap = 1000 # Ø¨Ø±Ø§ÛŒ Ø­ÙØ¸ Cap Ù‚Ø¨Ù„ÛŒ

#    # ØªØ§Ø¨Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªØ¹Ø¯ÛŒÙ„ Ù‚Ø¯Ø±Øª (Ú©Ù‡ Ù‚Ø¨Ù„Ø§ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¨ÙˆØ¯)
#    def calculate_power_adjustment(self, avg_score: float) -> int:
#        if avg_score >= 8.0:
#            return int(avg_score * 100)  # Ù†Ù…Ø±Ø§Øª Ø¨Ø§Ù„Ø§ 7
#        elif 5.0 <= avg_score < 8.0:
#            return int(avg_score * 50)   # Ù†Ù…Ø±Ø§Øª 5 ØªØ§ 7
#        elif 3.0 <= avg_score < 5.0:
#            return int(avg_score * 10)   # Ù†Ù…Ø±Ø§Øª 3 ØªØ§ 5
#        else: # avg_score < 3.0
#            return -int(avg_score * 10)  # Ù†Ù…Ø±Ø§Øª Ø²ÛŒØ± 3

#    def apply_monthly_updates(self):
#        # --- ÙØ§Ø² 1: Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªØ¹Ø¯ÛŒÙ„ Ù‚Ø¯Ø±Øª (Ø§Ø² Ù‚ÙˆØ§Ù†ÛŒÙ† Ù‚Ø¨Ù„ÛŒ) ---
#        for team_name, team_info in self.teams_data.items():
#            for player_id, p_data in team_info["players"].items():
#                scores = p_data.get("performance_scores", [])
#                if scores:
#                    avg_score = sum(scores) / len(scores)
#                    adjustment = self.calculate_power_adjustment(avg_score)
#                    
#                    # Ø§Ø¹Ù…Ø§Ù„ ØªØ¹Ø¯ÛŒÙ„ Ù‚Ø¯Ø±Øª Ø¨Ø§ Ø±Ø¹Ø§ÛŒØª Cap
#                    new_power = p_data["power"] + adjustment
#                    p_data["power"] = max(100, min(new_power, p_data["power"] + self.power_adjustment_cap)) # ÙØ±Ø¶ Ø¨Ø± Cap 1000

#        # --- ÙØ§Ø² 2: Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø±ØªØ¨Ù‡ Ø¨Ù†Ø¯ÛŒ ØªÙˆÙ¾ Ø·Ù„Ø§ Ùˆ Ø¬ÙˆØ§ÛŒØ² (Ù…Ù†Ø·Ù‚ Ø¬Ø¯ÛŒØ¯) ---
#        
#        # 1. Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
#        player_rankings: List[Dict[str, Any]] = []
#        for team_name, team_info in self.teams_data.items():
#            for player_id, p_data in team_info["players"].items():
#                scores = p_data.get("performance_scores", [])
#                avg_score = sum(scores) / len(scores) if scores else 0.0
#                
#                player_rankings.append({
#                    "team": team_name,
#                    "player_id": player_id,
#                    "avg_score": avg_score,
#                    "initial_score": p_data["score"],
#                    "initial_gold": p_data["gold"],
#                })

#        # 2. Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù†Ù…Ø±Ù‡ (Descending)
#        player_rankings.sort(key=lambda x: x["avg_score"], reverse=True)

#        # 3. ØªØ¹Ø±ÛŒÙ Ø¬ÙˆØ§ÛŒØ² ØªÙˆÙ¾ Ø·Ù„Ø§
#        ballon_dor_rewards = {
#            1: {"cup": 1, "score_bonus": 300, "gold_bonus": 160000},
#            2: {"cup": 0, "score_bonus": 150, "gold_bonus": 150000},
#            3: {"cup": 0, "score_bonus": 140, "gold_bonus": 140000},
#            4: {"cup": 0, "score_bonus": 130, "gold_bonus": 130000},
#            5: {"cup": 0, "score_bonus": 120, "gold_bonus": 120000},
#            6: {"cup": 0, "score_bonus": 110, "gold_bonus": 110000},
#            7: {"cup": 0, "score_bonus": 100, "gold_bonus": 100000},
#            8: {"cup": 0, "score_bonus": 90, "gold_bonus": 90000},
#            9: {"cup": 0, "score_bonus": 80, "gold_bonus": 80000},
#            10: {"cup": 0, "score_bonus": 70, "gold_bonus": 70000}, # Ù†Ú©ØªÙ‡: Ø§Ù…ØªÛŒØ§Ø² 170 Ø¨ÙˆØ¯ Ú©Ù‡ Ø¨Ù‡ 70 Ø§ØµÙ„Ø§Ø­ Ø´Ø¯
#        }
#        
#        # 4. Ø§Ø¹Ù…Ø§Ù„ Ø¬ÙˆØ§ÛŒØ² Ø¨Ù‡ 10 Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø±ØªØ±
#        print("\n--- Ú¯Ø²Ø§Ø±Ø´ Ø¬ÙˆØ§ÛŒØ² ØªÙˆÙ¾ Ø·Ù„Ø§ (Ballon d'Or Awards) ---")
#        for rank in range(1, min(11, len(player_rankings) + 1)):
#            player = player_rankings[rank - 1]
#            rewards = ballon_dor_rewards[rank]
#            
#            team = player["team"]
#            player_id = player["player_id"]
#            
#            # Ø§Ø¹Ù…Ø§Ù„ Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ø·Ù„Ø§
#            self.teams_data[team]["players"][player_id]["score"] += rewards["score_bonus"]
#            self.teams_data[team]["players"][player_id]["gold"] += rewards["gold_bonus"]
#            
#            # Ú¯Ø²Ø§Ø±Ø´â€ŒØ¯Ù‡ÛŒ
#            print(f"Ø±ØªØ¨Ù‡ {rank}: Ø¨Ø§Ø²ÛŒÚ©Ù† {player_id} Ø§Ø² ØªÛŒÙ… {team} (Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù†Ù…Ø±Ù‡: {player['avg_score']:.2f})")
#            print(f"  > Ù¾Ø§Ø¯Ø§Ø´: Ø§Ù…ØªÛŒØ§Ø² +{rewards['score_bonus']}, Ø·Ù„Ø§ +{rewards['gold_bonus']/1000:.0f}K")
#            if rewards["cup"] == 1:
#                 print(f"  > Ø¬Ø§ÛŒØ²Ù‡ ÙˆÛŒÚ˜Ù‡: Ø¯Ø±ÛŒØ§ÙØª {rewards['cup']} Ø¬Ø§Ù…!")
#                 
#            # Ø§Ø¹Ù…Ø§Ù„ Ø¬Ø§Ù… (Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ù†Ù…Ø§Ø¯ ÛŒØ§ Ø§ÙØ²Ø§ÛŒØ´ Ù‚Ø¯Ø±Øª Ù…ÙˆÙ‚Øª/Ø¯Ø§Ø¦Ù…ÛŒ - Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…)
#            if rewards["cup"] == 1:
#                 self.teams_data[team]["players"][player_id]["score"] += 500 # ÛŒÚ© Ù¾Ø§Ø¯Ø§Ø´ Ù†Ù…Ø§Ø¯ÛŒÙ† Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…

#        print("--------------------------------------------------")
#        
#        # Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± UIØŒ Ø¨Ø§ÛŒØ¯ TEAMS_DATA Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÚ© Ø±Ø´ØªÙ‡ Ù‚Ø§Ø¨Ù„ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯
#        return json.dumps(self.teams_data, indent=4, ensure_ascii=False)

# --- Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚ ---
#logic = TournamentLogic(TEAMS_DATA)
#final_data_json = logic.apply_monthly_updates()

# Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬ Ù†Ù‡Ø§ÛŒÛŒ (ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ ØªØ£ÛŒÛŒØ¯ Ø¯Ø± Ù…Ø­ÛŒØ· Ù¾Ø§ÛŒØªÙˆÙ†)
# print(final_data_json)
# Ø¬Ø¯ÙˆÙ„ Ø¬ÙˆØ§ÛŒØ² Ø¬Ø¯ÛŒØ¯ ØªÙˆÙ¾ Ø·Ù„Ø§
#ball_d_or_awards = {
#    1: {"trophy": 1, "points": 300, "gold": 160},
#    2: {"points": 150, "gold": 150},
#    3: {"points": 140, "gold": 140},
#    4: {"points": 130, "gold": 130},
#    5: {"points": 120, "gold": 120},
#    6: {"points": 110, "gold": 110},
#    7: {"points": 100, "gold": 100},
#    8: {"points": 90, "gold": 90},
#    9: {"points": 80, "gold": 80},
#    10: {"points": 170, "gold": 70}  # Ø§Ù…ØªÛŒØ§Ø² Û±Û·Û° Ùˆ Ø·Ù„Ø§ Û·Û° Ø·Ø¨Ù‚ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¬Ø¯ÛŒØ¯
#}

# ÛŒÚ© Ù„ÛŒØ³Øª ÙØ±Ø¶ÛŒ Ø§Ø² Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ø¹Ù…Ø§Ù„ Ø¬ÙˆØ§ÛŒØ²
#players = [
#    {"name": "Player A", "ball_d_or_rank": 1},
#    {"name": "Player B", "ball_d_or_rank": 5},
#    {"name": "Player C", "ball_d_or_rank": 10},
#    {"name": "Player D", "ball_d_or_rank": 12}, # Ø¨Ø§Ø²ÛŒÚ©Ù†ÛŒ Ú©Ù‡ Ø¯Ø± Ù„ÛŒØ³Øª Û±Û° Ù†ÙØ± Ù†ÛŒØ³Øª
#]

#print("--- Ø¬ÙˆØ§ÛŒØ² Ø¬Ø¯ÛŒØ¯ ØªÙˆÙ¾ Ø·Ù„Ø§ (Ball d'Or Awards) ---")
#for rank, awards in ball_d_or_awards.items():
#    print(f"Ø±ØªØ¨Ù‡ {rank}: Ø§Ù…ØªÛŒØ§Ø²: {awards.get('points', 0)}, Ø·Ù„Ø§: {awards.get('gold', 0)}, Ø¬Ø§Ù…: {awards.get('trophy', 0)}")

#print("\n--- Ø§Ø¹Ù…Ø§Ù„ Ø¬ÙˆØ§ÛŒØ² Ø¨Ø± Ø±ÙˆÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ÙØ±Ø¶ÛŒ ---")
#for player in players:
#    rank = player["ball_d_or_rank"]
#    if rank in ball_d_or_awards:
#        awards = ball_d_or_awards[rank]
#        player["awarded_points"] = awards["points"]
#        player["awarded_gold"] = awards["gold"]
#        player["awarded_trophy"] = awards.get("trophy", 0)
#        print(f"Ø¨Ø§Ø²ÛŒÚ©Ù†: {player['name']} (Ø±ØªØ¨Ù‡ {rank}) - Ù¾Ø§Ø¯Ø§Ø´ Ø¯Ø±ÛŒØ§ÙØªÛŒ: {player['awarded_points']} Ø§Ù…ØªÛŒØ§Ø² Ùˆ {player['awarded_gold']} Ú©Ø§ Ú¯Ù„Ø¯.")
#    else:
#        print(f"Ø¨Ø§Ø²ÛŒÚ©Ù†: {player['name']} (Ø±ØªØ¨Ù‡ {rank}) - Ø¯Ø± Ù„ÛŒØ³Øª Û±Û° Ù†ÙØ± Ø¨Ø±ØªØ± Ù†ÛŒØ³Øª Ùˆ Ù¾Ø§Ø¯Ø§Ø´ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.")
#  buildozer init# ÙØ§ÛŒÙ„ my.kv Ø¨Ø±Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ø¸Ø§Ù‡Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯

#<SimpleKivyApp>:
#    # ØªØ¹Ø±ÛŒÙ Ø±ÙØªØ§Ø± ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ†
#    label: root.label
#    
#    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø±Ø§ÛŒ ÙˆÛŒØ¬Øª Ø±ÛŒØ´Ù‡ (Root Widget) Ú©Ù‡ Ø¯Ø± Ù¾Ø§ÛŒØªÙˆÙ† Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 10
#        spacing: 10
#        
#        Label:
#            # Ø§ÛŒÙ† Ù…ØªØºÛŒØ± Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ù‡ self.message Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† ÙˆØµÙ„ Ø§Ø³Øª
#            text: root.message 
#            font_size: '30sp'
#            id: label
#            
#        Button:
#            text: "Ú©Ù„ÛŒÚ© Ú©Ù†"
#            size_hint_y: None
#            height: dp(50)
#            on_press: app.on_button_press(self)
#:import Factory kivy.factory.Factory

#<FootballAppManager>:
#    # ØªØ¹Ø±ÛŒÙ ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ø¨Ø§ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¢Ø³Ø§Ù†
#    LoginScreen:
#        name: 'login'
#    Screen:
#        name: 'verify_code'
#        id: verify_code_screen
#        Label:
#            text: 'Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯'
#            size_hint: 1, 0.2
#            pos_hint: {'center_x': 0.5, 'top': 0.95}
#            font_size: 20
#        TextInput:
#            id: code_input
#            hint_text: "Ú©Ø¯ 4 Ø±Ù‚Ù…ÛŒ (Ù…Ø«Ø§Ù„: 1234)"
#            size_hint: 0.8, 0.1
#            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
#            on_text: root.verification_code = self.text
#            input_filter: 'int'
#            multiline: False
#        Label:
#            text: root.error_message
#            color: 1, 0, 0, 1  # Ù‚Ø±Ù…Ø²
#            size_hint: 1, 0.1
#            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
#        Button:
#            text: 'ØªØ£ÛŒÛŒØ¯ Ú©Ø¯'
#            size_hint: 0.6, 0.1
#            pos_hint: {'center_x': 0.5, 'y': 0.1}
#            on_release: root.verify_code_action()
#            
#    TeamSetupScreen:
#        name: 'team_setup'
#    HomeScreen:
#        name: 'home'
#    LeagueScreen:
#        name: 'league'
#    PlayersScreen:
#        name: 'players'
#    GeneralScreen:
#        name: 'general'
#    TransfersScreen:
#        name: 'transfers'
#    CupScreen:
#        name: 'cup'
#    TreasuryScreen:
#        name: 'treasury'

# ===============================================================
# Ø·Ø±Ø§Ø­ÛŒ ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ
# ===============================================================

#<LoginScreen>:
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 15

#        Label:
#            text: 'ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…'
#            font_size: 30
#            size_hint_y: None
#            height: 50

#        Label:
#            text: 'Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯'
#            size_hint_y: None
#            height: 30
#            
#        TextInput:
#            hint_text: "Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"
#            multiline: False
#            size_hint_y: None
#            height: 50
#            on_text: root.phone_number = self.text
#            input_filter: 'int'

#        Button:
#            text: 'Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯ ØªØ£ÛŒÛŒØ¯'
#            size_hint_y: None
#            height: 50
#            on_release: root.submit_phone()
#            
#        Label:
#            text: root.error_message
#            color: 1, 0, 0, 1
#            size_hint_y: None
#            height: 30


#<TeamSetupScreen>:
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 15
#        
#        Label:
#            text: 'Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø§Ù… ØªÛŒÙ…'
#            font_size: 30
#            size_hint_y: None
#            height: 50

#        TextInput:
#            hint_text: "Ù†Ø§Ù… ØªÛŒÙ… Ø´Ù…Ø§ (Ù…Ø«Ø§Ù„: Lion FC)"
#            multiline: False
#            size_hint_y: None
#            height: 50
#            on_text: root.team_name = self.text

#        Label:
#            text: root.error_message
#            color: 1, 0, 0, 1
#            size_hint_y: None
#            height: 30

#        Button:
#            text: 'ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ùˆ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ'
#            size_hint_y: None
#            height: 50
#            on_release: root.finalize_setup()

# ===============================================================
# Ø·Ø±Ø§Ø­ÛŒ ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ (Navigation Structure)
# ===============================================================

#<HomeScreen>:
#    BoxLayout:
#        orientation: 'vertical'
#        
#        ActionBar:
#            title: 'ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ'
#            ActionView:
#                ActionPrevious:
#                    title: 'Ù…Ù†Ùˆ'
#                    on_release: app.root.get_screen('home').ids.nav_drawer.set_state('open')
#                ActionOverflow:
#                    ActionMenuItem:
#                        text: 'Ø®Ø±ÙˆØ¬'
#                        on_release: app.root.current = 'login'

#        MDNavigationLayout: # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÛŒÚ© Ù„Ø§ÛŒÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¨Ù‡ØªØ±
#            id: nav_layout
#            
#            MDNavigationDrawer:
#                id: nav_drawer
#                side: "left"
#                separator_image: 'data/separator.png' # Ø§Ú¯Ø± ØªØµÙˆÛŒØ±ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŒ Ø§ÛŒÙ† Ø®Ø· Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯
#                
#                MDNavigationDrawerHeader:
#                    text: "Ù…Ù†Ùˆ Ø§ØµÙ„ÛŒ"
#                
#                MDNavigationDrawerItem:
#                    text: "Ù„ÛŒÚ¯"
#                    on_release: app.root.current = 'league'
#                MDNavigationDrawerItem:
#                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
#                    on_release: app.root.current = 'players'
#                MDNavigationDrawerItem:
#                    text: "Ø¹Ù…ÙˆÙ…ÛŒ"
#                    on_release: app.root.current = 'general'
#                MDNavigationDrawerItem:
#                    text: "Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
#                    on_release: app.root.current = 'transfers'
#                MDNavigationDrawerItem:
#                    text: "Ø¬Ø§Ù…"
#                    on_release: app.root.current = 'cup'
#                MDNavigationDrawerItem:
#                    text: "Ø®Ø²Ø§Ù†Ù‡"
#                    on_release: app.root.current = 'treasury'
#        
#        BoxLayout: # Ù‚Ø³Ù…Øª Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ ØµÙØ­Ù‡ (Ú©Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø®Ø§Ù„ÛŒ Ø§Ø³Øª)
#            Label:
#                text: "Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!"
#                font_size: 24


# Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† ØµÙØ­Ù‡ØŒ Ú†ÙˆÙ† Ø§Ø² Material Design (MD) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ØŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡:
# pip install kivymd
# Ùˆ ØªØºÛŒÛŒØ± Ù…ØªØ¯Ù‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¨Ù‡ Ø³Ø¨Ú© MD Ø¯Ø§Ø±ÛŒØ¯.
# Ø§Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒØŒ Ù…Ù† Ø§Ø² Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ùˆ Ø¨Ø®Ø´ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø±Ø§ Ø¨Ø§ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Kivy Ú©Ù…ÛŒ Ø§ØµÙ„Ø§Ø­ Ù…ÛŒâ€ŒÚ©Ù†Ù…:
#:import Factory kivy.factory.Factory
#:import get_screen app.root.get_screen # Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ ScreenManager

# ===============================================================
# Ù„Ø§ÛŒÙ‡ Ø±ÛŒØ´Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø¯Ø± Ø¨Ø§Ù„Ø§ (RootLayout)
# ===============================================================

#<RootLayout>:
#    # Ø§ÛŒÙ† Ù‡Ù…Ø§Ù† ScreenManager Ø§ØµÙ„ÛŒ Ø´Ù…Ø§Ø³Øª Ú©Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¨Ù‡ Ø¨Ø¹Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
#    orientation: 'vertical'
#    
#    # 1. Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ (Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø±Ø§ÛŒÛŒ)
#    BoxLayout:
#        size_hint_y: None
#        height: 50
#        canvas.before:
#            Color:
#                rgba: 0.1, 0.1, 0.5, 1  # Ø±Ù†Ú¯ Ø¢Ø¨ÛŒ ØªÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ§Ø±
#            Rectangle:
#                pos: self.pos
#                size: self.size
#        
#        Label:
#            text: "Ø¯Ø§Ø±Ø§ÛŒÛŒ ÙØ¹Ù„ÛŒ:"
#            size_hint_x: 0.3
#            color: 1, 1, 1, 1
#            font_size: 18
#            
#        Label:
#            # Ù†Ù…Ø§ÛŒØ´ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø§Ø±Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± RootLayout ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª
#            text: str(root.current_treasury) + " ØªÙˆÙ…Ø§Ù†" 
#            id: treasury_label
#            size_hint_x: 0.7
#            color: 1, 1, 0.5, 1 # Ø²Ø±Ø¯ Ø±ÙˆØ´Ù†
#            font_size: 20
#            bold: True
#            text_size: self.size
#            valign: 'middle'
#            halign: 'left'

#    # 2. ScreenManager (Ú©Ù‡ Ø´Ø§Ù…Ù„ ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ø§Ø³Øª)
#    FootballAppManager:
#        id: manager
#        size_hint: 1, 1
#        pos_hint: {'top': 1} # Ø¨Ø±Ø§ÛŒ Ú†Ø³Ø¨ÛŒØ¯Ù† Ø²ÛŒØ± Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ

# ===============================================================
# ØªØ¹Ø±ÛŒÙ Ù…Ø¬Ø¯Ø¯ ScreenManager Ùˆ ØµÙØ­Ø§Øª (Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± RootLayout)
# ===============================================================
# (Ø¨Ù‚ÛŒÙ‡ ØªØ¹Ø§Ø±ÛŒÙ ØµÙØ­Ø§Øª Ø§Ø² Ù…Ø«Ø§Ù„ Ù‚Ø¨Ù„ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ú©Ù¾ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ø§Ù…Ø§ Ù…Ø§ ScreenManager Ø±Ø§ FootballAppManager Ù…ÛŒâ€ŒÙ†Ø§Ù…ÛŒÙ…)

#<FootballAppManager>:
#    # ... (ØªØ¹Ø§Ø±ÛŒÙ LoginScreen, TeamSetupScreen, Ùˆ Ø¨Ù‚ÛŒÙ‡ ØµÙØ­Ø§Øª Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) ...
#    
#    LoginScreen:
#        name: 'login'
#    Screen: # ØµÙØ­Ù‡ Ú©Ø¯ Ø¯Ù‡ÛŒ
#        name: 'verify_code'
#        # ... (Ø¨Ø§Ù‚ÛŒ Ú©Ø¯ ØµÙØ­Ù‡ Ú©Ø¯ Ø¯Ù‡ÛŒ) ...
#    TeamSetupScreen:
#        name: 'team_setup'
#    
#    # ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (HomeScreen) - Ø·Ø±Ø§Ø­ÛŒ Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª
#    HomeScreen:
#        name: 'home'
#        BoxLayout:
#            orientation: 'vertical'
#            padding: 10
#            spacing: 10
#            
#            # Ø¨Ø®Ø´ 1: Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø± (Ù†Ø§Ù… ØªÛŒÙ… Ùˆ Ø§Ù…ØªÛŒØ§Ø²)
#            BoxLayout:
#                size_hint_y: None
#                height: 100
#                canvas.before:
#                    Color:
#                        rgba: 0.8, 0.8, 0.8, 1
#                    RoundedRectangle:
#                        pos: self.pos
#                        size: self.size
#                        radius: [10,]
#                
#                Label:
#                    text: "ØªÛŒÙ…: " + root.team_name_display
#                    font_size: 22
#                    bold: True
#                    size_hint_x: 0.6
#                
#                Label:
#                    text: "Ø§Ù…ØªÛŒØ§Ø²: " + str(root.team_score_display)
#                    font_size: 20
#                    color: 0, 0.5, 0, 1
#                    size_hint_x: 0.4

#            # Ø¨Ø®Ø´ 2: Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
#            Label:
#                text: "Ø¬Ø¯ÙˆÙ„ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù„ÛŒÚ¯"
#                size_hint_y: None
#                height: 40
#                font_size: 24
#                
#            ScrollView:
#                do_scroll_x: False
#                
#                GridLayout:
#                    cols: 3
#                    spacing: 2
#                    size_hint_y: None
#                    height: self.minimum_height
#                    
#                    # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„
#                    Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
#                    Label: text: "Ù†Ø§Ù… ØªÛŒÙ…" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
#                    Label: text: "Ø§Ù…ØªÛŒØ§Ø²" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
#                    
#                    # Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ (Ø§ÛŒÙ†â€ŒÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…Ù†Ø·Ù‚ Ù¾Ø§ÛŒØªÙˆÙ† Ù¾Ø± Ø´ÙˆÙ†Ø¯)
#                    Label: text: "1"
#                    Label: text: "Super Team A"
#                    Label: text: "12500"
#                    
#                    Label: text: "2"
#                    Label: text: root.team_name_display # Ù†Ù…Ø§ÛŒØ´ ØªÛŒÙ… Ø®ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±
#                    Label: text: str(root.team_score_display)
#                    
#                    Label: text: "3"
#                    Label: text: "Another Team C"
#                    Label: text: "11000"
#                    
#                    # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú†Ù†Ø¯ Ø±Ø¯ÛŒÙ Ø®Ø§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÙˆÙ„
#                    Label: text: "4"
#                    Label: text: "Filler Team D"
#                    Label: text: "9500"
#                    Label: text: "5"
#                    Label: text: "Filler Team E"
#                    Label: text: "9000"
#                    Label: text: "6"
#                    Label: text: "Filler Team F"
#                    Label: text: "8500"


#    # Ø¨Ù‚ÛŒÙ‡ ØµÙØ­Ø§Øª (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±Ø§Øª Ø¹Ù…Ø¯Ù‡ØŒ ÙÙ‚Ø· Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ Ø±Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯ Ú†ÙˆÙ† Ø¯Ø± RootLayout ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡)
#    LeagueScreen:
#        name: 'league'
#        Label: text: "ØµÙØ­Ù‡ Ù„ÛŒÚ¯: Ù†Ù…Ø§ÛŒØ´ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù…"
#    PlayersScreen:
#        name: 'players'
#        Label: text: "ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
#    GeneralScreen:
#        name: 'general'
#        Label: text: "ØµÙØ­Ù‡ Ø¹Ù…ÙˆÙ…ÛŒ"
#    TransfersScreen:
#        name: 'transfers'
#        Label: text: "ØµÙØ­Ù‡ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
#    CupScreen:
#        name: 'cup'
#        Label: text: "ØµÙØ­Ù‡ Ø¬Ø§Ù…: Ù†Ù…Ø§ÛŒØ´ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù…"
#    TreasuryScreen:
#        name: 'treasury'
#        Label: text: "ØµÙØ­Ù‡ Ø®Ø²Ø§Ù†Ù‡"


# ===============================================================
# Ø¨Ù‚ÛŒÙ‡ ØªØ¹Ø§Ø±ÛŒÙ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ (LoginScreen, TeamSetupScreen, Ùˆ ...)
# ===============================================================
# (Ø§ÛŒÙ† Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ú©Ø¯Ù‡Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¯Ø± main.py Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† ÛŒØ§ Ø§Ø¯ØºØ§Ù… Ú©Ù†ÛŒØ¯)
# LoginScreen Ùˆ TeamSetupScreen Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ ØªØºÛŒÛŒØ± Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ø¯Ø§Ø±Ù†Ø¯ Ú†ÙˆÙ† Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÙ‡ Ø¯Ø§Ø±Ù†Ø¯.
# ... (Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ RootLayout Ùˆ HomeScreen Ø¯Ø³Øªâ€ŒÙ†Ø®ÙˆØ±Ø¯Ù‡ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯) ...

#<LeagueScreen>:
#    name: 'league'
#    league_manager: app.root.get_screen('home').league_manager # Ø§Ú¯Ø± Ø§ÛŒÙ† Ù…ØªØ¯ Ú©Ø§Ø± Ú©Ù†Ø¯

#    BoxLayout:
#        orientation: 'vertical'
#        padding: 10
#        spacing: 10
#        
#        # Ø¯Ú©Ù…Ù‡ ØªØ³Øª Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ
#        MDFlatButton:
#            text: "Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ø¨Ø±Ø¯"
#            on_release: root.simulate_next_game()
#            size_hint_y: None
#            height: 48
#            
#        MDTabs:
#            id: league_tabs
#            size_hint_y: 1
#            
#            # --- ØªØ¨ Ø§ÙˆÙ„: Ø¬Ø¯ÙˆÙ„ Ù„ÛŒÚ¯ ---
#            Tab:
#                text: "Ø¬Ø¯ÙˆÙ„ Ù„ÛŒÚ¯"
#                BoxLayout:
#                    orientation: 'vertical'
#                    
#                    ScrollView:
#                        do_scroll_x: False
#                        
#                        GridLayout:
#                            id: league_table_grid
#                            cols: 6
#                            spacing: 2
#                            size_hint_y: None
#                            height: self.minimum_height
#                            
#                            # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„
#                            Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
#                            Label: text: "Ù†Ø§Ù… ØªÛŒÙ…" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
#                            Label: text: "Ø¨Ø§Ø²ÛŒ" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
#                            Label: text: "Ø¨Ø±Ø¯/Ù…Ø³Ø§ÙˆÛŒ/Ø¨Ø§Ø®Øª" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
#                            Label: text: "Ø§Ù…ØªÛŒØ§Ø²" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
#                            Label: text: "Ú¯Ù„Ø¯" ; bold: True; background_color: 0.4, 0.4, 0.7, 1

#                            # Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÙˆÙ„ Ù¾Ø± Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Binding ÛŒØ§ Ú©Ø¯ Ù¾Ø§ÛŒØªÙˆÙ†)
#                            # Ù…Ø«Ù„Ø§Ù‹:
#                            # Label: text: "1"
#                            # Label: text: "Super Team A"
#                            # ...

#            # --- ØªØ¨ Ø¯ÙˆÙ…: Ø¬Ø¯ÙˆÙ„ Ú¯Ù„Ø²Ù†Ø§Ù† ---
#            Tab:
#                text: "Ø¨Ø±ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù†"
#                ScrollView:
#                    do_scroll_x: False
#                    GridLayout:
#                        cols: 3
#                        spacing: 2
#                        size_hint_y: None
#                        height: self.minimum_height
#                        
#                        # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„ Ú¯Ù„Ø²Ù†Ø§Ù† (ÙÙ‚Ø· Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
#                        Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
#                        Label: text: "Ø¨Ø§Ø²ÛŒÚ©Ù†" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
#                        Label: text: "Ú¯Ù„" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
#                        
#                        # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
#                        Label: text: "1"
#                        Label: text: "Ronaldo 2.0"
#                        Label: text: "25"
#                        Label: text: "2"
#                        Label: text: "Messi Next Gen"
#                        Label: text: "22"

#<PlayersScreen>:
#    name: 'players'
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        Label:
#            text: "ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
#            font_size: 30
#        Label:
#            text: "Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù„ÛŒØ³Øª Ùˆ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ØªÛŒÙ… Ø´Ù…Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯."

# ... (Ø¨Ø§Ù‚ÛŒ ØµÙØ­Ø§Øª) ...
# my.kv
#:import Factory kivy.factory.Factory

# --- ØªØ¹Ø±ÛŒÙ Ú©Ù„ÛŒ Style ---
#<Label@Label>:
#    size_hint_y: None
#    height: 40
#    text_size: self.width, None
#    halign: 'center'
#    valign: 'middle'
#    color: 0, 0, 0, 1 # Ù…ØªÙ† Ø³ÛŒØ§Ù‡

#<Button@Button>:
#    size_hint_y: None
#    height: 60
#    background_color: 0.2, 0.6, 0.8, 1 # Ø¢Ø¨ÛŒ Ø±ÙˆØ´Ù†
#    color: 1, 1, 1, 1 # Ù…ØªÙ† Ø³ÙÛŒØ¯

# --- Screen Manager ---
#ScreenManager:
#    id: sm
#    main: main_screen
#    create_cup: create_cup_screen
#    cup_details: cup_details_screen

# --- 1. ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø¬Ø§Ù… Ù‡Ø§) ---
#Screen:
#    name: 'main'
#    id: main_screen
#    cup_list_layout: cup_list_container

#    BoxLayout:
#        orientation: 'vertical'
#        padding: 10
#        spacing: 10

#        Label:
#            text: "âš½ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø§Ù… Ù‡Ø§ ğŸ†"
#            font_size: 30
#            size_hint_y: None
#            height: 50

#        # Ø¯Ú©Ù…Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯
#        Button:
#            text: "Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯"
#            on_release: app.root.current = 'create_cup'
#            background_color: 0.1, 0.7, 0.1, 1 # Ø³Ø¨Ø²

#        # Ø¸Ø±Ù Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ù„ÛŒØ³Øª Ø¬Ø§Ù… Ù‡Ø§
#        ScrollView:
#            do_scroll_y: True
#            GridLayout:
#                id: cup_list_container
#                cols: 1
#                size_hint_y: None
#                height: self.minimum_height
#                spacing: 5


# --- 2. ØµÙØ­Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯ ---
#Screen:
#    name: 'create_cup'
#    id: create_cup_screen
#    
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 15

#        Label:
#            text: "Ø³Ø§Ø®Øª Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯"
#            font_size: 25
#            size_hint_y: None
#            height: 50

#        TextInput:
#            id: cup_name_input
#            hint_text: "Ù†Ø§Ù… Ø¬Ø§Ù… (Ù…Ø«Ù„Ø§Ù‹ Ø¬Ø§Ù… Ù†ÙˆØ±ÙˆØ²)"
#            multiline: False
#            size_hint_y: None
#            height: 50

#        TextInput:
#            id: entry_fee_input
#            hint_text: "Ù…Ø¨Ù„Øº ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø± Ø­Ø³Ø¨ Ú¯Ù„Ø¯ (Ù…Ø«Ù„Ø§Ù‹ 5000)"
#            multiline: False
#            input_filter: 'int' # ÙÙ‚Ø· Ø¹Ø¯Ø¯ Ù‚Ø¨ÙˆÙ„ Ú©Ù†Ø¯
#            size_hint_y: None
#            height: 50
#            
#        BoxLayout:
#            orientation: 'horizontal'
#            size_hint_y: None
#            height: 60
#            spacing: 15
#            
#            Button:
#                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
#                background_color: 0.8, 0.3, 0.3, 1 # Ù‚Ø±Ù…Ø²
#                on_release: app.root.current = 'main'
#                
#            Button:
#                text: "Ø«Ø¨Øª Ø¬Ø§Ù…"
#                on_release: root.create_button_pressed()
#                background_color: 0.2, 0.6, 0.8, 1 # Ø¢Ø¨ÛŒ


# --- 3. ØµÙØ­Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¬Ø§Ù… ---
#Screen:
#    name: 'cup_details'
#    id: cup_details_screen
#    cup_object: None # ØªÙˆØ³Ø· main.py ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒ Ø´ÙˆØ¯
#    team_list_layout: team_scroll_layout
#    details_layout: details_scroll_layout
#    
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 10
#        spacing: 10

#        # Ø¹Ù†ÙˆØ§Ù†
#        Label:
#            text: "Ø¬Ø²Ø¦ÛŒØ§Øª Ø¬Ø§Ù…"
#            font_size: 28
#            size_hint_y: None
#            height: 50

#        # Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ù„ÛŒ (Ù†Ø§Ù…ØŒ ÙˆØ±ÙˆØ¯ÛŒØŒ ÙˆØ¶Ø¹ÛŒØª)
#        ScrollView:
#            size_hint_y: 0.4
#            do_scroll_y: True
#            GridLayout:
#                id: details_scroll_layout
#                cols: 1
#                size_hint_y: None
#                height: self.minimum_height
#                spacing: 2


#        Label:
#            text: "--- ØªÛŒÙ… Ù‡Ø§ÛŒ Ø´Ø±Ú©Øª Ú©Ù†Ù†Ø¯Ù‡ ---"
#            size_hint_y: None
#            height: 30

#        # Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª ØªÛŒÙ… Ù‡Ø§
#        ScrollView:
#            size_hint_y: 0.6
#            do_scroll_y: True
#            GridLayout:
#                id: team_scroll_layout
#                cols: 1
#                size_hint_y: None
#                height: self.minimum_height
#                spacing: 2

#        Button:
#            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª"
#            background_color: 0.8, 0.3, 0.3, 1 
#            on_release: app.root.current = 'main'
# my.kv

#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import Factory kivy.factory.Factory

# ... (ØªØ¹Ø§Ø±ÛŒÙ Ù‚Ø¨Ù„ÛŒ Ù…Ø§Ù†Ù†Ø¯ HomeScreen, CupScreen Ùˆ ...) ...

#<MonthlyAwardsScreen>:
#    # ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø±ØªØ±ÛŒÙ† Ù‡Ø§
#    name: 'monthly_awards'
#    
#    # Ø²Ù…ÛŒÙ†Ù‡ Ú©Ù„ÛŒ ØµÙØ­Ù‡
#    canvas.before:
#        Color:
#            rgb: 0.05, 0.05, 0.15  # Ø²Ù…ÛŒÙ†Ù‡ Ø¢Ø¨ÛŒ ØªÛŒØ±Ù‡/Ù…Ø´Ú©ÛŒ
#        Rectangle:
#            pos: self.pos
#            size: self.size

#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 15
#        
#        Label:
#            text: "ğŸ† ØªÙ‚Ø¯ÛŒØ± Ø§Ø² Ø¨Ù‡ØªØ±ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù‡ ğŸ†"
#            font_size: 30
#            size_hint_y: None
#            height: 60
#            color: 1, 0.84, 0, 1 # Ø·Ù„Ø§ÛŒÛŒ Ø±ÙˆØ´Ù†

#        # Ù†Ø§Ø­ÛŒÙ‡ Ø§ÛŒ Ú©Ù‡ Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© (Ù„ÛŒØ³Øª Ùˆ ØªØµÙˆÛŒØ±) Ø¯Ø± Ø¢Ù† Ù‚Ø±Ø§Ø± Ù…ÛŒ Ú¯ÛŒØ±Ø¯
#        ScrollView:
#            size_hint_y: 1
#            
#            BoxLayout:
#                id: awards_layout
#                orientation: 'vertical'
#                size_hint_y: None
#                height: self.minimum_height
#                spacing: 5
#                padding: 10
#                canvas.before:
#                    Color:
#                        rgba: 0, 0, 0, 0.4 # Ù¾Ø³ Ø²Ù…ÛŒÙ†Ù‡ Ú©Ù…ÛŒ ØªÛŒØ±Ù‡ ØªØ± Ø¨Ø±Ø§ÛŒ Ù…Ø­ØªÙˆØ§
#                    RoundedRectangle:
#                        pos: self.pos
#                        size: self.size
#                        radius: [15]

#        # Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª
#        Button:
#            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ Ø§ØµÙ„ÛŒ"
#            size_hint_y: None
#            height: 50
#            background_color: 0.2, 0.2, 0.8, 1 # Ø¢Ø¨ÛŒ
#            on_release: 
#                app.root.current = 'home'

# Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ† id Ø±Ø§ Ø¯Ø± main.py Ø¯Ø± Ú©Ù„Ø§Ø³ MonthlyAwardsScreen Ø§Ø±Ø¬Ø§Ø¹ Ø¯Ù‡ÛŒÙ…
# awards_layout Ø¯Ø± Ú©Ø¯ Python Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† self.awards_layout Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù…ÛŒ Ø´ÙˆØ¯.
# team_manager.kv

#:import get_player_by_id TEAM_MANAGER.get_player_by_id
#:import random random

#<RootWidget>:
#    # ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ
#    id: sm
#    transition: 'slide'
#    
#    Screen:
#        name: 'main_view'
#        BoxLayout:
#            orientation: 'vertical'
#            padding: 10
#            spacing: 10
#            
#            Label:
#                text: "Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…: " + TEAM_MANAGER.name
#                size_hint_y: None
#                height: 40
#                font_size: '20sp'
#                
#            GridLayout:
#                cols: 2
#                size_hint_y: None
#                height: 50
#                Label:
#                    text: "Ú¯Ù„Ø¯: " + str(TEAM_MANAGER.gold)
#                Label:
#                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: " + str(len(TEAM_MANAGER.squad)) + "/" + str(TEAM_MANAGER.MAX_PLAYERS)

#            GridLayout:
#                cols: 2
#                spacing: 10
#                
#                Button:
#                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ ØªØ±Ú©ÛŒØ¨"
#                    on_press: 
#                        root.current = 'roster'
#                        root.get_screen('roster').update_roster_display()
#               
#                Button:
#                    text: "Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
#                    on_press: root.current = 'transfer'
#                
#                Button:
#                    text: "Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒÚ©Ù† (Ú©Ø§Ø±Ø¨Ø±)"
#                    on_press: root.current = 'builder'
#                    
#                Button:
#                    text: "Ú¯Ø°Ø± Ø¨Ù‡ Ù…Ø§Ù‡ Ø¨Ø¹Ø¯ (Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ)"
#                    on_press: 
#                        TEAM_MANAGER.current_league_month += 1
#                        root.get_screen('main_view').update_status()

#            
#            ScrollView:
#                do_scroll_y: True
#                Label:
#                    id: roster_log
#                    text: "\n".join(TEAM_MANAGER.roster_history)
#                    size_hint_y: None
#                    height: self.texture_size[1]
#                    text_size: self.width, None
#                    padding: [10, 10]
#                    on_parent: self.y = self.parent.y # Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§Ø³Ú©Ø±ÙˆÙ„ Ø´Ø¯Ù†

#            Button:
#                text: "Ø®Ø±ÙˆØ¬"
#                size_hint_y: None
#                height: 40
#                on_release: app.stop()
#                
#        
#        # ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø¯Ø± ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
#        def update_status(root):
#            self.ids.roster_log.text = "\n".join(TEAM_MANAGER.roster_history)
#            # Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø±ÛŒÙØ±Ø´ Ø´Ø¯Ù† Ù‡Ù…Ù‡ ÙˆÛŒØ¬Øª Ù‡Ø§ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Refreshes Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ø§Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ)
#            self.children[1].children[2].children[1].text = "Ú¯Ù„Ø¯: " + str(TEAM_MANAGER.gold)
#            self.children[1].children[2].children[0].text = "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: " + str(len(TEAM_MANAGER.squad)) + "/" + str(TEAM_MANAGER.MAX_PLAYERS)


#    Screen:
#        name: 'roster'
#        BoxLayout:
#            orientation: 'vertical'
#            padding: 10
#            spacing: 10
#            
#            Label:
#                text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ ØªØ±Ú©ÛŒØ¨"
#                size_hint_y: None
#                height: 40
#            
#            ScrollView:
#                id: roster_scroll
#                do_scroll_y: True
#                
#                GridLayout:
#                    id: roster_grid
#                    cols: 1
#                    size_hint_y: None
#                    height: self.minimum_height
#                    spacing: 5
#            
#            Button:
#                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
#                size_hint_y: None
#                height: 40
#                on_press: root.current = 'main_view'
#        
#        # ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù¾Ø± Ú©Ø±Ø¯Ù† Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†
#        def update_roster_display(root):
#            roster_grid = root.get_screen('roster').ids.roster_grid
#            roster_grid.clear_widgets()
#            
#            roster_grid.add_widget(Label(text="--- Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ØªÛŒÙ… ---", size_hint_y=None, height=30))
#            
#            for p in TEAM_MANAGER.squad:
#                player_info = f"[ID:{p.id}] P:{p.power} | Age:{p.age} | {p.position} | C:{p.contract_length}M"
#                
#                grid_layout = BoxLayout(size_hint_y=None, height=40)
#                grid_layout.add_widget(Label(text=player_info, size_hint_x=0.7))
#                
#                # Ø¯Ú©Ù…Ù‡ ØªÙ…Ø¯ÛŒØ¯ (Ø³Ø§Ø¯Ù‡ Ø´Ø¯Ù‡)
#                btn_renew = Button(text="ØªÙ…Ø¯ÛŒØ¯", size_hint_x=0.15, on_press=lambda instance, p_id=p.id: self.handle_renew(p_id))
#                grid_layout.add_widget(btn_renew)
#                
#                # Ø¯Ú©Ù…Ù‡ ÙØ±ÙˆØ´ (Ø³Ø§Ø¯Ù‡ Ø´Ø¯Ù‡)
#                btn_sell = Button(text="ÙØ±ÙˆØ´", size_hint_x=0.15, on_press=lambda instance, p_id=p.id: self.handle_sell(p_id))
#                grid_layout.add_widget(btn_sell)
#                
#                roster_grid.add_widget(grid_layout)

#            # Ø¨Ø§ÛŒØ¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ø´ÙˆØ¯ Ú©Ù‡ Ø§Ø±ØªÙØ§Ø¹ ØµÙØ­Ù‡ Ø¨Ù‡ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ú©Ø§ÙÛŒ Ø¨Ø²Ø±Ú¯ Ø§Ø³Øª
#            roster_grid.height = roster_grid.minimum_height
#            
#        # ØªÙˆØ§Ø¨Ø¹ Ù‡Ù†Ø¯Ù„Ø± (Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…Ù†Ø·Ù‚ Kivy Ú©Ø§Ù…Ù„â€ŒØªØ± Ø´ÙˆÙ†Ø¯)
#        def handle_renew(player_id, instance):
#            # Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ÛŒØ¯ ÛŒÚ© Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø§Ù‡ ØªÙ…Ø¯ÛŒØ¯ Ø¸Ø§Ù‡Ø± Ø´ÙˆØ¯
#            TEAM_MANAGER.renew_contract(player_id, 1) # ØªÙ…Ø¯ÛŒØ¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ 1 Ù…Ø§Ù‡Ù‡
#            self.update_roster_display()
#            
#        def handle_sell(player_id, instance):
#            TEAM_MANAGER.sell_player(player_id)
#            self.update_roster_display()


#    Screen:
#        name: 'transfer'
#        BoxLayout:
#            orientation: 'vertical'
#            padding: 10
#            spacing: 10
#            
#            Label:
#                text: "Ø¨Ø®Ø´ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
#                size_hint_y: None
#                height: 40
#                
#            Button:
#                text: "ÙØ±ÙˆØ´ Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø¨Ù‡ Ø¨Ø§Ø²Ø§Ø±)"
#                on_press: 
#                    # Ø§ÛŒÙ†Ø¬Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø² Ù„ÛŒØ³Øª Ø§Ø³Øª
#                    print("Select player to sell...")
#            
#            Button:
#                text: "Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø§Ø² Ø¨Ø§Ø²Ø§Ø±)"
#                on_press: 
#                    print("View and buy from market...")

#            Button:
#                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
#                size_hint_y: None
#                height: 40
#                on_press: root.current = 'main_view'


#    Screen:
#        name: 'builder'
#        BoxLayout:
#            orientation: 'vertical'
#            padding: 10
#            spacing: 5
#            
#            Label:
#                text: "Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒÚ©Ù† Ø³Ø§Ø®ØªÙ†ÛŒ (Ú©Ø§Ø±Ø¨Ø±)"
#                size_hint_y: None
#                height: 40
#            
#            GridLayout:
#                cols: 2
#                spacing: 10
#                size_hint_y: None
#                height: 200
#                
#                Label: text: "Ù‚Ø¯Ø±Øª (150-250):"
#                TextInput:
#                    id: build_power
#                    input_filter: 'int'
#                    multiline: False
#                    text: '200'

#                Label: text: "Ø³Ù† (1-39):"
#                TextInput:
#                    id: build_age
#                    input_filter: 'int'
#                    multiline: False
#                    text: '21'

#                Label: text: "Ù¾Ø³Øª:"
#                Spinner:
#                    id: build_pos_spinner
#                    text: 'MID'
#                    values: ('GK', 'DEF', 'MID', 'FWD')
#            
#            Button:
#                text: "Ø³Ø§Ø®Øª Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† (Ù‡Ø²ÛŒÙ†Ù‡: 15 * Ù‚Ø¯Ø±Øª)"
#                on_press:
#                    try:
#                        p = int(build_power.text)
#                        a = int(build_age.text)
#                        pos = build_pos_spinner.text
#                        new_p = TEAM_MANAGER.create_custom_player(p, a, pos)
#                        if new_p:
#                            TEAM_MANAGER.add_player(new_p)
#                            root.get_screen('roster').update_roster_display()
#                            root.get_screen('main_view').update_status()
#                            self.text = f"Ù…ÙˆÙÙ‚! Ú¯Ù„Ø¯: {TEAM_MANAGER.gold}"
#                        else:
#                            self.text = "Ø³Ø§Ø®Øª Ù†Ø§Ù…ÙˆÙÙ‚!"
#                    except Exception as e:
#                        self.text = f"Ø®Ø·Ø§ Ø¯Ø± ÙˆØ±ÙˆØ¯ÛŒ: {e}"
#            
#            Button:
#                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
#                size_hint_y: None
#                height: 40
#                on_press: root.current = 'main_view'
#:kivy 2.2.0

#<ChatScreen>:
#    name: "chat"
#    BoxLayout:
#        orientation: "vertical"
#        Label:
#            text: "ğŸ’¬ Ú†Øª Ø¹Ù…ÙˆÙ…ÛŒ"
#            size_hint_y: 0.1
#            bold: True
#        ScrollView:
#            ScrollV                GridLayout:
#                    id: chat_list
#                    cols: 1
#                    size_hint_y: None
#                    height: self.minimum_height
#                    Label:
#                        text: "\n".join(root.messages)
#                        text_size
#                        <Treasury>:
#    orientation: 'vertical'
#    padding: 15
#    spacing: 10

#    BoxLayout:
#        orientation: 'horizontal'
#        spacing: 10
#        Label:
#            text: "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±:"
#            size_hint_x: 0.3
#        Label:
#            text: root.username
#        Label:
#            text: "Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú¯Ù„Ø¯:"
#            size_hint_x: 0.3
#        Label:
#            text: str(int(root.gold_balance))

#    Label:
#        text: "ğŸ’° Ø®Ø±ÛŒØ¯ Ú¯Ù„Ø¯"
#        font_size: 22

#    GridLayout:
#        cols: 2
#        spacing: 8
#        Button:
#            text: "Ø¨Ø³ØªÙ‡ Û± (Û±Û°,Û°Û°Û° Ú¯Ù„Ø¯ / Û²Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
#            on_release: root.buy_gold("1")
#        Button:
#            text: "Ø¨Ø³ØªÙ‡ Û² (Û±Û°Û°,Û°Û°Û° Ú¯Ù„Ø¯ / Û±Û·Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
#            on_release: root.buy_gold("2")
#        Button:
#            text: "Ø¨Ø³ØªÙ‡ Û³ (ÛµÛ°Û°,Û°Û°Û° Ú¯Ù„Ø¯ / ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
#            on_release: root.buy_gold("3")
#        Button:
#            text: "Ø¨Ø³ØªÙ‡ Û´ (Ûµ,Û°Û°Û° Ú¯Ù„Ø¯ / Û²,ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
#            on_release: root.buy_gold("4")

#    Label:
#        text: "ğŸ¦ Ù¾Ø³â€ŒØ§Ù†Ø¯Ø§Ø² Ùˆ Ø³ÙˆØ¯"
#        font_size: 22
#    Button:
#        text: "Ø§ÙØ²ÙˆØ¯Ù† Ø³ÙˆØ¯ Û±Ùª"
#        on_release: root.deposit_gold()

#    Label:
#        text: "ğŸ Ø§Ù‡Ø¯Ø§ Ú¯Ù„Ø¯"
#        font_size: 22

#    BoxLayout:
#        orientation: 'horizontal'
#        spacing: 8
#        TextInput:
#            id: recipient
#            hint_text: "Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Ø¨Ø± Ú¯ÛŒØ±Ù†Ø¯Ù‡"
#            multiline: False
#            on_text_validate: root.recipient_input = self
#        TextInput:
#            id: amount
#            hint_text: "Ù…Ù‚Ø¯Ø§Ø± Ú¯Ù„Ø¯"
#            multiline: False
#            on_text_validate: root.amount_input = self
#        Button:
#            text: "Ø§Ù‡Ø¯Ø§"
#            on_release:
#                root.recipient_input = recipient
#                root.amount_input = amount
#                root.donate_gold()
# stats.kv

#<TopPlayersScreen>:
#    orientation: 'vertical'
#    padding: 10
#    spacing: 15

#    # Ø¹Ù†ÙˆØ§Ù† Ø§ØµÙ„ÛŒ
#    Label:
#        text: "ğŸ† Ø¨Ø®Ø´ Ø¨Ø±ØªØ±ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù„ÛŒÚ¯ ğŸ†"
#        font_size: '24sp'
#        size_hint_y: None
#        height: 50
#        halign: 'center'

#    # Ø¨Ø®Ø´ Ú¯Ù„Ø²Ù†Ø§Ù†
#    Label:
#        text: "ğŸ¥‡ Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù† (Ú©Ù„ Ú¯Ù„ Ø²Ø¯Ù‡):"
#        font_size: '20sp'
#        size_hint_y: None
#        height: 40
#        halign: 'right'
#    
#    # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ScrollView Ùˆ Label Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª
#    ScrollView:
#        do_scroll_x: False
#        do_scroll_y: True
#        size_hint_y: 1
#        
#        Label:
#            text: root.scorers_text  # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ù…ØªØºÛŒØ± painters_text Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯
#            font_size: '16sp'
#            size_hint_y: None
#            height: self.texture_size[1]  # ØªÙ†Ø¸ÛŒÙ… Ø§Ø±ØªÙØ§Ø¹ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø­ØªÙˆØ§
#            text_size: self.width, None
#            halign: 'right'
#            valign: 'top'


#    # Ø¨Ø®Ø´ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù†
#    Label:
#        text: "ğŸ§¤ Ø¨Ù‡ØªØ±ÛŒÙ† Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù† (Ú©Ù…ØªØ±ÛŒÙ† Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡):"
#        font_size: '20sp'
#        size_hint_y: None
#        height: 40
#        halign: 'right'

#    # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ScrollView Ø¨Ø±Ø§ÛŒ Ù„ÛŒØ³Øª Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù†
#    ScrollView:
#        do_scroll_x: False
#        do_scroll_y: True
#        size_hint_y: 1
#        
#        Label:
#            text: root.keepers_text # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ù…ØªØºÛŒØ± painters_text Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯
#            font_size: '16sp'
#            size_hint_y: None
#            height: self.texture_size[1]
#            text_size: self.width, None
#            halign: 'right'
#            valign: 'top'
#   **Explanation**

#1.  **AccountManager Class:**
#    *   `_accounts`: A static list (emulating a database).
#    *   `get_accounts()`, `get_current_account()`:  Get data.
#    *   `switch_account()`: Switch the current account.
#    *   `add_account()`: Add a new account.
#2.  **AccountItem Widget:**
#    *   Custom button for each account.
#    *   `on_release()`:  Finds the index and switches the account.
#3.  **Screens:**
#    *   `MainScreen`:  Displays the current user's name/phone.
#    *   `SettingsScreen`: Lists the accounts.
#    *   `AddAccountScreen`: Gets phone number, simulates adding.
#4.  **Kivy Language (KV) Code:**
#    *   UI layout is defined in `kv_code`.
#    *   Includes a ScrollView for the account list.
#5.  **MultiAccountApp:**
#    *   The main Kivy application class.
#    *   Adds the screens to the `ScreenManager`.

#**How to Use**

#1.  Save the code as `main.py`
#2.  Make sure you have Kivy installed (`pip install kivy`).
#3.  Run the app: `python main.py`

#**Key Points:**

#*   **No Actual Authentication:** It simulates session data. In a real app, you'd use secure tokens.
#*   **Simple Data:**  

#**Developing User Account System**

#I'm presently building the `AccountManager` class, incorporating data for the multiple accounts. I'm focusing on the interaction logic to enable seamless user account switching with the Kivy framework, including implementing the `SettingsScreen` and the `AccountItem` custom widget. I am aiming to simulate a key account-switching flow.
#```python
#import kivy
#from kivy.app import App
#from kivy.uix.screenmanager import ScreenManager, Screen
#from kivy.properties import ObjectProperty, StringProperty, ListProperty
#from kivy.uix.boxlayout import BoxLayout
#from kivy.uix.button import Button
#from kivy.uix.label import Label
#import os
#from kivy.core.window import Window
#Window.size = (360, 640)  # Standard mobile dimensions


# # --- Data Model and Storage ---
#class AccountManager:
# A simple in-memory storage for demonstration
#_accounts = [
#{'phone': '0912-123-4567 ', 'name': 'Ø­Ø³Ø§Ø¨ Ø§ØµÙ„ÛŒ (Main)', 'token': 'token_main_123'},
#{'phone': '0935-987-6543', 'name': 'Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±ÛŒ  (Work)', 'token': 'token_work_456'}
#]
#_current_account_index = 0

#@classmethod
#def get_accounts(cls):
#return cls._accounts 

#@classmethod
#def get_current_account(cls):
#return cls._accounts[cls._current_account_index]

#@classmethod
#def switch_account(cls, index):
#if  0 <= index < len(cls._accounts):
#cls._current_account_index = index
#print(f"Switched to account: {cls.get_current_account()['phone']}")
# In a  real app, this is where you'd load the new user's session data

#@classmethod
#def add_account(cls, phone, name):
# Simulate initial login/token retrieval
#new_account  = {'phone': phone, 'name': name, 'token': f'token_new_{len(cls._accounts) + 1}'}
#cls._accounts.append(new_account)


# --- Kivy Widgets/ Screens ---

#class AccountItem(Button):
# A custom button widget for each account in the list
#account_info = ObjectProperty(None)

#def on_release(self):
# Find  the index of this account in the manager and switch
#try:
#index = AccountManager.get_accounts().index(self.account_info)
#AccountManager.switch_account(index)
# Navigate  back to the main screen after switching
#self.parent.parent.parent.manager.current = 'main'
#except ValueError:
#print("Error: Account not found.")


#class SettingsScreen(Screen):
#accounts_container = ObjectProperty(None)

#def on_enter(self):
# Clear existing items and reload the list every time the screen is entered
#self.load_accounts_list()

#def load_accounts_list(self):
#self.ids.accounts_container.clear_widgets()
#accounts = AccountManager.get_accounts()
#for i, account in enumerate(accounts):
# Display current account differently 
#is_current = (i == AccountManager._current_account_index)

# Create the custom widget
#item = AccountItem(
#text=f"{account['name']} ({account['phone'] }) - {'(ÙØ¹Ù„ÛŒ)' if is_current else '(Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯)'}",
#account_info=account,
#size_hint_y=None,
#height=60
#)
# Add some styling based on whether it's the current account
#if is_current:
#item.background_color = (0.2, 0.8, 0.2, 1) # Green 
#else:
#item.background_color = (0.1, 0.5, 0.7, 1) # Blue

#self.ids.accounts_container.add_widget(item)

# Add a filler widget at the bottom to ensure the list scrolls correctly if needed
#self.ids.accounts_container.add_widget(Label(size_hint_y=None, height=1))


#class AddAccountScreen(Screen):
#def add_new_account(self,

#**Designing User Interface**

#I am currently working on the basic Kivy UI screens. My primary task is to implement the screens for main display, settings, and adding new accounts. I'm leveraging KV language to layout these screens. The UI elements and screen navigation are being implemented and I am focusing on the "Other Accounts" list (Settings screen) and the "Add Account" screen. I am now working on the display logic, so that users will see the appropriate content when they navigate between different screens.
# my.kv

#<MainScreen>:
#    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ù„ÛŒ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 15
#        
#        Label:
#            text: root.status_text  # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø®Ø§ØµÛŒØª ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¯Ø± main.py
#            size_hint_y: None
#            height: 50
#            font_size: '20sp'
#            color: 0, 0, 0, 1 # Ù…ØªÙ† Ø³ÛŒØ§Ù‡
#            
#        Button:
#            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
#            font_size: '18sp'
#            size_hint_y: None
#            height: 50
#            background_color: 0.2, 0.6, 0.8, 1  # Ø¢Ø¨ÛŒ Ø±ÙˆØ´Ù†
#            on_release: root.manager.current = 'bracket_screen'

#        Button:
#            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§"
#            font_size: '18sp'
#            size_hint_y: None
#            height: 50
#            background_color: 0.3, 0.7, 0.4, 1 # Ø³Ø¨Ø² Ø±ÙˆØ´Ù†
#            on_release: root.manager.current = 'team_screen'


#<BracketScreen>:
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 10
#        
#        Label:
#            text: "Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
#            size_hint_y: None
#            height: 50
#            font_size: '22sp'
#            color: 0, 0, 0, 1
#            
#        # --- Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø­Ù„ Ù‚Ø±Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨ØµØ±ÛŒ Bracket Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ ---
#        ScrollView:
#            do_scroll_x: True
#            do_scroll_y: True
#            
#            BoxLayout:
#                id: bracket_container
#                orientation: 'horizontal'
#                size_hint_x: None
#                width: max(self.minimum_width, app.root.width * 2) # Ù…Ø«Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø§ÙÙ‚ÛŒ Ø¨ÙˆØ¯Ù†
#                Label:
#                    text: "Ù…Ø±Ø§Ø­Ù„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø·Ø±Ø§Ø­ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ±)"
#                    size_hint_x: None
#                    width: 400
#                    text_size: self.size
#                    halign: 'center'
#                    valign: 'middle'
#        # ------------------------------------------------------

#        Button:
#            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
#            size_hint_y: None
#            height: 50
#            background_color: 0.8, 0.2, 0.2, 1
#            on_release: root.manager.current = 'main_screen'

#<TeamScreen>:
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 10
#        
#        Label:
#            text: "Ø¬Ø²Ø¦ÛŒØ§Øª ØªÛŒÙ…â€ŒÙ‡Ø§"
#            size_hint_y: None
#            height: 50
#            font_size: '22sp'
#            color: 0, 0, 0, 1
#            
#        Button:
#            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
#            size_hint_y: None
#            height: 50
#            background_color: 0.8, 0.2, 0.2, 1
#            on_release: root.manager.current = 'main_screen'
#            # my.kv (Ù†Ø³Ø®Ù‡ Ø§ØµÙ„Ø§Ø­ Ø´Ø¯Ù‡)

#<MainScreen>:
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 15
#        
#        Label:
#            text: root.status_text
#            size_hint_y: None
#            height: 50
#            font_size: '20sp'
#            color: 0, 0, 0, 1
#            
#        Button:
#            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
#            font_size: '18sp'
#            size_hint_y: None
#            height: 50
#            background_color: 0.2, 0.6, 0.8, 1
#            on_release: root.manager.current = 'bracket_screen'

#        Button:
#            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§"
#            font_size: '18sp'
#            size_hint_y: None
#            height: 50
#            background_color: 0.3, 0.7, 0.4, 1
#            on_release: root.manager.current = 'team_screen'

#        Button:
#            text: "Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ø§ÛŒØ§Ù† Ù…Ø§Ù‡ (Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚)"
#            font_size: '18sp'
#            size_hint_y: None
#            height: 50
#            background_color: 0.9, 0.4, 0.1, 1
#            on_release: root.run_monthly_update(self) # ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ØªØ¯ Ø§Ø² main.py


#<BracketScreen>:
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 20
#        spacing: 10
#        
#        Label:
#            text: "Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
#            size_hint_y: None
#            height: 50
#            font_size: '22sp'
#            color: 0, 0, 0, 1
#            
#        ScrollView:
#            do_scroll_x: True
#            do_scroll_y: True
#            
#            BoxLayout:
#                orientation: 'horizontal'
#                size_hint_x: None
#                width: 800 # Ø¹Ø±Ø¶ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø±Ø®ØªÛŒ
#                Label:
#                    text: "Ù…Ø±Ø§Ø­Ù„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø·Ø±Ø§Ø­ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´)"
#                    size_hint_x: 1
#                    text_size: self.size
#                    halign: 'center'
#                    valign: 'middle'
#        
#        Button:
#            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
#            size_hint_y: None
#            height: 50
#            background_color: 0.8, 0.2, 0.2, 1
#            on_release: root.manager.current = 'main_screen'

#<TeamScreen>:
#    BoxLayout:
#        orientation: 'vertical'
#        padding: 10
#        spacing: 5
#        
#        # Ø§ÛŒÙ† ÙˆÛŒØ¬Øª Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ Ø±Ø§ Ù†Ú¯Ù‡ Ù…ÛŒâ€ŒØ¯Ø§Ø±Ø¯
#        Label:
#            id: team_display_label
#            # Ø§ÛŒÙ† Ù…ØªÙ† Ø¯Ø± on_enter ØªÙˆØ³Ø· Ù¾Ø§ÛŒØªÙˆÙ† Ø¨Ù‡â€ŒØ±ÙˆØ² Ù…ÛŒâ€ŒØ´ÙˆØ¯
#            text: "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§..."
#            halign: 'right'
#            valign: 'top'
#[app]
#title = MyApp
#package.name = myapp
#package.domain = org.example
#source.dir = .
#source.include_exts = py,kv,png,jpg,ttf,mp3,wav,ogg,ico
#requirements = python3,kivy
#orientation = portrait
#fullscreen = 0

#[buildozer]
#log_level = 2
#warn_on_root = 1

#[android]
#android.   [app]
   title = MyApp
   package.name = myapp
   package.domain = org.example
   source.dir = .
   source.include_exts = py,png,jpg,kv
   main.py = main.py

   [buildozer]
   log_level = 2

   [android]
   requirements = python3,kivy
   android.permissions = INTERNET
   android.api = 33
   android.minapi = 21
   android.sdk = 33
   android.arch = armeabi-v7a
   [app]
   title = MyApp
   package.name = myapp
   package.domain = org.example
   source.dir = .
   source.include_exts = py,png,jpg,kv
   main.py = main.py

   [buildozer]
   log_level = 2

   [android]
   requirements = python3,kivy
   android.permissions = INTERNET
   android.api = 33
   android.minapi = 21
   android.sdk = 33
   android.arch = armeabi-v7a
api = 33
#android.minapi = 21
#android.archs = arm64-v8a
#android.sdk_path = ~/.buildozer/android/platform/android-sdk
#android.ndk_path = ~/.buildozer/android/platform/android-ndk
#android.sdk = 33
#android.ndk = 25b
#cd /path/to/your/kivy/project  # Ø§ÛŒÙ† Ù…Ø³ÛŒØ± Ø±Ø§ Ø¨Ø§ Ù…Ø³ÛŒØ± ÙˆØ§Ù‚Ø¹ÛŒ Ù¾ÙˆØ´Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø®ÙˆØ¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯
from kivy.app import App
from kivy.uix.screenmanager import Screen
from kivy.clock import Clock
from data import DATA

class MainScreen(Screen):
    pass

class TeamScreen(Screen):
    pass

class ChatScreen(Screen):
    pass


class MyApp(App):

    challenge_active = False
    correct_answer = ""

    def build(self):
        return self.root

    def on_start(self):
        self.load_main_page()
        self.load_active_users()

    # ---------- Navigation ----------
    def change_screen(self, name):
        self.root.current = name

    # ---------- Main Page ----------
    def load_main_page(self):
        for p in DATA["top_scorers"][:10]:
            self.root.get_screen("main").ids.top_scorers.add_widget(
                self.make_label(f"{p['name']} - {p['goals']} Ú¯Ù„")
            )

        for t in DATA["best_defense"]:
            self.root.get_screen("main").ids.best_defense.add_widget(
                self.make_label(f"{t['team']} - {t['avg']} Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡")
            )

    # ---------- Team Profile ----------
    def load_team(self, team):
        screen = self.root.get_screen("team")
        screen.ids.team_name.text = team
        screen.ids.team_stats.text = f"Ú¯Ù„ Ø²Ø¯Ù‡: 120 | Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡: 40"

        screen.ids.team_scorers.clear_widgets()
        for s in DATA["teams"][team]:
            screen.ids.team_scorers.add_widget(
                self.make_label(f"{s['name']} - {s['goals']}")
            )

    # ---------- Challenge ----------
    def start_challenge(self):
        if self.challenge_active:
            return

        self.challenge_active = True
        self.correct_answer = "10"
        Clock.schedule_once(self.end_challenge, 60)

        print("Ú†Ø§Ù„Ø´ Ø´Ø±ÙˆØ¹ Ø´Ø¯! Ø¬Ø§ÛŒØ²Ù‡ Ø¨ÛŒÙ† 1000 ØªØ§ 10000 Ú¯Ù„Ø¯")

    def end_challenge(self, dt):
        self.challenge_active = False
        print("â° Ø²Ù…Ø§Ù† Ú†Ø§Ù„Ø´ ØªÙ…Ø§Ù… Ø´Ø¯")

    def submit_answer(self, user, answer):
        if self.challenge_active and answer == self.correct_answer:
            self.challenge_active = False
            print(f"{user} Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ ğŸ†")

    # ---------- Active Users ----------
    def load_active_users(self):
        for i, u in enumerate(DATA["active_users"]):
            text = f"{i+1}. {u['name']} - {u['messages']} Ù¾ÛŒØ§Ù…"
            self.root.get_screen("chat").ids.active_users.add_widget(
                self.make_label(text)
            )

        print("ğŸ¥‡ Ù†ÙØ± Ø§ÙˆÙ„ 2000 Ú¯Ù„Ø¯ Ú¯Ø±ÙØª")

    # ---------- Utils ----------
    def make_label(self, text):
        from kivy.uix.label import Label
        return Label(text=text, size_hint_y=None, height=40)


MyApp().run()
from kivy.app import App
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.properties import ListProperty, DictProperty
from kivy.lang import Builder

Builder.load_file("my.kv")

# Ø¬ÙˆØ§ÛŒØ² Ø±ØªØ¨Ù‡ 1 ØªØ§ 10
REWARDS = {
    1: 100000,
    2: 95000,
    3: 90000,
    4: 85000,
    5: 80000,
    6: 75000,
    7: 65000,
    8: 60000,
    9: 55000,
    10: 50000,
}


class MainScreen(Screen):
    top_assists = ListProperty([])

    def load_top_1000(self):
        # Ø¯Ø§Ø¯Ù‡ ØªØ³ØªÛŒ
        self.top_assists = [
            {"rank": i + 1, "name": f"Ø¨Ø§Ø²ÛŒÚ©Ù† {i+1}", "assists": 200 - i}
            for i in range(1000)
        ]


class TeamProfileScreen(Screen):
    team_assists = ListProperty([])

    def load_team_data(self):
        self.team_assists = [
            {"player": "Ø¹Ù„ÛŒ", "goals": 10, "assists": 7},
            {"player": "Ø±Ø¶Ø§", "goals": 5, "assists": 12},
            {"player": "Ù…Ù‡Ø¯ÛŒ", "goals": 8, "assists": 4},
        ]


class LeagueSystem:
    def calculate_rewards(self, ranking):
        rewards = {}
        for player in ranking[:10]:
            rank = player["rank"]
            rewards[player["name"]] = REWARDS.get(rank, 0)
        return rewards


class MyGameApp(App):
    def build(self):
        sm = ScreenManager()
        sm.add_widget(MainScreen(name="main"))
        sm.add_widget(TeamProfileScreen(name="team"))
        return sm


if __name__ == "__main__":
    MyGameApp().run()    
    from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import ListProperty


class ChampionsLayout(BoxLayout):
    teams = ListProperty([])

    def __init__(self, **kwargs):
        super().__init__(**kwargs)

        champions_level = 1
        base_power = max(85000 - ((champions_level - 1) * 5000), 5000)

        self.teams = [
            {"name": "Ù¾Ø±Ø³Ù¾ÙˆÙ„ÛŒØ³", "power": base_power},
            {"name": "Ø§Ù„Ù‡Ù„Ø§Ù„", "power": base_power},
            {"name": "Ø§Ø³ØªÙ‚Ù„Ø§Ù„", "power": base_power},
            {"name": "Ø§Ù„Ù†ØµØ±", "power": base_power},
            {"name": "ØªÛŒÙ… Ù„ÛŒÚ¯ Û±", "power": 72000},
            {"name": "ØªÛŒÙ… Ù„ÛŒÚ¯ Û²", "power": 70000},
            {"name": "ØªÛŒÙ… Ù„ÛŒÚ¯ Û³", "power": 68000},
            {"name": "ØªÛŒÙ… Ù„ÛŒÚ¯ Û´", "power": 66000},
        ]


class MyApp(App):
    def build(self):
        return ChampionsLayout()


if __name__ == "__main__":
    MyApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.animation import Animation
from kivy.properties import NumericProperty


class TrophyScreen(BoxLayout):
    scale = NumericProperty(0)
    opacity_text = NumericProperty(0)

    def play_animation(self):
        self.ids.trophy.scale = 0
        self.ids.trophy.y = -200
        self.opacity_text = 0

        anim_in = Animation(
            y=self.height / 2 - 100,
            duration=0.8,
            t="out_back"
        )

        anim_scale = Animation(
            scale=1,
            duration=0.8,
            t="out_back"
        )

        anim_text = Animation(
            opacity_text=1,
            duration=0.6
        )

        (anim_in & anim_scale).start(self.ids.trophy)
        anim_text.start(self)


class MyApp(App):
    def build(self):
        return TrophyScreen()
    

if __name__ == "__main__":
    MyApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import ListProperty, StringProperty


# --------------------
# Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÙˆÙ†Ù‡ Ø§ÙØªØ®Ø§Ø±Ø§Øª
# --------------------
TEAMS_DATA = [
    {
        "name": "Ù¾Ø±Ø³Ù¾ÙˆÙ„ÛŒØ³",
        "titles": 12,
        "seconds": 6,
        "thirds": 3,
        "cups": [
            "Ù„ÛŒÚ¯ Ø¨Ø±ØªØ± - Ù‚Ù‡Ø±Ù…Ø§Ù†",
            "Ø¬Ø§Ù… Ø­Ø°ÙÛŒ - Ù‚Ù‡Ø±Ù…Ø§Ù†",
            "Ù„ÛŒÚ¯ Ù‚Ù‡Ø±Ù…Ø§Ù†Ø§Ù† - Ù‚Ù‡Ø±Ù…Ø§Ù†",
            "Ø³ÙˆÙ¾Ø± Ø¬Ø§Ù… - Ù‚Ù‡Ø±Ù…Ø§Ù†",
        ]
    },
    {
        "name": "Ø§Ø³ØªÙ‚Ù„Ø§Ù„",
        "titles": 10,
        "seconds": 8,
        "thirds": 4,
        "cups": [
            "Ù„ÛŒÚ¯ Ø¨Ø±ØªØ± - Ù‚Ù‡Ø±Ù…Ø§Ù†",
            "Ø¬Ø§Ù… Ø­Ø°ÙÛŒ - Ù‚Ù‡Ø±Ù…Ø§Ù†",
            "Ø³ÙˆÙ¾Ø± Ø¬Ø§Ù… - Ù‚Ù‡Ø±Ù…Ø§Ù†",
        ]
    },
    {
        "name": "ØªÛŒÙ… Ú©Ø§Ø±Ø¨Ø±",
        "titles": 3,
        "seconds": 2,
        "thirds": 1,
        "cups": [
            "Ù„ÛŒÚ¯ Û² - Ù‚Ù‡Ø±Ù…Ø§Ù†",
            "Ø¬Ø§Ù… Ø­Ø°ÙÛŒ Ù„ÛŒÚ¯ Û² - Ù‚Ù‡Ø±Ù…Ø§Ù†",
            "Ù„ÛŒÚ¯ Ù‚Ù‡Ø±Ù…Ø§Ù†Ø§Ù† Û² - Ù‚Ù‡Ø±Ù…Ø§Ù†",
        ]
    },
]


class LeagueHonors(BoxLayout):
    teams = ListProperty([])

    def __init__(self, **kwargs):
        super().__init__(**kwargs)

        # Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‚ÙˆØ§Ù†ÛŒÙ†
        self.teams = sorted(
            TEAMS_DATA,
            key=lambda x: (x["titles"], x["seconds"], x["thirds"]),
            reverse=True
        )[:10]


class ProfileScreen(BoxLayout):
    username = StringProperty("Ú©Ø§Ø±Ø¨Ø±")
    cups = ListProperty([])

    def show_cups(self):
        for team in TEAMS_DATA:
            if team["name"] == "ØªÛŒÙ… Ú©Ø§Ø±Ø¨Ø±":
                self.cups = [{"text": cup} for cup in team["cups"]]


class MyApp(App):
    def build(self):
        root = BoxLayout(orientation="vertical")
        root.add_widget(LeagueHonors())
        root.add_widget(ProfileScreen())
        return root


if __name__ == "__main__":
    MyApp().run()
from kivy.app import App
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.uix.floatlayout import FloatLayout
from kivy.uix.label import Label
from kivy.uix.image import Image
from kivy.uix.button import Button
from kivy.animation import Animation
from kivy.properties import StringProperty, NumericProperty
from kivy.lang import Builder

Builder.load_file("my.kv")

# --------------------------
# ÙˆÛŒØ¬Øª Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø§ Ú©ÛŒØª Ùˆ Ø´Ù…Ø§Ø±Ù‡
# --------------------------
class PlayerWidget(FloatLayout):
    player_image = StringProperty("assets/uniforms/default.png")
    logo_image = StringProperty("assets/logo/team_logo.png")
    number = NumericProperty(10)

    def animate_player(self):
        # Ø­Ø±Ú©Øª Ùˆ Ø¸Ø§Ù‡Ø± Ø´Ø¯Ù† Ø¨Ø§Ø²ÛŒÚ©Ù†
        self.ids.player_img.opacity = 0
        self.ids.number_label.opacity = 0
        anim = Animation(opacity=1, y=self.height*0.3, duration=1.0, t="out_back")
        anim.start(self.ids.player_img)
        # Ø´Ù…Ø§Ø±Ù‡ Ø¨Ø§ Ø§ÙÚ©Øª Ø¯Ø±Ø®Ø´Ø§Ù†
        anim_number = Animation(opacity=1, duration=0.8)
        anim_number.start(self.ids.number_label)

    def take_snapshot(self, filename="player_snapshot.png"):
        self.export_to_png(filename)

# --------------------------
# ØµÙØ­Ù‡ Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù†
# --------------------------
class PurchaseScreen(Screen):
    def on_enter(self):
        self.clear_widgets()
        player = PlayerWidget(player_image="assets/uniforms/default.png",
                              logo_image="assets/logo/team_logo.png",
                              number=7)
        self.add_widget(player)
        player.animate_player()
        # Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ù†ÛŒÙ…ÛŒØ´Ù†ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Snapshot Ú¯Ø±ÙØª
        # player.take_snapshot()

# --------------------------
# ScreenManager
# --------------------------
class MainApp(App):
    def build(self):
        sm = ScreenManager()
        sm.add_widget(PurchaseScreen(name="purchase"))
        return sm

if __name__ == "__main__":
    MainApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.floatlayout import FloatLayout
from kivy.uix.popup import Popup
from kivy.uix.filechooser import FileChooserIconView
from kivy.lang import Builder
from kivy.properties import StringProperty

# Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ KV
Builder.load_file("my.kv")

class KitWidget(FloatLayout):
    kit_image = StringProperty("assets/uniforms/default.png")
    logo_image = StringProperty("assets/logo/team_logo.png")

    def open_filechooser(self):
        layout = FloatLayout()
        chooser = FileChooserIconView(size_hint=(1,0.9), pos_hint={"x":0,"y":0.1})
        layout.add_widget(chooser)
        btn = BoxLayout(size_hint=(1,0.1), pos_hint={"x":0,"y":0})
        select_btn = BoxLayout()
        btn.add_widget(select_btn)
        layout.add_widget(btn)

        popup = Popup(title="Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³ Ú©ÛŒØª", content=layout, size_hint=(0.9,0.9))

        def select_image(instance):
            if chooser.selection:
                self.kit_image = chooser.selection[0]
                popup.dismiss()

        select_btn.bind(on_touch_down=select_image)
        popup.open()

class MainScreen(BoxLayout):
    pass

class KitApp(App):
    def build(self):
        return MainScreen()

if __name__ == "__main__":
    KitApp().run()
from kivy.app import App
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.uix.floatlayout import FloatLayout
from kivy.uix.label import Label
from kivy.uix.button import Button
from kivy.animation import Animation
from kivy.properties import StringProperty, NumericProperty
from kivy.lang import Builder

# -----------------------------
# ÙˆÛŒØ¬Øª Ø¬Ø§Ù… Ù…Ø³ØªÙ‚Ù„
# -----------------------------
Builder.load_string("""
<TrophyWidget>:
    Label:
        id: trophy
        text: root.trophy_icon
        font_size: 160
        size_hint: None, None
        size: self.texture_size
        pos_hint: {"center_x":0.5}
        scale: 1
        canvas.before:
            PushMatrix
            Scale:
                x: self.scale
                y: self.scale
                origin: self.center
        canvas.after:
            PopMatrix

    Label:
        text: root.trophy_text
        font_size: 32
        bold: True
        color: 1, 0.85, 0, root.opacity_text
        pos_hint: {"center_x":0.5, "center_y":0.25}
""")

class TrophyWidget(FloatLayout):
    trophy_icon = StringProperty("ğŸ†")
    trophy_text = StringProperty("Ù‚Ù‡Ø±Ù…Ø§Ù† Ø´Ø¯ÛŒ!")
    scale = NumericProperty(0)
    opacity_text = NumericProperty(0)

    def play_animation(self):
        self.ids.trophy.scale = 0
        self.ids.trophy.y = -200
        self.opacity_text = 0

        anim_in = Animation(
            y=self.height/2 - 100,
            duration=0.8,
            t="out_back"
        )
        anim_scale = Animation(
            scale=1,
            duration=0.8,
            t="out_back"
        )
        anim_text = Animation(
            opacity_text=1,
            duration=0.6
        )
        (anim_in & anim_scale).start(self.ids.trophy)
        anim_text.start(self)

# -----------------------------
# ØµÙØ­Ù‡ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ… Ùˆ Ù…Ø±Ø§Ø³Ù…
# -----------------------------
Builder.load_string("""
<StadiumScreen>:
    FloatLayout:
        canvas:
            Color:
                rgb: 0.05, 0.1, 0.15
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "ğŸŸï¸ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ… Ø¨Ø²Ø±Ú¯"
            font_size: 36
            pos_hint: {"center_x":0.5, "center_y":0.8}

        Label:
            id: crowd
            text: "ğŸ‰ Ø¬Ù…Ø¹ÛŒØª Ø¯Ø± Ø­Ø§Ù„ ØªØ´ÙˆÛŒÙ‚!"
            font_size: 28
            pos_hint: {"center_x":0.5, "center_y":0.6}

        Button:
            text: "Ø´Ø±ÙˆØ¹ Ù…Ø±Ø§Ø³Ù…"
            size_hint: None, None
            size: 200, 60
            pos_hint: {"center_x":0.5, "center_y":0.2}
            on_press: root.start_ceremony()
""")

class StadiumScreen(Screen):
    def start_ceremony(self):
        # Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø±ÙˆÛŒ Ø¬Ù…Ø¹ÛŒØª
        anim = Animation(font_size=36, duration=0.3) + Animation(font_size=28, duration=0.3)
        anim.repeat = 3
        anim.start(self.ids.crowd)

        # Ø¨Ø¹Ø¯ Ø§Ø² Ù…Ø±Ø§Ø³Ù… Ø¬Ø§Ù… Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡
        self.manager.current = "trophy"

# -----------------------------
# ØµÙØ­Ù‡ Ø¬Ø§Ù… ÙˆØ§Ù‚Ø¹ÛŒ
# -----------------------------
class TrophyScreen(Screen):
    def on_enter(self):
        # Ù†Ù…Ø§ÛŒØ´ Ø¬Ø§Ù…
        self.clear_widgets()
        trophy = TrophyWidget(trophy_icon="ğŸ†", trophy_text="Ù‚Ù‡Ø±Ù…Ø§Ù† Ù„ÛŒÚ¯!")
        self.add_widget(trophy)
        trophy.play_animation()

# -----------------------------
# App Ùˆ ScreenManager
# -----------------------------
class StadiumApp(App):
    def build(self):
        sm = ScreenManager()
        sm.add_widget(StadiumScreen(name="stadium"))
        sm.add_widget(TrophyScreen(name="trophy"))
        return sm

if __name__ == "__main__":
    StadiumApp().run()
from kivy.app import App
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import ListProperty, StringProperty, NumericProperty
from kivy.lang import Builder

Builder.load_file("my.kv")

# ----------------------------
# Ù†Ù…ÙˆÙ†Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†
# ----------------------------
PLAYER_STATS = {
    "Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†": {
        "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ": 30,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡": 0.9,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø³ÛŒÙˆ": 3.2,
        "Ù†Ù…Ø±Ù‡": 7.5
    },
    "Ù…Ø¯Ø§ÙØ¹": {
        "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ": 28,
        "Ú¯Ù„ Ø²Ø¯Ù‡": 2,
        "Ù¾Ø§Ø³ Ú¯Ù„": 1,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯ÙØ§Ø¹ Ù…ÙˆÙÙ‚": 4.5,
        "Ù†Ù…Ø±Ù‡": 7.0
    },
    "Ù‡Ø§ÙØ¨Ú©": {
        "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ": 32,
        "Ú¯Ù„": 5,
        "Ù¾Ø§Ø³ Ú¯Ù„": 7,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù¾Ø§Ø³ Ú©Ù„ÛŒØ¯ÛŒ": 3.2,
        "Ù†Ù…Ø±Ù‡": 7.8
    },
    "Ù…Ù‡Ø§Ø¬Ù…": {
        "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ": 30,
        "Ú¯Ù„": 18,
        "Ù¾Ø§Ø³ Ú¯Ù„": 4,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯Ø±ØµØ¯ Ú¯Ù„ Ø²Ù†ÛŒ": "60%"
    }
}

# ----------------------------
# ÙˆÛŒØ¬Øª Ù†Ù…Ø§ÛŒØ´ Ø¢Ù…Ø§Ø± Ø¨Ø§Ø²ÛŒÚ©Ù†
# ----------------------------
class PlayerProfile(BoxLayout):
    player_position = StringProperty("Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†")
    stats = ListProperty([])

    def show_stats(self, position):
        self.player_position = position
        self.stats = []
        for key, value in PLAYER_STATS[position].items():
            self.stats.append({"title": key, "value": value})

# ----------------------------
# ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
# ----------------------------
class MainScreen(Screen):
    pass

class PlayerAnalysisApp(App):
    def build(self):
        return MainScreen()

if __name__ == "__main__":
    PlayerAnalysisApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.properties import ListProperty, StringProperty
from kivy.lang import Builder

Builder.load_file("my.kv")

# ----------------------------
# Ù†Ù…ÙˆÙ†Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†
# ----------------------------
PLAYER_STATS = {
    "Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†": {
        "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ": 30,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡": 0.9,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø³ÛŒÙˆ": 3.2,
        "Ù†Ù…Ø±Ù‡": 7.5
    },
    "Ù…Ø¯Ø§ÙØ¹": {
        "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ": 28,
        "Ú¯Ù„ Ø²Ø¯Ù‡": 2,
        "Ù¾Ø§Ø³ Ú¯Ù„": 1,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯ÙØ§Ø¹ Ù…ÙˆÙÙ‚": 4.5,
        "Ù†Ù…Ø±Ù‡": 7.0
    },
    "Ù‡Ø§ÙØ¨Ú©": {
        "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ": 32,
        "Ú¯Ù„": 5,
        "Ù¾Ø§Ø³ Ú¯Ù„": 7,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù¾Ø§Ø³ Ú©Ù„ÛŒØ¯ÛŒ": 3.2,
        "Ù†Ù…Ø±Ù‡": 7.8
    },
    "Ù…Ù‡Ø§Ø¬Ù…": {
        "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ": 30,
        "Ú¯Ù„": 18,
        "Ù¾Ø§Ø³ Ú¯Ù„": 4,
        "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯Ø±ØµØ¯ Ú¯Ù„ Ø²Ù†ÛŒ": "60%"
    }
}

# ----------------------------
# ÙˆÛŒØ¬Øª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø§Ø²ÛŒÚ©Ù†
# ----------------------------
class PlayerProfile(BoxLayout):
    stats = ListProperty([])
    title = StringProperty("Ø¨Ø§Ø²ÛŒÚ©Ù†")

    def show_stats(self, position):
        self.title = position
        self.stats = []
        for key, value in PLAYER_STATS[position].items():
            self.stats.append({"title": key, "value": value})

# ----------------------------
# ØµÙØ­Ù‡ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†
# ----------------------------
class CompareScreen(Screen):
    pass

class CompareApp(App):
    def build(self):
        sm = ScreenManager()
        sm.add_widget(CompareScreen(name="compare"))
        return sm

if __name__ == "__main__":
    CompareApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import StringProperty, NumericProperty, ListProperty
from kivy.clock import Clock
from kivy.lang import Builder
import random

Builder.load_file("my.kv")


class LiveMatchPanel(BoxLayout):
    # ---- Time ----
    match_minute = NumericProperty(0)

    # ---- AI Decision ----
    shoot_score = NumericProperty(0)
    pass_score = NumericProperty(0)
    dribble_score = NumericProperty(0)
    final_action = StringProperty("â€”")

    # ---- Live Feed ----
    live_events = ListProperty([])

    def start_match(self):
        self.match_minute = 0
        self.live_events.clear()
        Clock.schedule_interval(self.update_match, 1)

    def update_match(self, dt):
        self.match_minute += 1

        # Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØµÙ…ÛŒÙ…
        self.shoot_score = random.randint(10, 100)
        self.pass_score = random.randint(10, 100)
        self.dribble_score = random.randint(10, 100)

        scores = {
            "Ø´ÙˆØª": self.shoot_score,
            "Ù¾Ø§Ø³": self.pass_score,
            "Ø¯Ø±ÛŒØ¨Ù„": self.dribble_score
        }
        self.final_action = max(scores, key=scores.get)

        # Ø±ÙˆÛŒØ¯Ø§Ø¯ ØªØµØ§Ø¯ÙÛŒ
        if random.random() < 0.35:
            event = self.generate_event()
            self.live_events.insert(0, f"{self.match_minute}'  {event}")

        if self.match_minute >= 90:
            Clock.unschedule(self.update_match)
            self.live_events.insert(0, "â¹ï¸ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ")

    def generate_event(self):
        events = [
            "âš½ Ø´ÙˆØª Ø®Ø·Ø±Ù†Ø§Ú©!",
            "ğŸ¯ Ù¾Ø§Ø³ Ú©Ù„ÛŒØ¯ÛŒ",
            "ğŸ§¤ Ø³ÛŒÙˆ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†",
            "ğŸ”¥ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬Ø¯ÛŒ Ú¯Ù„",
            "ğŸŸ¨ Ø®Ø·Ø§ Ùˆ Ú©Ø§Ø±Øª Ø²Ø±Ø¯",
            "âš½ Ú¯Ù„Ù„Ù„Ù„Ù„!"
        ]
        return random.choice(events)


class MainApp(App):
    def build(self):
        return LiveMatchPanel()


if __name__ == "__main__":
    MainApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import StringProperty, NumericProperty
from kivy.lang import Builder
import random

Builder.load_file("my.kv")


class PlayerAIPanel(BoxLayout):
    # ---- Perception ----
    ball_distance = StringProperty("12 m")
    goal_distance = StringProperty("18 m")
    pressure_level = StringProperty("Ú©Ù…")
    free_teammate = StringProperty("Ø¨Ù„Ù‡")

    # ---- Decision Scores ----
    shoot_score = NumericProperty(0)
    pass_score = NumericProperty(0)
    dribble_score = NumericProperty(0)

    # ---- Final Decision ----
    final_action = StringProperty("â€”")

    def simulate_decision(self):
        # Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø§Ø¯Ù‡ (Ø¨Ø¹Ø¯Ø§Ù‹ Ø¨Ù‡ AI ÙˆØ§Ù‚Ø¹ÛŒ ÙˆØµÙ„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ)
        self.shoot_score = random.randint(20, 90)
        self.pass_score = random.randint(20, 90)
        self.dribble_score = random.randint(20, 90)

        scores = {
            "Ø´ÙˆØª": self.shoot_score,
            "Ù¾Ø§Ø³": self.pass_score,
            "Ø¯Ø±ÛŒØ¨Ù„": self.dribble_score
        }

        self.final_action = max(scores, key=scores.get)


class MainApp(App):
    def build(self):
        return PlayerAIPanel()


if __name__ == "__main__":
    MainApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty
import random


class GameLogic(BoxLayout):
    host_power = NumericProperty(70)
    guest_power = NumericProperty(60)

    host_morale = NumericProperty(0)
    guest_morale = NumericProperty(0)

    tactic = StringProperty("Ø¯ÙØ§Ø¹ÛŒ")
    result_text = StringProperty("")

    fan_morale = NumericProperty(20)
    coach_morale = NumericProperty(15)
    cheer_count = NumericProperty(0)

    def calculate_morale(self):
        cheer_morale = self.cheer_count * 2
        total = (0.5 * self.fan_morale) + (0.3 * self.coach_morale) + (0.2 * cheer_morale)
        return min(total, 100)

    def cheer(self):
        self.cheer_count += 1

    def play_match(self):
        self.host_morale = self.calculate_morale()
        self.guest_morale = min(self.host_morale / 2, 50)

        tactic_bonus = {
            "Ø¯ÙØ§Ø¹ÛŒ": 10,
            "Ù…Ø§Ù„Ú©ÛŒØªÛŒ": 15,
            "Ù‡Ø¬ÙˆÙ…ÛŒ": 20
        }

        host_score = (
            self.host_power * 0.5 +
            tactic_bonus[self.tactic] * 0.2 +
            self.host_morale * 0.15
        )

        guest_score = (
            self.guest_power * 0.5 +
            random.randint(5, 15) * 0.2 +
            self.guest_morale * 0.15
        )

        if host_score > guest_score:
            self.result_text = "ğŸ† Ù…ÛŒØ²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯"
        elif guest_score > host_score:
            self.result_text = "âŒ Ù…ÛŒÙ‡Ù…Ø§Ù† Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯"
        else:
            self.result_text = "ğŸ¤ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯"


class FootballGameApp(App):
    def build(self):
        return GameLogic()


if __name__ == "__main__":
    FootballGameApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty
import random


class Game(BoxLayout):
    gold = NumericProperty(1000)
    kagold = NumericProperty(500)

    player_power = NumericProperty(10000)
    players_in_camp = NumericProperty(1)

    camp_level = NumericProperty(1)
    coach_level = NumericProperty(1)

    result_text = StringProperty("")
    analysis_text = StringProperty("")

    enemy_tactic = StringProperty("Ù‡Ø¬ÙˆÙ…ÛŒ")

    def start_camp(self):
        camp_data = {
            1: (50, 1500),
            2: (100, 3100),
            3: (165, 5000)
        }

        coach_data = {
            1: (100, 1500),
            2: (150, 2250),
            3: (200, 3000)
        }

        camp_cost, camp_power = camp_data[self.camp_level]
        coach_cost, coach_power = coach_data[self.coach_level]

        total_kagold = camp_cost + coach_cost
        total_gold = self.players_in_camp * 100

        if self.kagold < total_kagold or self.gold < total_gold:
            self.result_text = "âŒ Ù…Ù†Ø§Ø¨Ø¹ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª"
            return

        self.kagold -= total_kagold
        self.gold -= total_gold

        gained_power = (camp_power + coach_power) * self.players_in_camp
        self.player_power += gained_power

        self.result_text = f"âœ… Ú©Ù…Ù¾ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ | +{gained_power} Ù‚Ø¯Ø±Øª"

    def analyze_enemy(self):
        if self.gold < 150:
            self.analysis_text = "âŒ Ú¯Ù„Ø¯ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø¢Ù†Ø§Ù„ÛŒØ² Ù†Ø¯Ø§Ø±ÛŒ"
            return

        self.gold -= 150
        self.enemy_tactic = random.choice(["Ø¯ÙØ§Ø¹ÛŒ", "Ù…Ø§Ù„Ú©ÛŒØªÛŒ", "Ù‡Ø¬ÙˆÙ…ÛŒ"])
        self.analysis_text = f"ğŸ“Š ØªØ±Ú©ÛŒØ¨ Ø­Ø±ÛŒÙ: {self.enemy_tactic}"


class FootballApp(App):
    def build(self):
        return Game()


if __name__ == "__main__":
    FootballApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty, BooleanProperty
import time


class Stadium(BoxLayout):
    gold = NumericProperty(1000)
    kagold = NumericProperty(500)

    stadium_level = NumericProperty(0)
    stadium_capacity = NumericProperty(0)
    stadium_expire = NumericProperty(0)

    ticket_price = NumericProperty(100)
    recent_form = NumericProperty(70)  # Ø¯Ø±ØµØ¯ Ù†ØªØ§ÛŒØ¬ Ø§Ø®ÛŒØ± ØªÛŒÙ…
    fans = NumericProperty(0)
    fan_morale = NumericProperty(0)

    info_text = StringProperty("")

    stadiums = {
        1: (2500, 0),
        2: (6700, 25),
        3: (15000, 68),
        4: (38000, 145),
        5: (50000, 250)
    }

    def buy_stadium(self, level):
        capacity, price = self.stadiums[level]

        if self.kagold < price:
            self.info_text = "âŒ Ú©Ø§Ú¯Ù„Ø¯ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª"
            return

        if price > 0:
            self.kagold -= price

        self.stadium_level = level
        self.stadium_capacity = capacity
        self.stadium_expire = time.time() + (30 * 24 * 60 * 60)

        self.info_text = f"ğŸŸ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ… Ø³Ø·Ø­ {level} Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯"

    def calculate_fans(self):
        price_factor = max(0.3, 1 - (self.ticket_price / 600))
        form_factor = self.recent_form / 100

        self.fans = int(self.stadium_capacity * price_factor * form_factor)
        self.fans = min(self.fans, self.stadium_capacity)

        self.fan_morale = min(50, int((self.fans / self.stadium_capacity) * 50))

    def check_expire(self):
        if self.stadium_level == 0:
            return False
        return time.time() > self.stadium_expire


class StadiumApp(App):
    def build(self):
        return Stadium()


if __name__ == "__main__":
    StadiumApp().run()
from kivy.properties import StringProperty

class Stadium(BoxLayout):
    stadium_level = NumericProperty(0)
    stadium_image = StringProperty("assets/stadiums/stadium_1.png")

    def update_stadium_image(self):
        if self.stadium_level == 0:
            self.stadium_image = "assets/stadiums/stadium_1.png"
        else:
            self.stadium_image = f"assets/stadiums/stadium_{self.stadium_level}.png"

    def buy_stadium(self, level):
        # Ù…Ù†Ø·Ù‚ Ø®Ø±ÛŒØ¯...
        self.stadium_level = level
        self.update_stadium_image()
from kivy.properties import StringProperty, NumericProperty, BooleanProperty
from kivy.uix.boxlayout import BoxLayout


class User(BoxLayout):
    role = StringProperty("USER")  # USER | MOD | ADMIN

    gold = NumericProperty(1000)
    kagold = NumericProperty(100)

    is_admin = BooleanProperty(False)

    def login(self, role):
        self.role = role
        self.is_admin = (role == "ADMIN")

        if self.is_admin:
            self.gold = 999999999
            self.kagold = 999999999

    # ğŸ”¥ Ø¯Ø§Ø¯Ù† Ø¬Ø§ÛŒØ²Ù‡ Ø¯Ù„Ø®ÙˆØ§Ù‡
    def give_reward(self, gold, kagold):
        if not self.is_admin:
            return
        self.gold += gold
        self.kagold += kagold

    # ğŸ§  Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ
    def add_legend_player(self, name, power):
        if not self.is_admin:
            return
        print(f"ğŸ† Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯: {name} | Ù‚Ø¯Ø±Øª {power}")

    # ğŸ“° Ø±ÙˆØ²Ù†Ø§Ù…Ù‡
    def publish_news(self, text):
        if not self.is_admin:
            return
        print(f"ğŸ— Ø®Ø¨Ø± Ø³Ø±Ø§Ø³Ø±ÛŒ: {text}")

    # ğŸ‘® Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø§Ø¸Ø±
    def promote_to_mod(self, user_id):
        if not self.is_admin:
            return
        print(f"Ú©Ø§Ø±Ø¨Ø± {user_id} Ù†Ø§Ø¸Ø± Ø´Ø¯")

    def remove_mod(self, user_id):
        if not self.is_admin:
            return
        print(f"Ù†Ø§Ø¸Ø± {user_id} Ø¹Ø²Ù„ Ø´Ø¯")
<User>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "Ù†Ù‚Ø´: " + root.role

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Button:
        text: "ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ADMIN (ØªØ³Øª)"
        on_press: root.login("ADMIN")

    BoxLayout:
        size_hint_y: None
        height: 40
        opacity: 1 if root.is_admin else 0
        disabled: not root.is_admin

        Button:
            text: "ğŸ Ø¬Ø§ÛŒØ²Ù‡"
            on_press: root.give_reward(5000, 500)

        Button:
            text: "ğŸ† Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ"
            on_press: root.add_legend_player("Legend X", 9999)

    BoxLayout:
        size_hint_y: None
        height: 40
        opacity: 1 if root.is_admin else 0
        disabled: not root.is_admin

        Button:
            text: "ğŸ“° Ø§Ù†ØªØ´Ø§Ø± Ø±ÙˆØ²Ù†Ø§Ù…Ù‡"
            on_press: root.publish_news("Ø±ÙˆÛŒØ¯Ø§Ø¯ ÙˆÛŒÚ˜Ù‡ Ø¢Ø®Ø± Ù‡ÙØªÙ‡!")

        Button:
            text: "ğŸ‘® Ù†ØµØ¨ Ù†Ø§Ø¸Ø±"
            on_press: root.promote_to_mod(12)
{
  "admin_created": false,
  "users": []
}
def register_user(phone):
    with open("users.json", "r", encoding="utf-8") as f:
        data = json.load(f)

    users = data["users"]

    if not data["admin_created"]:
        role = "ADMIN"
        data["admin_created"] = True
        gold = kagold = 999999999
    else:
        role = "USER"
        gold = 1000
        kagold = 100

    users.append({
        "phone": phone,
        "role": role,
        "gold": gold,
        "kagold": kagold
    })

    with open("users.json", "w", encoding="utf-8") as f:
        json.dump(data, f, ensure_ascii=False, indent=2)
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import StringProperty, NumericProperty, ListProperty

# Ø³Ø¨Ú© ÙÙˆØªØ¨Ø§Ù„ (Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§)
class Legend:
    def __init__(self, name, style, power_bonus, morale_bonus, tactic, risk_desc):
        self.name = name              # Ø§Ø³Ù… Ø³Ø¨Ú© Ù…Ø¯ÛŒØ±ÛŒØªÛŒ
        self.style = style            # ØªØ§Ú©ØªÛŒÚ©ÛŒØŒ Ø±ÙˆØ­ÛŒÙ‡â€ŒØ§ÛŒØŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ
        self.power_bonus = power_bonus
        self.morale_bonus = morale_bonus
        self.tactic = tactic          # Ø¯ÙØ§Ø¹ÛŒØŒ Ù…Ø§Ù„Ú©ÛŒØªÛŒØŒ Ù‡Ø¬ÙˆÙ…ÛŒ ÛŒØ§ Ù‡Ù…Ù‡
        self.risk_desc = risk_desc    # Ø§Ø«Ø± Ù…Ù†ÙÛŒ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ


LEGENDS = [
    Legend("Ø±Ù‡Ø¨Ø± ØªØ§Ú©ØªÛŒÚ©ÛŒ", "ØªØ§Ú©ØªÛŒÚ©ÛŒ", 800, 5, "Ø¯ÙØ§Ø¹ÛŒ",
           "Ø§Ú¯Ø± Ø§Ø´ØªØ¨Ø§Ù‡ ÙØ¹Ø§Ù„ Ø´ÙˆØ¯ØŒ Ø±ÙˆØ­ÛŒÙ‡ ØªÛŒÙ… âˆ’5 Ùˆ Ø§Ø­ØªÙ…Ø§Ù„ Ù…ØµØ¯ÙˆÙ…ÛŒØª â†‘"),
    Legend("Ù…Ø¹Ù…Ø§Ø± Ø¯ÙØ§Ø¹", "ØªØ§Ú©ØªÛŒÚ©ÛŒ", 600, 8, "Ù…Ø§Ù„Ú©ÛŒØªÛŒ",
           "ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§Ø´ØªØ¨Ø§Ù‡ â†’ ØªÙ…Ø§Ø´Ø§Ú¯Ø± âˆ’10 Ùˆ Ú©Ø§Ù‡Ø´ Ú©Ø§Ø±Ø§ÛŒÛŒ ØªØ§Ú©ØªÛŒÚ©"),
    Legend("Ù…ÙˆØªÙˆØ± Ù…ÛŒØ§Ù†ÛŒ", "Ø±ÙˆØ­ÛŒÙ‡â€ŒØ§ÛŒ", 400, 15, "Ù‡Ù…Ù‡",
           "ÙØ¹Ø§Ù„ÛŒØª Ø§Ø´ØªØ¨Ø§Ù‡ â†’ Ú©Ø§Ù‡Ø´ Ø§Ù†Ø±Ú˜ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ Ø§Ø­ØªÙ…Ø§Ù„ Ú©Ø§Ø±Øª Ø²Ø±Ø¯ â†‘"),
    Legend("Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ", "Ø§Ù‚ØªØµØ§Ø¯ÛŒ", 300, 10, "Ù‡Ù…Ù‡",
           "ÙØ¹Ø§Ù„ÛŒØª Ø§Ø´ØªØ¨Ø§Ù‡ â†’ Ø¯Ø±Ø¢Ù…Ø¯ Ø¨Ù„ÛŒØª â†“ØŒ Ù‡ÙˆØ§Ø¯Ø§Ø± Ù†Ø§Ø±Ø§Ø¶ÛŒ")
]


class Game(BoxLayout):
    base_power = NumericProperty(10000)
    base_morale = NumericProperty(50)

    total_power = NumericProperty(10000)
    total_morale = NumericProperty(50)

    selected_tactic = StringProperty("Ø¯ÙØ§Ø¹ÛŒ")

    legends_owned = ListProperty([])
    active_legend = StringProperty("")

    info_text = StringProperty("")
    risk_text = StringProperty("")

    def add_legend(self, legend_name):
        for l in LEGENDS:
            if l.name == legend_name and legend_name not in self.legends_owned:
                self.legends_owned.append(legend_name)
                self.info_text = f"ğŸ† Ø³Ø¨Ú© {legend_name} Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯"
                return

    def activate_legend(self, legend_name):
        for l in LEGENDS:
            if l.name == legend_name:
                if l.tactic != "Ù‡Ù…Ù‡" and l.tactic != self.selected_tactic:
                    self.info_text = "âŒ Ø§ÛŒÙ† Ø³Ø¨Ú© Ø¨Ø§ ØªØ§Ú©ØªÛŒÚ© ÙØ¹Ù„ÛŒ Ø³Ø§Ø²Ú¯Ø§Ø± Ù†ÛŒØ³Øª"
                    self.risk_text = l.risk_desc
                    return

                self.active_legend = legend_name
                self.calculate_stats()
                self.info_text = f"ğŸ”¥ Ø³Ø¨Ú© ÙØ¹Ø§Ù„ Ø´Ø¯: {legend_name}"
                self.risk_text = l.risk_desc
                return

    def deactivate_legend(self):
        self.active_legend = ""
        self.calculate_stats()
        self.info_text = "â›” Ø³Ø¨Ú© ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´Ø¯"
        self.risk_text = ""

    def calculate_stats(self):
        self.total_power = self.base_power
        self.total_morale = self.base_morale

        for l in LEGENDS:
            if l.name == self.active_legend:
                self.total_power += l.power_bonus
                self.total_morale += l.morale_bonus

        self.total_morale = min(self.total_morale, 100)


class FootballApp(App):
    def build(self):
        return Game()


if __name__ == "__main__":
    FootballApp().run()
import random
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty

class Game(BoxLayout):
    base_power = NumericProperty(10000)
    base_morale = NumericProperty(50)

    active_style_bonus = NumericProperty(0)
    active_style_risk = NumericProperty(0)

    selected_tactic = StringProperty("Ø¯ÙØ§Ø¹ÛŒ")
    result_text = StringProperty("")

    def simulate_match(self, opponent_power):
        """
        Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ø¨Ø§Ø²ÛŒ:
        - Ù‚Ø¯Ø±Øª ØªÛŒÙ… Ø®ÙˆØ¯ÛŒ + Ø±ÙˆØ­ÛŒÙ‡ + Ø³Ø¨Ú© ÙØ¹Ø§Ù„ + ØªØµØ§Ø¯Ù
        """
        # Û±. Ù‚Ø¯Ø±Øª ÙˆØ§Ù‚Ø¹ÛŒ ØªÛŒÙ…
        team_power = self.base_power + self.active_style_bonus
        # Û². Ø±ÙˆØ­ÛŒÙ‡ Ø§Ø«Ø± (0-100)
        morale_effect = team_power * (self.base_morale / 100)
        # Û³. Ø´Ø§Ù†Ø³ ØªØµØ§Ø¯ÙÛŒ (Â±ÛµÙª)
        luck = random.uniform(0.95, 1.05)
        final_score = (team_power + morale_effect) * luck
        # Û´. Ø³Ø¨Ú© ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø±ÛŒØ³Ú© Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯
        final_score -= self.active_style_risk

        # Ûµ. Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ Ø­Ø±ÛŒÙ
        if final_score > opponent_power * random.uniform(0.95,1.05):
            self.result_text = "ğŸ† Ù¾ÛŒØ±ÙˆØ²ÛŒ!"
        elif final_score == opponent_power:
            self.result_text = "âš– Ù…Ø³Ø§ÙˆÛŒ"
        else:
            self.result_text = "âŒ Ø´Ú©Ø³Øª"

class FootballApp(App):
    def build(self):
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty, ListProperty
import random
import datetime

class DailySpin(BoxLayout):
    gold = NumericProperty(1000)
    spin_result = StringProperty("")
    last_spin_date = StringProperty("")

    def spin(self):
        today = datetime.date.today().isoformat()
        if self.last_spin_date == today:
            self.spin_result = "âœ… Ø§Ù…Ø±ÙˆØ² Ù‚Ø¨Ù„Ø§Ù‹ Ú†Ø±Ø®ÙˆÙ†Ø¯ÛŒ!"
            return

        rewards = [
            (1000, 20),
            (1500, 15),
            (3000, 20),
            (0, 25),      # Ù¾ÙˆÚ†
            (6000, 10),
            (5000, 10)
        ]

        r = random.randint(1, 100)
        cumulative = 0
        for amount,
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty, BooleanProperty, ListProperty
import random
import datetime

# =============================
# Ú©Ù„Ø§Ø³ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§
# =============================
class Legend:
    def __init__(self, name, legend_type, base_power, morale_bonus=0,
                 tactic_bonus=None, stadium_bonus=0, condition=None):
        self.name = name
        self.legend_type = legend_type
        self.base_power = base_power
        self.morale_bonus = morale_bonus
        self.tactic_bonus = tactic_bonus
        self.stadium_bonus = stadium_bonus
        self.condition = condition  # ØªØ§Ø¨Ø¹ Ø´Ø±Ø· ÙØ¹Ø§Ù„Ø³Ø§Ø²ÛŒ


# =============================
# Ú©Ù„Ø§Ø³ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ
# =============================
class Game(BoxLayout):
    # Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÛŒÙ… Ùˆ Ø¨Ø§Ø²ÛŒ
    team_power = NumericProperty(10000)
    team_morale = NumericProperty(60)
    tactic = StringProperty("Ø¯ÙØ§Ø¹ÛŒ")
    stadium_level = NumericProperty(3)
    is_home = BooleanProperty(True)

    # Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§
    active_legends = ListProperty([])
    legend_info = StringProperty("")

    # Ø¬ÙˆØ§ÛŒØ² Ø±ÙˆØ²Ø§Ù†Ù‡
    gold = NumericProperty(1000)
    last_spin_date = StringProperty("")
    spin_result = StringProperty("")

    # Ø§Ú©Ø§Ù†Øª
    role = StringProperty("USER")
    is_admin = BooleanProperty(False)

    # Ú©Ù†ÙØ±Ø§Ù†Ø³ Ø®Ø¨Ø±ÛŒ
    weekly_questions = ListProperty([])
    conference_text = StringProperty("")

    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        self.legends = self.create_legends()
        self.setup_weekly_questions()

    # -----------------------------
    # Ø³ÛŒØ³ØªÙ… Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§
    # -----------------------------
    def create_legends(self):
        return {
            "ÙØ±Ù…Ø§Ù†Ø¯Ù‡ Ø´Ù‡Ø±": Legend(
                name="ÙØ±Ù…Ø§Ù†Ø¯Ù‡ Ø´Ù‡Ø±",
                legend_type="Ø±ÙˆØ­ÛŒÙ‡â€ŒØ§ÛŒ",
                base_power=2000,
                morale_bonus=15,
                stadium_bonus=20,
                condition=lambda g: g.is_home and g.stadium_level >= 3
            ),
            "Ù…ØºØ² Ù…ØªÙÚ©Ø±": Legend(
                name="Ù…ØºØ² Ù…ØªÙÚ©Ø±",
                legend_type="ØªØ§Ú©ØªÛŒÚ©ÛŒ",
                base_power=1500,
                tactic_bonus="Ù…Ø§Ù„Ú©ÛŒØªÛŒ",
                condition=lambda g: g.tactic == "Ù…Ø§Ù„Ú©ÛŒØªÛŒ"
            ),
            "Ù…Ø±Ø¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯": Legend(
                name="Ù…Ø±Ø¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯",
                legend_type="Ø´Ø±Ø§ÛŒØ·ÛŒ",
                base_power=1800,
                morale_bonus=10,
                condition=lambda g: g.team_morale >= 70
            )
        }

    def add_legend_to_team(self, name):
        if name in self.legends and name not in self.active_legends:
            self.active_legends.append(name)
            self.legend_info = f"ğŸ† {name} Ø¨Ù‡ ØªØ±Ú©ÛŒØ¨ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯"

    def calculate_team_stats(self):
        power = self.team_power
        morale = self.team_morale

        for name in self.active_legends:
            legend = self.legends[name]
            if legend.condition and not legend.condition(self):
                continue
            power += legend.base_power
            morale += legend.morale_bonus
            if legend.tactic_bonus == self.tactic:
                power += 1000
            if legend.stadium_bonus > 0:
                morale += legend.stadium_bonus

        self.legend_info = f"Ù‚Ø¯Ø±Øª Ù†Ù‡Ø§ÛŒÛŒ: {power} | Ø±ÙˆØ­ÛŒÙ‡ Ù†Ù‡Ø§ÛŒÛŒ: {morale}"

    def play_match(self):
        self.calculate_team_stats()

    # -----------------------------
    # Ø³ÛŒØ³ØªÙ… Ø¬ÙˆØ§ÛŒØ² Ø±ÙˆØ²Ø§Ù†Ù‡
    # -----------------------------
    def spin_daily(self):
        today = datetime.date.today().isoformat()
        if self.last_spin_date == today:
            self.spin_result = "âœ… Ø§Ù…Ø±ÙˆØ² Ù‚Ø¨Ù„Ø§Ù‹ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø²Ø¯Ù‡ Ø´Ø¯Ù‡"
            return

        rewards = [
            (1000, 20),
            (1500, 15),
            (3000, 20),
            (0, 25),
            (6000, 10),
            (5000, 10)
        ]
        r = random.randint(1, 100)
        cumulative = 0
        for amount, chance in rewards:
            cumulative += chance
            if r <= cumulative:
                if amount > 0:
                    self.gold += amount
                    self.spin_result = f"ğŸ‰ Ø¬Ø§ÛŒØ²Ù‡: {amount} Ú¯Ù„Ø¯"
                else:
                    self.spin_result = "ğŸ˜¢ Ù¾ÙˆÚ†!"
                break
        self.last_spin_date = today

    # -----------------------------
    # Ø³ÛŒØ³ØªÙ… Ø§Ú©Ø§Ù†Øª Ùˆ Ù†Ù‚Ø´â€ŒÙ‡Ø§
    # -----------------------------
    def login(self, role):
        self.role = role
        self.is_admin = (role == "ADMIN")
        if self.is_admin:
            self.gold = 999999999

    def give_reward(self, gold):
        if self.is_admin:
            self.gold += gold

    # -----------------------------
    # Ø³ÛŒØ³ØªÙ… Ú©Ù†ÙØ±Ø§Ù†Ø³ Ø®Ø¨Ø±ÛŒ
    # -----------------------------
    def setup_weekly_questions(self):
        self.weekly_questions = [
            # Ù‡ÙØªÙ‡ 1
            [
                "Ø³Ù„Ø§Ù… Ùˆ ØªØ´Ú©Ø± Ø§Ø² Ø­Ø¶ÙˆØ±ØªÙˆÙ†ØŒ Ù†Ø¸Ø±ØªÙˆÙ† Ø±Ø§Ø¬Ø¨ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§ØªØŸ",
                "Ù†Ø¸Ø±ØªÙˆÙ† Ø±Ø§Ø¬Ø¨ ÙˆØ¶Ø¹ÛŒØª Ø¬Ø¯ÙˆÙ„ØŸ",
                "Ù†Ø¸Ø±ØªÙˆÙ† Ø±Ø§Ø¬Ø¨ ØªÛŒÙ…ØŸ",
                "Ø³Ø®Ù† Ú©Ù„ÛŒ",
                "ØªØ´Ú©Ø± Ø§Ø² Ø´Ù…Ø§"
            ],
            # Ù‡ÙØªÙ‡ 2
            [
                "Ø³Ù„Ø§Ù… Ùˆ ØªØ´Ú©Ø± Ø¨Ø§Ø¨Øª Ø­Ø¶ÙˆØ±ØŒ ØªÛŒÙ… Ú†Ø·ÙˆØ±Ù‡ØŸ",
                "Ø¢ÛŒØ§ Ø±Ø§Ø¶ÛŒ Ù‡Ø³ØªÛŒØ¯ØŸ",
                "Ú†Ù‡ Ø§Ø´ØªØ¨Ø§Ù‡ÛŒ Ø¯Ø± Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø¶Ø±Ø± Ø²Ø¯ Ø¨Ù‡ Ø´Ù…Ø§ØŸ",
                "ØªØ´Ú©Ø± Ø§Ø² Ø´Ù…Ø§"
            ],
            # Ù‡ÙØªÙ‡ 3
            [
                "Ø³Ù„Ø§Ù… Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯",
                "ØªÛŒÙ… Ø¯Ø± Ø§ÙˆØ§Ø®Ø± ÙØµÙ„ Ú†Ø·ÙˆØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŸ",
                "Ø¢ÛŒØ§ Ø´Ø§Ù†Ø³ Ù‚Ù‡Ø±Ù…Ø§Ù†ÛŒ Ù‡Ø³ØªØŸ",
                "Ù†Ø¸Ø±ØªÙˆÙ† Ø±Ø§Ø¬Ø¨ Ù‡ÙˆØ§Ø¯Ø§Ø±Ø§ Ùˆ Ø¯Ø±Ø®ÙˆØ§Ø³ØªØ´Ø§Ù†ØŸ",
                "ØªØ´Ú©Ø± Ø§Ø² Ø´Ù…Ø§"
            ],
            # Ù‡ÙØªÙ‡ 4
            [
                "Ø³Ù„Ø§Ù… Ø§Ø² Ø´Ù…Ø§ Ø¹Ø²ÛŒØ² Ø¯Ù„",
                "Ø±Ø§Ø¶ÛŒ Ø¨ÙˆØ¯ÛŒÙ† Ø§Ø² Ø¹Ù…Ù„Ú©Ø±Ø¯ ØªÛŒÙ…ØŸ",
                "Ù†Ø¸Ø±ØªÙˆÙ† Ø±Ø§Ø¬Ø¨ Ù†Ø¸Ø± Ù‡ÙˆØ§Ø¯Ø§Ø±Ø§ØŸ",
                "Ø¢ÛŒØ§ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø¯Ø§Ø±ÛŒØ¯ØŸ",
                "ØªØ´Ú©Ø± Ø¨Ù‡ Ø§Ù…ÛŒØ¯ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± ÙØµÙ„ Ø¨Ø¹Ø¯ÛŒ ğŸŒ¹"
            ]
        ]

    def show_conference(self, week):
        if 1 <= week <= len(self.weekly_questions):
            questions = self.weekly_questions[week-1]
            self.conference_text = "\n".join([f"â“ {q}" for q in questions])
        else:
            self.conference_text = "Ù‡ÙØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª"
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty, ListProperty
import time

# =========================
# Ù…Ø¯Ù„ Ø§Ø³Ù¾Ø§Ù†Ø³Ø±
# =========================
class Sponsor:
    def __init__(self, level, need_power, need_points, weekly_income, duration_days=30):
        self.level = level
        self.need_power = need_power
        self.need_points = need_points
        self.weekly_income = weekly_income
        self.duration_days = duration_days


# =========================
# ØµÙØ­Ù‡ Ø§Ø³Ù¾Ø§Ù†Ø³Ø±
# =========================
class SponsorSystem(BoxLayout):
    # ÙˆØ¶Ø¹ÛŒØª ØªÛŒÙ…
    team_power = NumericProperty(10000)
    team_points = NumericProperty(1200)   # Ø§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÙˆÙ„
    gold = NumericProperty(1000)
    kagold = NumericProperty(500)

    # Ø§Ø³Ù¾Ø§Ù†Ø³Ø± ÙØ¹Ø§Ù„
    active_sponsor_level = NumericProperty(0)
    sponsor_expire_time = NumericProperty(0)
    sponsor_info = StringProperty("")

    sponsors = ListProperty([])

    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        self.create_sponsors()

    def create_sponsors(self):
        self.sponsors = [
            Sponsor(1, 1500, 0, 2),
            Sponsor(2, 5000, 500, 6),
            Sponsor(3, 15000, 2500, 15),
            Sponsor(4, 40000, 7000, 25),
            Sponsor(5, 70000, 10000, 50),
        ]

    # -------------------------
    # Ú¯Ø±ÙØªÙ† Ø§Ø³Ù¾Ø§Ù†Ø³Ø±
    # -------------------------
    def sign_sponsor(self, level):
        sponsor = next((s for s in self.sponsors if s.level == level), None)
        if not sponsor:
            return

        # Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø±Ø§ÛŒØ·
        if self.team_power < sponsor.need_power or self.team_points < sponsor.need_points:
            self.sponsor_info = "âŒ Ø´Ø±Ø§ÛŒØ· Ø§Ø³Ù¾Ø§Ù†Ø³Ø± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒ"
            return

        # ÙØ³Ø® Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù‚Ø¨Ù„ÛŒ
        if self.active_sponsor_level > 0:
            cancel_cost = self.active_sponsor_level * 5
            if self.kagold < cancel_cost:
                self.sponsor_info = "âŒ Ú©Ø§Ú¯Ù„Ø¯ Ø¨Ø±Ø§ÛŒ ÙØ³Ø® Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª"
                return
            self.kagold -= cancel_cost

        # Ø«Ø¨Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯
        self.active_sponsor_level = sponsor.level
        self.sponsor_expire_time = time.time() + (sponsor.duration_days * 24 * 60 * 60)
        self.sponsor_info = f"ğŸ¤ Ø§Ø³Ù¾Ø§Ù†Ø³Ø± Ø³Ø·Ø­ {level} ÙØ¹Ø§Ù„ Ø´Ø¯"

    # -------------------------
    # Ø¯Ø±Ø¢Ù…Ø¯ Ù‡ÙØªÚ¯ÛŒ
    # -------------------------
    def get_weekly_income(self):
        if self.active_sponsor_level == 0:
            self.sponsor_info = "Ø§Ø³Ù¾Ø§Ù†Ø³Ø±ÛŒ ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª"
            return

        sponsor = next(s for s in self.sponsors if s.level == self.active_sponsor_level)
        self.kagold += sponsor.weekly_income
        self.sponsor_info = f"ğŸ’° Ø¯Ø±Ø¢Ù…Ø¯ Ù‡ÙØªÚ¯ÛŒ: {sponsor.weekly_income} Ú©Ø§ Ú¯Ù„Ø¯"

    # -------------------------
    # Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù†Ù‚Ø¶Ø§
    # -------------------------
    def check_expire(self):
        if self.active_sponsor_level > 0 and time.time() > self.sponsor_expire_time:
            self.active_sponsor_level = 0
            self.sponsor_info = "âŒ› Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ø³Ù¾Ø§Ù†Ø³Ø± Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯"


class SponsorApp(App):
    def build(self):
        return SponsorSystem()


if __name__ == "__main__":
    SponsorApp().run()
# main.py (Ø³Ø§Ø®ØªØ§Ø± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø§Ø¨Ù„ÛŒØª Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯)

from kivy.app import App
from kivy.uix.screenmanager import Screen, ScreenManager
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.button import Button
from kivy.uix.label import Label
from kivy.properties import NumericProperty, StringProperty, ObjectProperty, ListProperty

# --- ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ú©Ù„Ø§Ø³ Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ø² Ù‚Ø¨Ù„ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ù†Ø¯ ---
class Player:
    def __init__(self, name, power, contract_end_month):
        self.name = name
        self.power = power
        self.contract_end_month = contract_end_month # Ù…Ø«Ù„Ø§Ù‹ Ù…Ø§Ù‡ 12
        # Ø³Ø§ÛŒØ± ÙˆÛŒÚ˜Ú¯ÛŒ Ù‡Ø§ Ù…Ø«Ù„ Ù‚ÛŒÙ…Øª Ùˆ ØªÛŒÙ… ÙØ¹Ù„ÛŒ

class Team:
    def __init__(self, name, gold=1000000, power_rating=1000):
        self.name = name
        self.gold = gold
        self.players = []
        self.power_rating = power_rating # Ø¨Ø±Ø§ÛŒ ÙˆØ§Ù… Ø¨Ø§Ù†Ú©ÛŒ

    def add_gold(self, amount):
        self.gold += amount

    def remove_gold(self, amount):
        self.gold -= amount
        return True # Ù‡Ù…ÛŒØ´Ù‡ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù…ÛŒØ² Ø§Ø³Øª Ù…Ú¯Ø± Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… Ù…Ù†ÙÛŒ Ø´Ø¯Ù† Ø±Ø§ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ù†ÛŒÙ…

# ----------------------------------------------------

class Bank:
    def __init__(self):
        self.loan_repayment_day = 1 # Ù…Ø«Ù„Ø§Ù‹ Ø±ÙˆØ² Ø§ÙˆÙ„ Ù‡Ø± Ù…Ø§Ù‡

    def take_power_loan(self, team: Team):
        """ÙˆØ§Ù… Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø±Ø²Ø´ ØªÛŒÙ…"""
        loan_amount = int(team.power_rating * 0.1) # Ù…Ø«Ø§Ù„: 10% Ø§Ø±Ø²Ø´ ØªÛŒÙ…
        repayment_amount = int(loan_amount * 1.10) # 10% Ø³ÙˆØ¯
        
        team.add_gold(loan_amount)
        
        # Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ù„ÛŒØ³Øª Ø¨Ø¯Ù‡ÛŒ Ù‡Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø± Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡
        print(f"ÙˆØ§Ù… {loan_amount} Ú¯Ù„Ø¯ Ø¨Ø§ Ø¨Ø§Ø²Ù¾Ø±Ø¯Ø§Ø®Øª {repayment_amount} Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯.")
        return True

    def take_fixed_loan(self, team: Team, loan_type: int):
        """ÙˆØ§Ù… Ù‡Ø§ÛŒ Ø«Ø§Ø¨Øª: 500k, 1M, 2M"""
        if loan_type == 1: # 500k
            amount, interest = 500000, 0.10
        elif loan_type == 2 and team.power_rating >= 5000: # 1M
            amount, interest = 1000000, 0.20
        elif loan_type == 3 and team.power_rating >= 5000: # 2M
            amount, interest = 2000000, 0.30
        else:
            print("Ø´Ø±Ø§ÛŒØ· ÙˆØ§Ù… Ø¨Ø±Ø¢ÙˆØ±Ø¯Ù‡ Ù†Ø´Ø¯.")
            return False
        
        repayment_amount = int(amount * (1 + interest))
        
        team.add_gold(amount)
        print(f"ÙˆØ§Ù… {amount} Ú¯Ù„Ø¯ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯. Ø¨Ø§Ø²Ù¾Ø±Ø¯Ø§Ø®Øª: {repayment_amount}")
        return True

    def auto_deduct(self, team: Team):
        """Ù…Ú©Ø§Ù†ÛŒØ²Ù… Ú©Ø³Ø± Ø®ÙˆØ¯Ú©Ø§Ø± (Ù…Ø«Ù„Ø§Ù‹ Ø¯Ø± Ø±ÙˆØ² Ø§ÙˆÙ„)"""
        # Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…Ù†Ø·Ù‚ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø´ÙˆØ¯
        
        # Ú©Ø³Ø± ÙˆØ§Ù… Ù‡Ø§ÛŒ Ø§Ø±Ø²Ø´ ØªÛŒÙ…ÛŒ (ÙØ±Ø¶ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¯Ø± Ø§ÛŒÙ† Ù…Ø¯Ù„ Ø³Ø§Ø¯Ù‡ ÙÙ‚Ø· ÛŒÚ© ÙˆØ§Ù… Ø¯Ø§Ø±ÛŒÙ…)
        # Ø¯Ø± Ù…Ø¯Ù„ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø§ÛŒØ¯ Ù„ÛŒØ³ØªÛŒ Ø§Ø² ÙˆØ§Ù… Ù‡Ø§ Ø±Ø§ Ú†Ú© Ú©Ù†ÛŒØ¯
        
        # Ú©Ø³Ø± ÙˆØ§Ù… Ù‡Ø§ÛŒ Ø«Ø§Ø¨Øª
        if team.gold < 0:
            # Ø§Ú¯Ø± Ù¾ÙˆÙ„ Ù†Ø¯Ø§Ø´ØªÛŒÙ…ØŒ 50% Ø¨ÛŒØ´ØªØ± Ú©Ø³Ø± Ù…ÛŒ Ø´ÙˆØ¯
            deduction_penalty = abs(team.gold) * 0.50
            team.gold -= deduction_penalty # ÛŒØ¹Ù†ÛŒ Ø¨Ø¯Ù‡ÛŒ Ø§Ø´ Ø¨ÛŒØ´ØªØ± Ù…ÛŒ Ø´ÙˆØ¯
            print(f"Ú©Ø³Ø± Ø¬Ø±ÛŒÙ…Ù‡ 50% Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù†Ø¯Ø§Ø´ØªÙ† Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ù¾Ø±Ø¯Ø§Ø®Øª: {deduction_penalty}")


class TransferManager:
    def __init__(self, team_a: Team, team_b: Team):
        self.team_a = team_a
        self.team_b = team_b
        self.is_transfer_window_open = False # Ø¨Ø§ÛŒØ¯ Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ§Ø±ÛŒØ® Ø¨Ø§Ø²ÛŒ ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆØ¯
        self.current_transfers_today = 0
        self.max_daily_transfers = 1

    def transfer_player(self, player: Player, from_team: Team, to_team: Team):
        if player not in from_team.players:
            return "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ø± ØªÛŒÙ… Ù…Ø¨Ø¯Ø§ ÛŒØ§ÙØª Ù†Ø´Ø¯."

        if self.is_transfer_window_open:
            # Ù¾Ù†Ø¬Ø±Ù‡ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª: Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯
            from_team.players.remove(player)
            to_team.players.append(player)
            return f"{player.name} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨ÛŒÙ† ØªÛŒÙ… Ù‡Ø§ Ù…Ù†ØªÙ‚Ù„ Ø´Ø¯."
        
        elif self.current_transfers_today < self.max_daily_transfers:
            # Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¹Ø§Ø¯ÛŒ: ÙÙ‚Ø· ÛŒÚ© Ø¨Ø§Ø²ÛŒÚ©Ù†
            from_team.players.remove(player)
            to_team.players.append(player)
            self.current_transfers_today += 1
            return f"{player.name} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ù…Ù†ØªÙ‚Ù„ Ø´Ø¯ (1/1). Ø±ÙˆØ²Ø§Ù†Ù‡."

        else:
            return "Ø§Ù…Ø±ÙˆØ² Ø¯ÛŒÚ¯Ø± Ø§Ø¬Ø§Ø²Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù† Ù†Ø¯Ø§Ø±ÛŒØ¯."

    def handle_contract_end(self, player: Player, selling_team: Team, selling_price):
        """Ù…Ù†Ø·Ù‚ Ù¾Ø§ÛŒØ§Ù† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"""
        if not self.is_transfer_window_open and player.contract_end_month != 'End_Season':
            # Ø§Ú¯Ø± Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ ÙˆÙ„ÛŒ Ù¾Ù†Ø¬Ø±Ù‡ Ø¨Ø§Ø² Ù†ÛŒØ³Øª
            # ÙØ±Ø¶ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ø± Ø¨Ø§Ø²Ø§Ø± Ø§Ø³Øª Ùˆ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø± (Ù…Ø±Ø¨ÛŒ Ø¯ÛŒÚ¯Ø±) Ø¢Ù† Ø±Ø§ Ù…ÛŒ Ø®Ø±Ø¯
            
            # Ø¯Ø±ÛŒØ§ÙØª 1/4 Ù¾ÙˆÙ„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ø² Ø®Ø±ÛŒØ¯Ø§Ø± (Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ù‚ÛŒÙ…Øª Ø§Ø² Ú©Ø§Ø±Ø¨Ø± Ø®Ø§Ø±Ø¬ÛŒ Ø¯Ø§Ø±Ø¯)
            transfer_fee_received = int(selling_price * 0.25) 
            selling_team.add_gold(transfer_fee_received)
            print(f"ØªÛŒÙ… Ù‚Ø¨Ù„ÛŒ {transfer_fee_received} Ú¯Ù„Ø¯ Ø§Ø² ÙØ±ÙˆØ´ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯.")
            
            # Ø¨Ù‚ÛŒÙ‡ Ù…Ù†Ø·Ù‚ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØªÛŒÙ… Ø®Ø±ÛŒØ¯Ø§Ø±
            # ...

class GameScreenManager(ScreenManager):
    # ... Ø´Ø§Ù…Ù„ ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ (Home, Team_B_Setup, Bank, Transfers)
    pass

class TeamBSetupScreen(Screen):
    # Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø´Ø§Ù…Ù„ Ø¯Ú©Ù…Ù‡ Ø§ÛŒØ¬Ø§Ø¯ ØªÛŒÙ… B Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯
    cost_to_create = 700000
    team_a = ObjectProperty(None) # Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ ØªÛŒÙ… Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ Ù„ÛŒÙ†Ú© Ø´ÙˆØ¯

    def create_team_b(self):
        if self.team_a.gold >= self.cost_to_create:
            self.team_a.remove_gold(self.cost_to_create)
            team_b = Team(name=f"{self.team_a.name} (B)", gold=0, power_rating=100) # Ù‚Ø¯Ø±Øª Ø§ÙˆÙ„ÛŒÙ‡ Ú©Ù…ØªØ±
            
            # Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ù…ØªØºÛŒØ± Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆØ¯
            # self.manager.teams['Team_B'] = team_b 
            print("ØªÛŒÙ… B Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯!")
            # Ø±ÙØªÙ† Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ ØªÛŒÙ… B
            # self.manager.current = 'TeamB_Home'
        else:
            print("Ø·Ù„Ø§ÛŒ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… B ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.")

class MainApp(App):
    def build(self):
        # ... Ø±Ø§Ù‡ Ø§Ù†Ø¯Ø§Ø²ÛŒ ØªÛŒÙ… Ù‡Ø§ Ùˆ Ø¨Ø§Ù†Ú©
        self.team1 = Team("Team A", gold=2000000, power_rating=6000)
        self.team2 = None # ØªÛŒÙ… B
        self.bank = Bank()
        self.transfer_manager = TransferManager(self.team1, self.team2)
        
        sm = ScreenManager()
        # ... Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ØµÙØ­Ø§Øª
        return sm

# if __name__ == '__main__':
#     MainApp().run()
# main.py (ØªÙˆØ³Ø¹Ù‡ Ù…Ø¯Ù„ Ù‡Ø§ Ùˆ Ù…Ù†Ø·Ù‚ Ù¾Ù†Ø§Ù„ØªÛŒ Ùˆ Ù¾Ø§Ø¯Ø§Ø´)

from kivy.app import App
from kivy.uix.screenmanager import Screen, ScreenManager
from kivy.properties import NumericProperty, StringProperty, ObjectProperty, ListProperty
import random

# --- Ù…Ø¯Ù„ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù† (Player) ---
class Player:
    def __init__(self, name, position, scoring_power, gold_cost=50000, is_captain=False, image_url="default.png"):
        self.name = name
        self.position = position # 'GK', 'DEF', 'MID', 'ATT'
        self.power = random.randint(50, 99)
        self.scoring_power = scoring_power # Ø¨Ø±Ø§ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ: Ù‡Ø±Ú†Ù‡ Ø¨Ø§Ù„Ø§ØªØ±ØŒ Ø¨Ù‡ØªØ±
        self.gold_cost = gold_cost
        self.is_captain = is_captain
        self.image_url = image_url
        self.overall_rating = 0 # Ù†Ù…Ø±Ù‡ Ù†Ù‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø¬Ø¯ÙˆÙ„ Ø¨Ø±ØªØ±ÛŒÙ† Ù‡Ø§
        
    def __repr__(self):
        return f"Player({self.name}, Power:{self.power})"

# --- Ù…Ø¯Ù„ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ ØªÛŒÙ… (Team) ---
class Team:
    def __init__(self, name):
        self.name = name
        self.gold = 1000000
        self.players = []
        self.penalty_takers = [] # Ù„ÛŒØ³Øª 5 ØªØ§ÛŒÛŒ Ø§Ø² Ø¢Ø¨Ø¬Ú©Øª Ù‡Ø§ÛŒ Player
        self.captains = [] # Ù„ÛŒØ³Øª 3 ØªØ§ÛŒÛŒ Ø§Ø² Ø¢Ø¨Ø¬Ú©Øª Ù‡Ø§ÛŒ Player
        self.stats = TeamStats()
        self.trophies = {'league': 0, 'cup': 0}

    def set_penalty_takers(self, player_list):
        if len(player_list) == 5:
            self.penalty_takers = player_list
            print(f"Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù†Ø§Ù† {self.name} ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù†Ø¯.")
            return True
        return False
        
    def set_captains(self, player_list):
        if len(player_list) <= 3:
            self.captains = player_list
            for p in self.players:
                p.is_captain = (p in player_list)
            print(f"Ú©Ø§Ù¾ÛŒØªØ§Ù† Ù‡Ø§ÛŒ {self.name} ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù†Ø¯.")
            return True
        return False

    def change_player_position(self, player: Player, new_position, cost=100000):
        if self.gold >= cost:
            self.gold -= cost
            player.position = new_position
            print(f"Ù¾Ø³Øª {player.name} Ø¨Ø§ Ù‡Ø²ÛŒÙ†Ù‡ {cost} Ú¯Ù„Ø¯ Ø¨Ù‡ {new_position} ØªØºÛŒÛŒØ± ÛŒØ§ÙØª.")
            return True
        return False

    def change_player_image(self, player: Player, new_url):
        # Ø§ÛŒÙ† Ø¹Ù…Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø³Øª
        player.image_url = new_url
        print(f"ØªØµÙˆÛŒØ± {player.name} Ø¨Ù‡ Ø±ÙˆØ² Ø´Ø¯.")

class GoalkeeperStat:
    def __init__(self, name, total_goals_conceded, total_matches):
        self.name = name
        self.total_goals_conceded = total_goals_conceded
        self.total_matches = total_matches
        self.goals_per_match = total_goals_conceded / total_matches if total_matches > 0 else 999.0

class TeamStats:
    def __init__(self):
        self.best_scorers = []
        self.best_passers = []
        self.historical_gks = [] # Ù„ÛŒØ³Øª Ø¢Ø¨Ø¬Ú©Øª Ù‡Ø§ÛŒ GoalkeeperStat

    def add_goalkeeper_stat(self, name, goals, matches):
        new_stat = GoalkeeperStat(name, goals, matches)
        self.historical_gks.append(new_stat)
        self.historical_gks.sort(key=lambda x: x.goals_per_match) # Ù…Ø±ØªØ¨ Ø³Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¨Ù‡ØªØ±ÛŒÙ† Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†

# --- Ù…Ù†Ø·Ù‚ Ø¨Ø§Ø²ÛŒ (Game Logic) ---
class GameLogic:
    def __init__(self, team1: Team, team2: Team):
        self.team1 = team1
        self.team2 = team2
        self.world_best_players = [] # Ø¨Ø±Ø§ÛŒ Ø¢Ù…Ø§Ø± Ù¾Ø§ÛŒØ§Ù† ÙØµÙ„

    def calculate_tripple_prize(self, team: Team):
        """Ø§Ø¹Ø·Ø§ÛŒ Ø¬Ø§ÛŒØ²Ù‡ Ø³Ù‡â€ŒÚ¯Ø§Ù†Ù‡"""
        # ÙØ±Ø¶ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† ÙØµÙ„ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒ Ø´ÙˆØ¯
        is_league_champ = team.trophies.get('league', 0) > 0
        is_cup_champ = team.trophies.get('cup', 0) > 0
        
        if is_league_champ and is_cup_champ:
            # 150K Ú¯Ù„Ø¯ Ø¨Ø±Ø§ÛŒ Ø¬Ø§ÛŒØ²Ù‡ Ø³Ù‡â€ŒÚ¯Ø§Ù†Ù‡
            bonus = 150000
            team.gold += bonus
            print(f"ØªÛŒÙ… {team.name} Ø¬Ø§ÛŒØ²Ù‡ Ø³Ù‡â€ŒÚ¯Ø§Ù†Ù‡ Ùˆ {bonus} Ú¯Ù„Ø¯ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯. Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ø³ÙˆÙ¾Ø±Ú©Ø§Ù¾ Ù„ØºÙˆ Ø´Ø¯.")
            # Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ÛŒØ¯ Ø¬ÙˆØ§ÛŒØ² Ø±ØªØ¨Ù‡ Ø§ÙˆÙ„ Ùˆ Ø¯ÙˆÙ… Ù„ÛŒÚ¯ Ù‡Ù… Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆØ¯ (Ú©Ù‡ Ø¨Ø§ÛŒØ¯ ØªØ¹Ø±ÛŒÙ Ø´ÙˆÙ†Ø¯)
            return True
        return False

    def simulate_penalty_shootout(self, team1: Team, team2: Team):
        """Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ Ú©Ø´ÛŒ"""
        
        # Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† Ù‡Ø§
        if len(team1.penalty_takers) < 5 or len(team2.penalty_takers) < 5:
            print("ØªÛŒÙ…â€ŒÙ‡Ø§ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† Ú©Ø§ÙÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯.")
            return None 

        t1_score = 0
        t2_score = 0
        
        # Ø¯ÙˆØ± Ø§ÙˆÙ„: 5 Ù¾Ù†Ø§Ù„ØªÛŒ
        t1_takers = team1.penalty_takers[:]
        t2_takers = team2.penalty_takers[:]
        
        print("--- Ø´Ø±ÙˆØ¹ Ù¾Ù†Ø§Ù„ØªÛŒ Ú©Ø´ÛŒ (5 Ù¾Ù†Ø§Ù„ØªÛŒ Ø§ÙˆÙ„) ---")
        
        for i in range(5):
            # Ø´Ø§Ù†Ø³ Ú¯Ù„ Ø´Ø¯Ù† Ø¨Ø± Ø§Ø³Ø§Ø³ scoring_power Ø¨Ø§Ø²ÛŒÚ©Ù† (Ù…Ø«Ù„Ø§Ù‹ 100 + Ù‚Ø¯Ø±Øª Ú¯Ù„Ø²Ù†ÛŒ Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ 150 Ø«Ø§Ø¨Øª)
            # Ø§ÛŒÙ† ÛŒÚ© Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ø³Ø§Ø¯Ù‡ Ø§Ø³Øª
            
            # Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† ØªÛŒÙ… 1
            if random.randint(0, 150) < t1_takers[i].scoring_power:
                t1_score += 1
                print(f"Ù¾Ù†Ø§Ù„ØªÛŒ {t1_takers[i].name} (ØªÛŒÙ… 1) Ú¯Ù„ Ø´Ø¯.")
            else:
                print(f"Ù¾Ù†Ø§Ù„ØªÛŒ {t1_takers[i].name} (ØªÛŒÙ… 1) Ø§Ø² Ø¯Ø³Øª Ø±ÙØª.")

            # Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† ØªÛŒÙ… 2
            if random.randint(0, 150) < t2_takers[i].scoring_power:
                t2_score += 1
                print(f"Ù¾Ù†Ø§Ù„ØªÛŒ {t2_takers[i].name} (ØªÛŒÙ… 2) Ú¯Ù„ Ø´Ø¯.")
            else:
                print(f"Ù¾Ù†Ø§Ù„ØªÛŒ {t2_takers[i].name} (ØªÛŒÙ… 2) Ø§Ø² Ø¯Ø³Øª Ø±ÙØª.")
            
        print(f"Ù†ØªÛŒØ¬Ù‡ Ù¾Ø³ Ø§Ø² 5 Ù¾Ù†Ø§Ù„ØªÛŒ: {t1_score} - {t2_score}")
        
        if t1_score != t2_score:
            return team1 if t1_score > t2_score else team2

        # Ø¯ÙˆØ± Ø¯ÙˆÙ… (ØªÚ© Ø¨Ù‡ ØªÚ©) - Ø§Ø² Ø´Ø´Ù…ÛŒÙ† Ù¾Ù†Ø§Ù„ØªÛŒ
        print("--- Ø§Ø¯Ø§Ù…Ù‡: Ù¾Ù†Ø§Ù„ØªÛŒ Ù‡Ø§ÛŒ ØªÚ© Ø¨Ù‡ ØªÚ© ---")
        all_takers = t1_takers + t2_t:
    def __init__(self):
        self.best_scorers = []
        self.best_passers = []
        self.historical_gks = [] # Ù„ÛŒØ³Øª Ø¢Ø¨Ø¬Ú©Øª Ù‡Ø§ÛŒ GoalkeeperStat

    def add_goalkeeper_stat(self, name, goals, matches):
        new_stat = GoalkeeperStat(name, goals, matches)
        self.historical_gks.append(new_stat)
        self.historical_gks.sort(key=lambda x: x.goals_per_match) # Ù…Ø±ØªØ¨ Ø³Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¨Ù‡ØªØ±ÛŒÙ† Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†

# --- Ù…Ù†Ø·Ù‚ Ø¨Ø§Ø²ÛŒ (Game Logic) ---
class GameLogic:
    def __init__(self, team1: Team, team2: Team):
        self.team1 = team1
        self.team2 = team2
        self.world_best_players = [] # Ø¨Ø±Ø§ÛŒ Ø¢Ù…Ø§Ø± Ù¾Ø§ÛŒØ§Ù† ÙØµÙ„

    def calculate_tripple_prize(self, team: Team):
        """Ø§Ø¹Ø·Ø§ÛŒ Ø¬Ø§ÛŒØ²Ù‡ Ø³Ù‡â€ŒÚ¯Ø§Ù†Ù‡"""
        # ÙØ±Ø¶ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† ÙØµÙ„ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒ Ø´ÙˆØ¯
        is_league_champ = team.trophies.get('league', 0) > 0
        is_cup_champ = team.trophies.get('cup', 0) > 0
        
        if is_league_champ and is_cup_champ:
            # 150K Ú¯Ù„Ø¯ Ø¨Ø±Ø§ÛŒ Ø¬Ø§ÛŒØ²Ù‡ Ø³Ù‡â€ŒÚ¯Ø§Ù†Ù‡
            bonus = 150000
            team.gold += bonus
            print(f"ØªÛŒÙ… {team.name} Ø¬Ø§ÛŒØ²Ù‡ Ø³Ù‡â€ŒÚ¯Ø§Ù†Ù‡ Ùˆ {bonus} Ú¯Ù„Ø¯ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯. Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ø³ÙˆÙ¾Ø±Ú©Ø§Ù¾ Ù„ØºÙˆ Ø´Ø¯.")
            # Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ÛŒØ¯ Ø¬ÙˆØ§ÛŒØ² Ø±ØªØ¨Ù‡ Ø§ÙˆÙ„ Ùˆ Ø¯ÙˆÙ… Ù„ÛŒÚ¯ Ù‡Ù… Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆØ¯ (Ú©Ù‡ Ø¨Ø§ÛŒØ¯ ØªØ¹Ø±ÛŒÙ Ø´ÙˆÙ†Ø¯)
            return True
        return False

    def simulate_penalty_shootout(self, team1: Team, team2: Team):
        """Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ Ú©Ø´ÛŒ"""
        
        # Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† Ù‡Ø§
        if len(team1.penalty_takers) < 5 or len(team2.penalty_takers) < 5:
            print("ØªÛŒÙ…â€ŒÙ‡Ø§ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† Ú©Ø§ÙÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯.")
            return None 

        t1_score = 0
        t2_score = 0
        
        # Ø¯ÙˆØ± Ø§ÙˆÙ„: 5 Ù¾Ù†Ø§Ù„ØªÛŒ
        t1_takers = team1.penalty_takers[:]
        t2_takers = team2.penalty_takers[:]
        
        print("--- Ø´Ø±ÙˆØ¹ Ù¾Ù†Ø§Ù„ØªÛŒ Ú©Ø´ÛŒ (5 Ù¾Ù†Ø§Ù„ØªÛŒ Ø§ÙˆÙ„) ---")
        
        for i in range(5):
            # Ø´Ø§Ù†Ø³ Ú¯Ù„ Ø´Ø¯Ù† Ø¨Ø± Ø§Ø³Ø§Ø³ scoring_power Ø¨Ø§Ø²ÛŒÚ©Ù† (Ù…Ø«Ù„Ø§Ù‹ 100 + Ù‚Ø¯Ø±Øª Ú¯Ù„Ø²Ù†ÛŒ Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ 150 Ø«Ø§Ø¨Øª)
            # Ø§ÛŒÙ† ÛŒÚ© Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ø³Ø§Ø¯Ù‡ Ø§Ø³Øª
            
            # Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† ØªÛŒÙ… 1
            if random.randint(0, 150) < t1_takers[i].scoring_power:
                t1_score += 1
                print(f"Ù¾Ù†Ø§Ù„ØªÛŒ {t1_takers[i].name} (ØªÛŒÙ… 1) Ú¯Ù„ Ø´Ø¯.")
            else:
                print(f"Ù¾Ù†Ø§Ù„ØªÛŒ {t1_takers[i].name} (ØªÛŒÙ… 1) Ø§Ø² Ø¯Ø³Øª Ø±ÙØª.")

            # Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† ØªÛŒÙ… 2
            if random.randint(0, 150) < t2_takers[i].scoring_power:
                t2_score += 1
                print(f"Ù¾Ù†Ø§Ù„ØªÛŒ {t2_takers[i].name} (ØªÛŒÙ… 2) Ú¯Ù„ Ø´Ø¯.")
            else:
                print(f"Ù¾Ù†Ø§Ù„ØªÛŒ {t2_takers[i].name} (ØªÛŒÙ… 2) Ø§Ø² Ø¯Ø³Øª Ø±ÙØª.")
            
        print(f"Ù†ØªÛŒØ¬Ù‡ Ù¾Ø³ Ø§Ø² 5 Ù¾Ù†Ø§Ù„ØªÛŒ: {t1_score} - {t2_score}")
        
        if t1_score != t2_score:
            return team1 if t1_score > t2_score else team2

        # Ø¯ÙˆØ± Ø¯ÙˆÙ… (ØªÚ© Ø¨Ù‡ ØªÚ©) - Ø§Ø² Ø´Ø´Ù…ÛŒÙ† Ù¾Ù†Ø§Ù„ØªÛŒ
        print("--- Ø§Ø¯Ø§Ù…Ù‡: Ù¾Ù†Ø§Ù„ØªÛŒ Ù‡Ø§ÛŒ ØªÚ© Ø¨Ù‡ ØªÚ© ---")
        all_takers = t1_takers + t2_takers
        i = 5 # Ø´Ø±ÙˆØ¹ Ø§Ø² Ø¨Ø§Ø²ÛŒÚ©Ù† Ø´Ø´Ù…
        
        while True:
            # Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† ØªÛŒÙ… 1
            t1_turn_index = (i - 5) % len(team1.penalty_takers)
            t1_is_goal = random.randint(0, 150) < team1.penalty_takers[t1_turn_index].scoring_power
            t1_score += 1 if t1_is_goal else 0
            
            # Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† ØªÛŒÙ… 2
            t2_turn_index = (i - 5) % len(team2.penalty_takers)
            t2_is_goal = random.randint(0, 150) < team2.penalty_takers[t2_turn_index].scoring_power
            t2_score += 1 if t2_is_goal else 0
            
            print(f"Ù†ØªÛŒØ¬Ù‡ Ù…ÙˆÙ‚Øª: {t1_score} - {t2_score} (Ø¯ÙˆØ± {i+1})")
            
            if t1_score > t2_score and i >= 5: # Ø§Ú¯Ø± Ø¨Ø¹Ø¯ Ø§Ø² Ø­Ø¯Ø§Ù‚Ù„ 5 Ù¾Ù†Ø§Ù„ØªÛŒ Ø§Ø®ØªÙ„Ø§Ù Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯
                return team1
            
            if t2_score > t1_score and i >= 5: # Ø§Ú¯Ø± Ø¨Ø¹Ø¯ Ø§Ø² Ø­Ø¯Ø§Ù‚Ù„ 5 Ù¾Ù†Ø§Ù„ØªÛŒ Ø§Ø®ØªÙ„Ø§Ù Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯
                return team2
            
            i += 1
            # Ù†Ú©ØªÙ‡: Ø¯Ø± Ù…Ø¯Ù„ ÙˆØ§Ù‚Ø¹ÛŒØŒ Ø¨Ø§ÛŒØ¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ø´ÙˆØ¯ Ú©Ù‡ Ù‡Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† ÙÙ‚Ø· ÛŒÚ© Ø¨Ø§Ø± Ø¯Ø± Ù†ÙˆØ¨Øª Ø®ÙˆØ¯ Ù¾Ù†Ø§Ù„ØªÛŒ Ù…ÛŒ Ø²Ù†Ø¯ ØªØ§ Ø¯ÙˆØ± Ø¨Ø¹Ø¯ÛŒ.
            # Ø¯Ø± Ø§ÛŒÙ† Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡ØŒ Ù…Ø§ Ø§Ø² 5 Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ….

    def end_of_season_awards(self, all_players):
        """ØªØ¹ÛŒÛŒÙ† 10 Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø±ØªØ± Ù‡Ø± Ù¾Ø³Øª Ùˆ Ø§Ø¹Ø·Ø§ÛŒ Ø¬Ø§ÛŒØ²Ù‡"""
        
        # Ù…Ø«Ø§Ù„: ÙØ±Ø¶ Ù…ÛŒ Ú©Ù†ÛŒÙ… overall_rating Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¹Ù…Ù„Ú©Ø±Ø¯ ÙØµÙ„ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.
        best_players_by_position = {}
        for player in all_players:
            pos = player.position
            if pos not in best_players_by_position:
                best_players_by_position[pos] = []
            
            # Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ Ù†Ù…Ø±Ù‡ Ø¯Ù‡ÛŒ Ø³Ø§Ø¯Ù‡: Ù‚Ø¯Ø±Øª Ø¨Ø§Ø²ÛŒÚ©Ù† + Ø±Ù†Ø¯Ù…
            player.overall_rating = player.power + random.randint(10, 20)
            best_players_by_position[pos].append(player)
            
        Prizes = {1: 100000, 2: 60000, 3: 50000}
        
        for pos, players in best_players_by_position.items():
            # Ù…Ø±ØªØ¨ Ø³Ø§Ø²ÛŒ: Ø¨Ù‡ØªØ±ÛŒÙ† Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¯Ø± ØµØ¯Ø±
            players.sort(key=lambda x: x.overall_rating, reverse=True)
            
            top10 = players[:10]
            print(f"\n--- 10 Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø±ØªØ± Ù¾Ø³Øª {pos} ---")
            
            for rank, player in enumerate(top10, 1):
                print(f"Ø±ØªØ¨Ù‡ {rank}: {player.name} (Ù†Ù…Ø±Ù‡: {player.overall_rating})")
                
                if rank in Prizes:
                    prize = Prizes[rank]
                    # Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ÛŒØ¯ ØªÛŒÙ… Ø¨Ø§Ø²ÛŒÚ©Ù† Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ù‡ Ø¢Ù† Ú¯Ù„Ø¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒÙ….
                    # team_of_player = self.find_team(player) 
                    # team_of_player.gold += prize
                    print(f"Ø¬Ø§ÛŒØ²Ù‡ {prize} Ú¯Ù„Ø¯ Ø§Ø¹Ø·Ø§ Ø´Ø¯.")
        

# --- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡ (Setup) ---
class MainApp(App):
    def build(self):
        # Ø³Ø§Ø®Øª ØªÛŒÙ… Ù‡Ø§ Ùˆ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ ØªØ³Øª
        self.team1 = Team("Real Madrid")
        self.team1.players = [
            Player("Benzema", 'ATT', 95),
            Player("Modric", 'MID', 88),
            Player("Kroos", 'MID', 85),
            Player("Ramos", 'DEF', 80),
            Player("Courtois", 'GK', 50),
            Player("Vini Jr", 'ATT', 90),
            Player("Casemiro", 'MID', 75),
            # ... Ø¨Ù‚ÛŒÙ‡
        ]
        
        # Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ù…Ø§Ø± Ø¯Ø±ÙˆØ§Ø²Ø¨Ø§Ù† ØªØ§Ø±ÛŒØ®ÛŒ (Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù¾Ø±ÙˆÙØ§ÛŒÙ„)
        self.team1.stats.add_goalkeeper_stat("Iker Casillas", 120, 150)
        self.team1.stats.add_goalkeeper_stat("Zamorano", 80, 100)
        
        self.game_logic = GameLogic(self.team1, Team("Barcelona")) # ØªÛŒÙ… Ø¯ÙˆÙ… ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ
        
        # ØªÙ†Ø¸ÛŒÙ… Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† Ù‡Ø§ Ø¨Ø±Ø§ÛŒ ØªØ³Øª
        self.team1.set_penalty_takers(self.team1.players[0:5])
        
        sm = ScreenManager()
        sm.add_widget(HomeScreen(name='home'))
        sm.add_widget(PlayerManagementScreen(name='player_management'))
        sm.add_widget(TeamProfileScreen(name='team_profile'))
        sm.add_widget(PenaltyShootoutScreen(name='penalty_test'))
        
        return sm

# --- ØµÙØ­Ø§Øª Kivy ---
class HomeScreen(Screen):
    pass
    
class PlayerManagementScreen(Screen):
    # Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ù¾ÛŒØªØ§Ù† Ùˆ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† Ù‡Ø§ Ùˆ ØªØºÛŒÛŒØ± Ù¾Ø³Øª Ø§Ø³Øª
    def select_player_for_penalty(self, player_obj):
        # Ù…Ù†Ø·Ù‚ Ø§ÙØ²ÙˆØ¯Ù†/Ø­Ø°Ù Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ù‡ Ù„ÛŒØ³Øª Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† Ù‡Ø§
        pass
        
    def select_player_for_captain(self, player_obj):
        # Ù…Ù†Ø·Ù‚ Ø§ÙØ²ÙˆØ¯Ù†/Ø­Ø°Ù Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ù‡ Ù„ÛŒØ³Øª Ú©Ø§Ù¾ÛŒØªØ§Ù† Ù‡Ø§
        pass

class TeamProfileScreen(Screen):
    # Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¢Ù…Ø§Ø± Ø§Ø³Øª
    pass

class PenaltyShootoutScreen(Screen):
    # ÛŒÚ© ØµÙØ­Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ
    def start_shootout(self):
        # ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡
        winner = App.get_running_app().game_logic.simulate_penalty_shootout(
            App.get_running_app().team1, App.get_running_app().game_logic.team2
        )
        if winner:
            self.ids.result_label.text = f"Ø¨Ø±Ù†Ø¯Ù‡: {winner.name}"
        else:
            self.ids.result_label.text = "Ù…Ø³Ø§ÙˆÛŒ ÛŒØ§ Ø®Ø·Ø§ Ø¯Ø± ØªÙ†Ø¸ÛŒÙ…Ø§Øª"


# if __name__ == '__main__':
#     MainApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import DictProperty, StringProperty, NumericProperty, ListProperty
import random

# =========================
# Ù…Ø¯Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù†
# =========================
class Player:
    def __init__(self, name, position, stats, stars):
        self.name = name
        self.position = position
        self.stats = stats      # Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¹Ø¯Ø¯ÛŒ
        self.stars = stars      # ÙˆØ²Ù† Ù‡Ø± Ø¨Ø®Ø´
        self.power = self.calculate_power()

    def calculate_power(self):
        total = 0
        for k in self.stats:
            total += self.stats[k] * self.stars.get(k, 1)
        return total

    # ØªÙ…Ø±ÛŒÙ† Ø³Ø§Ø¯Ù‡
    def simple_training(self):
        keys = list(self.stats.keys())
        trainable = random.sample(keys, len(keys) - 1)
        for k in trainable:
            self.stats[k] += 1
        self.power = self.calculate_power()

    # ØªÙ…Ø±ÛŒÙ† Ú©Ù…Ù¾
    def camp_training(self, gain):
        total_star = sum(self.stars.values())
        for k in self.stats:
            share = (self.stars[k] / total_star)
            self.stats[k] += int(gain * share / 10)
        self.power = self.calculate_power()


# =========================
# ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
# =========================
class MainGame(BoxLayout):
    info = StringProperty("")
    admin_messages = ListProperty([])

    def __init__(self, **kwargs):
        super().__init__(**kwargs)

        self.player = Player(
            "Legend Striker",
            "ST",
            stats={
                "speed": 10,
                "power": 10,
                "finishing": 15,
                "press": 8,
                "hold": 12,
                "shot": 14,
                "header": 9,
                "dribble": 13
            },
            stars={
                "speed": 2,
                "power": 2,
                "finishing": 4,
                "press": 1,
                "hold": 3,
                "shot": 4,
                "header": 2,
                "dribble": 3
            }
        )

    # ØªÙ…Ø±ÛŒÙ† Ø³Ø§Ø¯Ù‡
    def simple_training(self):
        self.player.simple_training()
        self.info = "âœ… ØªÙ…Ø±ÛŒÙ† Ø³Ø§Ø¯Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯"

    # Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ
    def camp_training(self):
        self.player.camp_training(3000)
        self.info = "ğŸ”¥ ØªÙ…Ø±ÛŒÙ† Ú©Ù…Ù¾ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯"

    # Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø³Ø§Ø²Ù…Ø§Ù† Ù„ÛŒÚ¯
    def send_league_message(self, text):
        if text.strip() == "":
            return
        self.admin_messages.append(text)
        self.info = "ğŸ“¨ Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ø³Ø§Ø²Ù…Ø§Ù† Ù„ÛŒÚ¯ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯"


class GameApp(App):
    def build(self):
        return MainGame()


if __name__ == "__main__":
    GameApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty, BooleanProperty, ListProperty
import time
import random

# =========================
# Ù…Ø¯Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¢Ú©Ø§Ø¯Ù…ÛŒ
# =========================
class AcademyPlayer:
    def __init__(self, name, power):
        self.name = name
        self.power = power


# =========================
# Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ
# =========================
class AcademyCamp:
    def __init__(self, level, weekly_power):
        self.level = level
        self.weekly_power = weekly_power
        self.expire_time = time.time() + (30 * 24 * 60 * 60)


# =========================
# Ø³ÛŒØ³ØªÙ… Ø¢Ú©Ø§Ø¯Ù…ÛŒ
# =========================
class AcademySystem(BoxLayout):
    gold = NumericProperty(1_000_000)
    kagold = NumericProperty(300)
    academy_created = BooleanProperty(False)

    players = ListProperty([])
    info = StringProperty("")

    camp = None
    league_joined = BooleanProperty(False)

    # -------------------------
    # Ø³Ø§Ø®Øª Ø¢Ú©Ø§Ø¯Ù…ÛŒ
    # -------------------------
    def create_academy(self):
        if self.gold < 500_000:
            self.info = "âŒ Ú¯Ù„Ø¯ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ ØªØ£Ø³ÛŒØ³ Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ù†Ø¯Ø§Ø±ÛŒ"
            return

        self.gold -= 500_000
        self.academy_created = True

        # Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø§ÙˆÙ„ÛŒÙ‡
        self.players = [
            AcademyPlayer(f"Academy Player {i+1}", random.randint(300, 700))
            for i in range(10)
        ]
        self.info = "âœ… Ø¢Ú©Ø§Ø¯Ù…ÛŒ ØªØ£Ø³ÛŒØ³ Ø´Ø¯"

    # -------------------------
    # Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ù„ÛŒÚ¯ Ø¢Ú©Ø§Ø¯Ù…ÛŒ
    # -------------------------
    def join_league(self):
        if self.kagold < 10:
            self.info = "âŒ Ú©Ø§Ú¯Ù„Ø¯ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù„ÛŒÚ¯ Ù†Ø¯Ø§Ø±ÛŒ"
            return

        self.kagold -= 10
        self.league_joined = True
        self.info = "ğŸ† ÙˆØ§Ø±Ø¯ Ù„ÛŒÚ¯ Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ø´Ø¯ÛŒ (Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Û¸ ØªÛŒÙ…)"

    # -------------------------
    # Ø®Ø±ÛŒØ¯ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ
    # -------------------------
    def buy_camp(self, level):
        prices = {1: (100, 500), 2: (150, 1000), 3: (200, 1800)}
        price, power = prices[level]

        if self.kagold < price:
            self.info = "âŒ Ú©Ø§Ú¯Ù„Ø¯ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù…Ù¾ Ù†Ø¯Ø§Ø±ÛŒ"
            return

        self.kagold -= price
        self.camp = AcademyCamp(level, power)
        self.info = f"ğŸ”¥ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ Ø³Ø·Ø­ {level} ÙØ¹Ø§Ù„ Ø´Ø¯"

    # -------------------------
    # ØªÙ…Ø±ÛŒÙ† Ù‡ÙØªÚ¯ÛŒ
    # -------------------------
    def weekly_training(self):
        if not self.camp:
            self.info = "âŒ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ Ù†Ø¯Ø§Ø±ÛŒ"
            return

        if time.time() > self.camp.expire_time:
            self.camp = None
            self.info = "âŒ› Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯"
            return

        for p in self.players:
            p.power += self.camp.weekly_power

        self.info = f"ğŸ’ª ØªÙ…Ø±ÛŒÙ† Ù‡ÙØªÚ¯ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ (+{self.camp.weekly_power})"

    # -------------------------
    # Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØªÛŒÙ… Ø§ØµÙ„ÛŒ
    # -------------------------
    def move_to_main_team(self):
        eligible = [p for p in self.players if p.power >= 1000]
        if not eligible:
            self.info = "âŒ Ø¨Ø§Ø²ÛŒÚ©Ù† ÙˆØ§Ø¬Ø¯ Ø´Ø±Ø§ÛŒØ· Ù†Ø¯Ø§Ø±ÛŒ"
            return

        player = eligible[0]
        self.players.remove(player)
        self.info = f"â¬†ï¸ {player.name} Ø¨Ù‡ ØªÛŒÙ… Ø§ØµÙ„ÛŒ Ù…Ù†ØªÙ‚Ù„ Ø´Ø¯"


class AcademyApp(App):
    def build(self):
        return AcademySystem()


if __name__ == "__main__":
    AcademyApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import NumericProperty, StringProperty, ListProperty
import random

MAX_PLAYERS = 15
MIN_PLAYERS = 10


class AcademyPlayer:
    def __init__(self, name, power):
        self.name = name
        self.power = power
        self.price = power * 120  # Ù‚ÛŒÙ…Øª Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‚Ø¯Ø±Øª


class AcademyMarket(BoxLayout):
    gold = NumericProperty(1_000_000)
    info = StringProperty("")

    players = ListProperty([])        # Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¢Ú©Ø§Ø¯Ù…ÛŒ
    market_players = ListProperty([]) # Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ø²Ø§Ø±

    def __init__(self, **kwargs):
        super().__init__(**kwargs)

        # Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø§ÙˆÙ„ÛŒÙ‡ Ø¢Ú©Ø§Ø¯Ù…ÛŒ (Û±Û° Ù†ÙØ±)
        self.players = [
            AcademyPlayer(f"Academy Player {i+1}", random.randint(300, 700))
            for i in range(10)
        ]

        self.refresh_market()

    # -------------------------
    # Ø±ÙØ±Ø´ Ø¨Ø§Ø²Ø§Ø±
    # -------------------------
    def refresh_market(self):
        self.market_players = [
            AcademyPlayer(f"Market Player {i+1}", random.randint(400, 900))
            for i in range(5)
        ]
        self.info = "ğŸ”„ Ø¨Ø§Ø²Ø§Ø± Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯"

    # -------------------------
    # Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù†
    # -------------------------
    def buy_player(self):
        if len(self.players) >= MAX_PLAYERS:
            self.info = "âŒ Ø¸Ø±ÙÛŒØª Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ù¾Ø± Ø§Ø³Øª"
            return

        if not self.market_players:
            self.info = "âŒ Ø¨Ø§Ø²ÛŒÚ©Ù†ÛŒ Ø¯Ø± Ø¨Ø§Ø²Ø§Ø± Ù†ÛŒØ³Øª"
            return

        player = self.market_players.pop(0)

        if self.gold < player.price:
            self.info = "âŒ Ú¯Ù„Ø¯ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ù†ÛŒØ³Øª"
            return

        self.gold -= player.price
        self.players.append(player)
        self.info = f"ğŸ›’ {player.name} Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯"

    # -------------------------
    # ÙØ±ÙˆØ´ Ø¨Ø§Ø²ÛŒÚ©Ù†
    # -------------------------
    def sell_player(self):
        if len(self.players) <= MIN_PLAYERS:
            self.info = "âŒ Ø­Ø¯Ø§Ù‚Ù„ Û±Û° Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ù‚ÛŒ Ø¨Ù…Ø§Ù†Ø¯"
            return

        player = self.players.pop(0)
        sell_price = int(player.price * 0.8)  # ÙØ±ÙˆØ´ Ø¨Ø§ Û¸Û°Ùª Ù‚ÛŒÙ…Øª
        self.gold += sell_price
        self.info = f"ğŸ’¸ {player.name} ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯ (+{sell_price} Ú¯Ù„Ø¯)"


class AcademyMarketApp(App):
    def build(self):
        return AcademyMarket()


if __name__ == "__main__":
    AcademyMarketApp().run()
from kivy.app import App
from kivy.clock import Clock
from kivy.properties import NumericProperty, StringProperty
from kivy.uix.widget import Widget
import random
import math

class Player(Widget):
    x_pos = NumericProperty(0.3)
    y_pos = NumericProperty(0.5)
    angle = NumericProperty(0)
    state = StringProperty("IDLE")

class Ball(Widget):
    x_pos = NumericProperty(0.32)
    y_pos = NumericProperty(0.5)

class MatchField(Widget):
    minute = NumericProperty(0)
    score = NumericProperty(0)

    dribble_power = NumericProperty(4200)  # Ù‚Ø¯Ø±Øª Ø¨Ø§Ø²ÛŒÚ©Ù†
    current_action = StringProperty("")

    def start(self):
        Clock.schedule_interval(self.update, 1/30)
        Clock.schedule_interval(self.match_time, 1)

    def match_time(self, dt):
        self.minute += 1
        if random.random() < 0.05:
            self.goal()

    def update(self, dt):
        self.auto_dribble()

    # ---------------- DRIBBLES ----------------
    def auto_dribble(self):
        r = random.random()

        if self.dribble_power >= 4000 and r < 0.01:
            self.peles_dribble()
        elif self.dribble_power >= 2500 and r < 0.02:
            self.zidane_dribble()
        elif self.dribble_power >= 1000 and r < 0.04:
            self.simple_dribble()

    def simple_dribble(self):
        self.current_action = "Simple Dribble"
        self.ids.player.angle += 20
        self.ids.ball.x_pos += 0.01

    def zidane_dribble(self):
        self.current_action = "Zidane Dribble"
        self.ids.player.angle += 40
        self.ids.ball.x_pos -= 0.01
        self.ids.ball.y_pos += 0.01

    def peles_dribble(self):
        self.current_action = "Pele Dribble"
        self.ids.ball.y_pos += 0.02
        self.ids.player.angle += 60

    # ---------------- GOAL & CELEBRATION ----------------
    def goal(self):
        self.score += 1
        self.current_action = "GOAL!"
        celebration = random.choice([
            self.celebrate_knee_slide,
            self.celebrate_belly_slide,
            self.celebrate_bow,
            self.celebrate_archer,
            self.celebrate_brazil
        ])
        celebration()

    def celebrate_knee_slide(self):
        self.current_action = "Knee Slide"
        self.ids.player.y_pos -= 0.05

    def celebrate_belly_slide(self):
        self.current_action = "Belly Slide"
        self.ids.player.y_pos -= 0.07
        self.ids.player.angle = 90

    def celebrate_archer(self):
        self.current_action = "Archer Celebration"
        self.ids.player.angle = -45

    def celebrate_brazil(self):
        self.current_action = "Brazil Dance"
        self.ids.player.angle += 360

    def celebrate_bow(self):
        self.current_action = "Kneel & Bow"
        self.ids.player.y_pos -= 0.03


class LiveCoachApp(App):
    def build(self):
        field = MatchField()
        Clock.schedule_once(lambda dt: field.start(), 1)
        return field

LiveCoachApp().run()
from kivy.app import App
from kivy.clock import Clock
from kivy.properties import NumericProperty, StringProperty
from kivy.uix.widget import Widget
import random

class MatchField(Widget):
    ball_x = NumericProperty(0.5)
    ball_y = NumericProperty(0.5)
    minute = NumericProperty(0)
    score_a = NumericProperty(0)
    score_b = NumericProperty(0)
    tactic = StringProperty("BALANCED")

    def start_match(self):
        Clock.schedule_interval(self.update_match, 1)

    def set_tactic(self, t):
        self.tactic = t

    def update_match(self, dt):
        self.minute += 1

        # Ø­Ø±Ú©Øª ØªÙˆÙ¾
        self.ball_x += random.uniform(-0.05, 0.05)
        self.ball_y += random.uniform(-0.05, 0.05)

        self.ball_x = max(0.05, min(0.95, self.ball_x))
        self.ball_y = max(0.05, min(0.95, self.ball_y))

        goal_chance = 0.03
        if self.tactic == "ATTACK":
            goal_chance = 0.08
        elif self.tactic == "DEFEND":
            goal_chance = 0.01

        if random.random() < goal_chance:
            self.score_a += 1

        if self.minute >= 90:
            Clock.unschedule(self.update_match)

class LiveMatchApp(App):
    def build(self):
        return MatchField()

LiveMatchApp().run()
from kivy.app import App
from kivy.clock import Clock
from kivy.properties import NumericProperty, StringProperty
from kivy.uix.widget import Widget
import random

class PlayerState:
    def __init__(self):
        self.yellow = 0
        self.season_yellow = 0
        self.red = False
        self.suspended_matches = 0
        self.injury_level = 0
        self.injury_matches = 0

class MatchEngine(Widget):
    minute = NumericProperty(0)
    score_a = NumericProperty(0)
    score_b = NumericProperty(0)
    event_text = StringProperty("Match Started")

    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        self.player = PlayerState()

    def start_match(self):
        Clock.schedule_interval(self.update_match, 1)

    def update_match(self, dt):
        self.minute += 1

        # Ú¯Ù„ ØªØµØ§Ø¯ÙÛŒ
        if random.random() < 0.04:
            self.score_a += 1
            self.event_text = "âš½ GOAL for Team A!"

        # Ø®Ø·Ø§
        if random.random() < 0.3:
            self.handle_foul()

        if self.minute >= 90:
            Clock.unschedule(self.update_match)
            self.event_text = "ğŸ Match Finished"

    def handle_foul(self):
        foul_level = random.randint(1, 4)

        # Ú©Ø§Ø±Øª Ø²Ø±Ø¯
        if foul_level in (1, 2):
            self.player.yellow += 1
            self.player.season_yellow += 1
            self.event_text = "ğŸŸ¨ Yellow Card"

            if self.player.yellow >= 2:
                self.give_red()

            if self.player.season_yellow >= 4:
                self.player.suspended_matches += 1
                self.player.season_yellow = 0
                self.event_text = "â›” Suspended (4 Season Yellows)"

        # Ú©Ø§Ø±Øª Ù‚Ø±Ù…Ø² Ù…Ø³ØªÙ‚ÛŒÙ…
        if foul_level in (3, 4):
            self.give_red()

        # Ù…ØµØ¯ÙˆÙ…ÛŒØª
        if foul_level >= 2:
            self.injury(foul_level)

    def give_red(self):
        if not self.player.red:
            self.player.red = True
            self.player.suspended_matches += 1
            self.player.yellow = 0
            self.event_text = "ğŸŸ¥ Red Card â€“ Next Match Banned"

    def injury(self, level):
        if self.player.injury_matches > 0:
            return

        self.player.injury_level = level
        self.player.injury_matches = level
        self.event_text = f"ğŸ¤• Injury Level {level} â€“ Out {level} Matches"


class FootballLiveApp(App):
    def build(self):
        engine = MatchEngine()
        Clock.schedule_once(lambda dt: engine.start_match(), 1)
        return engine


FootballLiveApp().run()
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import StringProperty, NumericProperty, BooleanProperty


class Player(BoxLayout):
    name = StringProperty()
    price = NumericProperty()
    is_loaned = BooleanProperty(False)
    loan_season = NumericProperty(0)  # Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§Ø±Ø´ ÙØµÙ„ Ù‚Ø±Ø¶

    def sell_player(self):
        if self.is_loaned:
            # Ù‚Ø±Ø¶ÛŒ ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯Ù‡
            amount = self.price / 3
            print(f"Ø¨Ø§Ø²ÛŒÚ©Ù† {self.name} Ù‚Ø±Ø¶ÛŒ ÙˆØ§Ú¯Ø°Ø§Ø± Ø´Ø¯ Ùˆ {amount} Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯.")
            self.loan_season = 1
        else:
            # ÙØ±ÙˆØ´ Ú©Ø§Ù…Ù„
            amount = self.price
            print(f"Ø¨Ø§Ø²ÛŒÚ©Ù† {self.name} ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯ Ùˆ {amount} Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯.")
        return amount

    def next_transfer_window(self):
        if self.loan_season == 1:
            print(f"Ø¨Ø§Ø²ÛŒÚ©Ù† {self.name} Ø§Ø² Ù‚Ø±Ø¶ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ ØªÛŒÙ….")
            self.loan_season = 0
            self.is_loaned = False


class TransferApp(App):
    def build(self):
        return Player(name="Ù…Ù‡Ø¯ÛŒ Ø·Ø§Ø±Ù…ÛŒ", price=9000000)


if __name__ == "__main__":
    TransferApp().run()
default_api:python{code:
import kivy
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.label import Label
from kivy.uix.button import Button
from kivy.properties import StringProperty
from kivy.lang import Builder
import json

# --- 1. Ù…Ù†Ø·Ù‚ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ (Manager/Business Logic) ---

class TransferManager:
    """Ú©Ù„Ø§Ø³ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ØŒ Ø³Ù‡Ù…ÛŒÙ‡â€ŒÙ‡Ø§ Ùˆ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¬Ø¯ÛŒØ¯."""

    QUOTAS = {
        'old_player': 5,
        'new_player': 7,
        'loan': 4,
        'extension': 6  # Ù‚Ø§Ù†ÙˆÙ† 3: Ø³Ù‡Ù…ÛŒÙ‡ 6 ØªØ§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø¯ÛŒØ¯
    }

    BASE_COSTS = {
        'old_player': 2000,
        'new_player': 3500,
        'loan': 2000,
        'extension': 2500  # Ù‚Ø§Ù†ÙˆÙ† 3: Ù‡Ø²ÛŒÙ†Ù‡ Ù¾Ø§ÛŒÙ‡ 2500 Ú¯Ù„Ø¯
    }

    # Ù‚Ø§Ù†ÙˆÙ† 2: ÛŒÚ©Ø³Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ Ù…Ù†Ø·Ù‚ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ (Ù‡Ø²ÛŒÙ†Ù‡ Ù¾Ø§ÛŒÙ‡ Ã— 2 + 500 Ú¯Ù„Ø¯)
    REMAINING_COST_FORMULA = lambda base: base * 2 + 500 
    
    # Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡
    REMAINING_BASE_COSTS = {
        'old_player': 3000, # ÙØ±Ø¶ Ø¨Ø± Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ù¾Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ Ø§ÛŒÙ† Ø§Ø³Øª
        'new_player': 5000,
        'loan': 2500,
    }

    # Ù‚Ø§Ù†ÙˆÙ† 1: Ø¶Ø±ÛŒØ¨ Ø§ÙØ²Ø§ÛŒØ´ Ù‡Ø²ÛŒÙ†Ù‡ Ù¾Ø³ Ø§Ø² Ø§ØªÙ…Ø§Ù… Ø³Ù‡Ù…ÛŒÙ‡
    OVER_QUOTA_MULTIPLIER = 1.5
    
    # Ù‚Ø§Ù†ÙˆÙ† 4: Ø¯ÙˆØ±Ù‡ ØªØ®ÙÛŒÙ ÙØµÙ„ÛŒ
    GOLDEN_CARD_PERIOD = True 

    def __init__(self):
        # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ¹Ù„ÛŒ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡)
        self.current_usage = {
            'old_player': 3,
            'new_player': 6,  # Ù†Ø²Ø¯ÛŒÚ© Ø¨Ù‡ Ø§ØªÙ…Ø§Ù… Ø³Ù‡Ù…ÛŒÙ‡
            'loan': 2,
            'extension': 1
        }
        self.remaining_players = { # ÙØ±Ø¶ Ø¨Ø± Ø§ÛŒÙ†Ú©Ù‡ Ø§ÛŒÙ†Ù‡Ø§ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ø§Ø² ÙØµÙ„ Ù‚Ø¨Ù„ Ø¨Ø§Ù‚ÛŒ Ù…Ø§Ù†Ø¯Ù‡â€ŒØ§Ù†Ø¯
            'old_player': 2, 
            'new_player': 1,
            'loan': 0
        }
        self.total_gold_spent = 0
        self.card_issue_log = []

    def calculate_cost(self, transfer_type):
        """Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ ØµØ¯ÙˆØ± Ú©Ø§Ø±Øª Ø¨Ø§ Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ† Ø³Ù‡Ù…ÛŒÙ‡ Ùˆ Ø¶Ø±ÛŒØ¨ Ù…Ø§Ø²Ø§Ø¯."""
        base_cost = self.BASE_COSTS.get(transfer_type, 0)
        quota = self.QUOTAS.get(transfer_type, 0)
        current = self.current_usage.get(transfer_type, 0)
        
        final_cost = base_cost
        
        if current >= quota and transfer_type != 'extension': # ØªÙ…Ø¯ÛŒØ¯ Ø³Ù‡Ù…ÛŒÙ‡ Ø«Ø§Ø¨Øª Ø¯Ø§Ø±Ø¯
            # Ø§Ø¹Ù…Ø§Ù„ Ø¶Ø±ÛŒØ¨ Ø§ÙØ²Ø§ÛŒØ´ Ù‡Ø²ÛŒÙ†Ù‡ (Ù‚Ø§Ù†ÙˆÙ† 1)
            final_cost = int(base_cost * self.OVER_QUOTA_MULTIPLIER)
        
        # Ø§Ø¹Ù…Ø§Ù„ ØªØ®ÙÛŒÙ 10 Ø¯Ø±ØµØ¯ÛŒ Ø¯ÙˆØ±Ù‡ Ú©Ø§Ø±Øª Ø·Ù„Ø§ÛŒÛŒ (Ù‚Ø§Ù†ÙˆÙ† 4)
        if self.GOLDEN_CARD_PERIOD:
            final_cost = int(final_cost * 0.90)
            
        return final_cost

    def issue_card(self, transfer_type):
        """ØµØ¯ÙˆØ± Ú©Ø§Ø±Øª Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§."""
        cost = self.calculate_cost(transfer_type)
        
        if transfer_type in self.current_usage:
            self.current_usage[transfer_type] += 1
        
        self.total_gold_spent += cost
        self.card_issue_log.append(f"Issued {transfer_type} card. Cost: {cost} Gold.")
        return cost

    def get_remaining_cost(self, remaining_type):
        """Ø¯Ø±ÛŒØ§ÙØª Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ (Ù‚Ø§Ù†ÙˆÙ† 2)."""
        base = self.REMAINING_BASE_COSTS.get(remaining_type, 0)
        return self.REMAINING_COST_FORMULA(base)

    def generate_report(self):
        """ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ù¾Ø§ÛŒØ§Ù† Ø¯ÙˆØ±Ù‡ (Ù‚Ø§Ù†ÙˆÙ† 6)."""
        report = "--- Ú¯Ø²Ø§Ø±Ø´ Ù¾Ø§ÛŒØ§Ù† Ø¯ÙˆØ±Ù‡ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª ---\\n"
        report += f"Ù…Ø¬Ù…ÙˆØ¹ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ ØµØ§Ø¯Ø± Ø´Ø¯Ù‡: {sum(self.manager.current_usage.values())}\\n"
        report += f"Ù…Ø¬Ù…ÙˆØ¹ Ù‡Ø²ÛŒÙ†Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡: {self.total_gold_spent} Ú¯Ù„Ø¯\\n"
        
        rem_total = sum(self.remaining_players.values())
        report += f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: {rem_total} Ù†ÙØ±\\n"
        
        if sum(self.current_usage.values()) > 0:
            avg_cost = self.total_gold_spent / sum(self.current_usage.values())
            report += f"Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‡Ø²ÛŒÙ†Ù‡ Ù‡Ø± Ú©Ø§Ø±Øª: {avg_cost:.2f} Ú¯Ù„Ø¯\\n"
        else:
            report += "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‡Ø²ÛŒÙ†Ù‡ Ù‡Ø± Ú©Ø§Ø±Øª: N/A\\n"
            
        report += "---------------------------------------"
        return report

# --- 2. Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Kivy (UI) ---

class TransferScreen(BoxLayout):
    # ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ KV
    warning_message = StringProperty('')
    remaining_cost_text = StringProperty('')
    
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        self.manager = TransferManager()
        self.add_issue_widgets()
        self.update_remaining_costs()
        self.check_warnings() # Ø¨Ø±Ø±Ø³ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§

    def add_issue_widgets(self):
        """Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ùˆ Ù„ÛŒØ¨Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù†ÙˆØ¹ Ø§Ù†ØªÙ‚Ø§Ù„."""
        container = App.get_running_app().root.ids.issue_widgets_container
        container.clear_widgets() # Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ
        
        types = {
            'new_player': 'Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¬Ø¯ÛŒØ¯',
            'extension': 'ØªÙ…Ø¯ÛŒØ¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯', 
            'old_player': 'Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø¯ÙˆÙ† Ú©Ø§Ø±Øª ÙØµÙ„ Ù‚Ø¨Ù„',
            'loan': 'Ø®Ø±ÛŒØ¯ Ù‚Ø±Ø¶ÛŒ'
        }
        
        for key, name in types.items():
            cost = self.manager.calculate_cost(key)
            
            box = BoxLayout(orientation='horizontal', size_hint_y=None, height=40, spacing=5)
            
            # Ù„ÛŒØ¨Ù„ Ù†Ù…Ø§ÛŒØ´ Ù‡Ø²ÛŒÙ†Ù‡
            box.add_widget(Label(
                text=f"Ù‡Ø²ÛŒÙ†Ù‡: {cost} Ú¯Ù„Ø¯", 
                size_hint_x=0.3, 
                font_size=14, 
                halign='left'
            ))
            
            # Ø¯Ú©Ù…Ù‡ ØµØ¯ÙˆØ± Ú©Ø§Ø±Øª
            btn = Button(
                text=f'ØµØ¯ÙˆØ± Ú©Ø§Ø±Øª {name}',
                size_hint_x=0.7,
                background_color=(0.1, 0.4, 0.9, 1) if key != 'extension' else (0.9, 0.4, 0.1, 1)
            )
            btn.bind(on_release=lambda instance, k=key: self.issue_action(k))
            box.add_widget(btn)
            
            container.add_widget(box)

    def update_remaining_costs(self):
        """Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø®Ø´ Ù†Ù…Ø§ÛŒØ´ Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ (Ù‚Ø§Ù†ÙˆÙ† 2)."""
        rem_text = ""
        
        # Ù‚Ø§Ù†ÙˆÙ† 2: Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§ ÙØ±Ù…ÙˆÙ„ (Ù¾Ø§ÛŒÙ‡ Ã— 2 + 500)
        rem_text += f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ (ÙØµÙ„ Ù‚Ø¨Ù„): {self.manager.remaining_players['old_player']} Ù†ÙØ± @ {self.manager.get_remaining_cost('old_player')} Ú¯Ù„Ø¯\\n"
        rem_text += f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø®Ø±ÛŒØ¯Ù‡â€ŒØ´Ø¯Ù‡ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: {self.manager.remaining_players['new_player']} Ù†ÙØ± @ {self.manager.get_remaining_cost('new_player')} Ú¯Ù„Ø¯\\n"
        rem_text += f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ù‚Ø±Ø¶ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: {self.manager.remaining_players['loan']} Ù†ÙØ± @ {self.manager.get_remaining_cost('loan')} Ú¯Ù„Ø¯\\n"
        
        self.remaining_cost_text = rem_text
        
    def check_warnings(self):
        """Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³Ù‡Ù…ÛŒÙ‡â€ŒÙ‡Ø§ Ùˆ ØªÙ†Ø¸ÛŒÙ… Ù¾ÛŒØ§Ù… Ù‡Ø´Ø¯Ø§Ø± (Ù‚Ø§Ù†ÙˆÙ† 5)."""
        warnings = []
        
        for key, quota in self.manager.QUOTAS.items():
            current = self.manager.current_usage.get(key, 0)
            
            if key == 'extension': continue 

            if current >= quota - 1 and current < quota:
                # Ù¾ÛŒØ§Ù… Ù‡Ø´Ø¯Ø§Ø±: 1 Ø¬Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ù‚ÛŒ Ø§Ø³Øª (Ø¢Ø³ØªØ§Ù†Ù‡ Ù¾Ø§ÛŒØ§Ù†)
                # **Ø§ØµÙ„Ø§Ø­ Ø³ÛŒÙ†ØªÚ©Ø³ f-string Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² 'f""' Ùˆ Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ**
                msg = (f"\\n\\nâš ï¸ Ù‡Ø´Ø¯Ø§Ø±: Ø³Ù‡Ù…ÛŒÙ‡ {key} Ø¯Ø± Ø¢Ø³ØªØ§Ù†Ù‡ Ø§ØªÙ…Ø§Ù… Ø§Ø³Øª! "
                       f"(Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡: {current}/{quota})\\n\\n")
                warnings.append(msg)
                
            elif current >= quota:
                # Ù¾ÛŒØ§Ù… Ù‡Ø´Ø¯Ø§Ø±: Ø³Ù‡Ù…ÛŒÙ‡ Ù¾Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª
                msg = (f"\\n\\nğŸ›‘ Ø§Ø®Ø·Ø§Ø±: Ø³Ù‡Ù…ÛŒÙ‡ {key} Ú©Ø§Ù…Ù„Ø§Ù‹ Ù¾Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª! "
                       f"Ù‡Ø²ÛŒÙ†Ù‡ Ù…Ø§Ø²Ø§Ø¯ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.\\n\\n")
                warnings.append(msg)
        
        self.warning_message = "".join(warnings)
        
    def issue_action(self, transfer_type):
        """Ø¹Ù…Ù„ÛŒØ§Øª Ù‡Ù†Ú¯Ø§Ù… Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ ØµØ¯ÙˆØ±."""
        cost = self.manager.issue_card(transfer_type)
        print(f"Card Issued for {transfer_type}. Cost: {cost}")
        
        # Ù¾Ø³ Ø§Ø² ØµØ¯ÙˆØ±ØŒ Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´ÙˆØ¯
        self.check_warnings()
        self.add_issue_widgets() 
        self.update_remaining_costs()

    def generate_report_action(self):
        """Ø§Ø¬Ø±Ø§ÛŒ ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ (Ù‚Ø§Ù†ÙˆÙ† 6)."""
        report = self.manager.generate_report()
        print(report)
        # Ù†Ù…Ø§ÛŒØ´ Ú¯Ø²Ø§Ø±Ø´ Ø¯Ø± Ø¨Ø®Ø´ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§
        self.warning_message += "\\n" + report


class TransferApp(App):
    def build(self):
        # Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø¯ KV Ø§Ø² Ø±Ø´ØªÙ‡
        Builder.load_string(KV_CODE)
        return TransferScreen()

if __name__ == '__main__':
    # Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¯Ø± ØµÙˆØ±Øª Ø§Ø¬Ø±Ø§ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… ÙØ§ÛŒÙ„
    # TransferApp().run() 
    print("main.py structure loaded successfully.")

# --- Ø°Ø®ÛŒØ±Ù‡ ÙØ§ÛŒÙ„ main.py ---
with open("[/mnt/data/main.py"](https://storage.gapgpt.app/media/code_interpreter/deeb188f-a014-47e3-bf17-cc6bc402a1d0/main.py%22), "w", encoding="utf-8") as f:
    f.write(f'''
import kivy
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.label import Label
from kivy.uix.button import Button
from kivy.properties import StringProperty
from kivy.lang import Builder

# --- 1. Ù…Ù†Ø·Ù‚ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ (Manager/Business Logic) ---

class TransferManager:
    # ... [Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø·ÙˆÙ„Ø§Ù†ÛŒ Ø¨ÙˆØ¯Ù†ØŒ Ù…Ù†Ø·Ù‚ Ø§ØµÙ„ÛŒ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯] ...
    QUOTAS = {
        'old_player': 5, 'new_player': 7, 'loan': 4, 'extension': 6
    }
    BASE_COSTS = {
        'old_player': 2000, 'new_player': 3500, 'loan': 2000, 'extension': 2500
    }
    REMAINING_COST_FORMULA = lambda base: base * 2 + 500 
    REMAINING_BASE_COSTS = {
        'old_player': 3000, 'new_player': 5000, 'loan': 2500,
    }
    OVER_QUOTA_MULTIPLIER = 1.5
    GOLDEN_CARD_PERIOD = True 

    def __init__(self):
        self.current_usage = {{'old_player': 3, 'new_player': 6, 'loan': 2, 'extension': 1}}
        self.remaining_players = {{'old_player': 2, 'new_player': 1, 'loan': 0}}
        self.total_gold_spent = 0
        self.card_issue_log = []

    def calculate_cost(self, transfer_type):
        base_cost = self.BASE_COSTS.get(transfer_type, 0)
        quota = self.QUOTAS.get(transfer_type, 0)
        current = self.current_usage.get(transfer_type, 0)
        final_cost = base_cost
        if current >= quota and transfer_type != 'extension':
            final_cost = int(base_cost * self.OVER_QUOTA_MULTIPLIER)
        if self.GOLDEN_CARD_PERIOD:
            final_cost = int(final_cost * 0.90)
        return final_cost

    def issue_card(self, transfer_type):
        cost = self.calculate_cost(transfer_type)
        if transfer_type in self.current_usage:
            self.current_usage[transfer_type] += 1
        self.total_gold_spent += cost
        self.card_issue_log.append(f"Issued {{transfer_type}} card. Cost: {{cost}} Gold.")
        return cost

    def get_remaining_cost(self, remaining_type):
        base = self.REMAINING_BASE_COSTS.get(remaining_type, 0)
        return self.REMAINING_COST_FORMULA(base)

    def generate_report(self):
        report = "\\n--- Ú¯Ø²Ø§Ø±Ø´ Ù¾Ø§ÛŒØ§Ù† Ø¯ÙˆØ±Ù‡ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª ---\\n"
        report += f"Ù…Ø¬Ù…ÙˆØ¹ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ ØµØ§Ø¯Ø± Ø´Ø¯Ù‡: {{sum(self.current_usage.values())}}\\n"
        report += f"Ù…Ø¬Ù…ÙˆØ¹ Ù‡Ø²ÛŒÙ†Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡: {{self.total_gold_spent}} Ú¯Ù„Ø¯\\n"
        rem_total = sum(self.remaining_players.values())
        report += f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: {{rem_total}} Ù†ÙØ±\\n"
        if sum(self.current_usage.values()) > 0:
            avg_cost = self.total_gold_spent / sum(self.current_usage.values())
            report += f"Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‡Ø²ÛŒÙ†Ù‡ Ù‡Ø± Ú©Ø§Ø±Øª: {{avg_cost:.2f}} Ú¯Ù„Ø¯\\n"
        else:
            report += "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‡Ø²ÛŒÙ†Ù‡ Ù‡Ø± Ú©Ø§Ø±Øª: N/A\\n"
        report += "---------------------------------------"
        return report

# --- 2. Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Kivy (UI) ---

class TransferScreen(BoxLayout):
    warning_message = StringProperty('')
    remaining_cost_text = StringProperty('')
    
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        self.manager = TransferManager()
        self.add_issue_widgets()
        self.update_remaining_costs()
        self.check_warnings()

    def add_issue_widgets(self):
        container = App.get_running_app().root.ids.issue_widgets_container
        container.clear_widgets()
        types = {
            'new_player': 'Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¬Ø¯ÛŒØ¯', 'extension': 'ØªÙ…Ø¯ÛŒØ¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯', 
            'old_player': 'Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø¯ÙˆÙ† Ú©Ø§Ø±Øª ÙØµÙ„ Ù‚Ø¨Ù„', 'loan': 'Ø®Ø±ÛŒØ¯ Ù‚Ø±Ø¶ÛŒ'
        }
        for key, name in types.items():
            cost = self.manager.calculate_cost(key)
            box = BoxLayout(orientation='horizontal', size_hint_y=None, height=40, spacing=5)
            box.add_widget(Label(text=f"Ù‡Ø²ÛŒÙ†Ù‡: {{cost}} Ú¯Ù„Ø¯", size_hint_x=0.3, font_size=14, halign='left'))
            btn = Button(text=f'ØµØ¯ÙˆØ± Ú©Ø§Ø±Øª {{name}}', size_hint_x=0.7, background_color=(0.1, 0.4, 0.9, 1) if key != 'extension' else (0.9, 0.4, 0.1, 1))
            btn.bind(on_release=lambda instance, k=key: self.issue_action(k))
            box.add_widget(btn)
            container.add_widget(box)

    def update_remaining_costs(self):
        rem_text = ""
        rem_text += f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ (ÙØµÙ„ Ù‚Ø¨Ù„): {{self.manager.remaining_players['old_player']}} Ù†ÙØ± @ {{self.manager.get_remaining_cost('old_player')}} Ú¯Ù„Ø¯\\n"
        rem_text += f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø®Ø±ÛŒØ¯Ù‡â€ŒØ´Ø¯Ù‡ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: {{self.manager.remaining_players['new_player']}} Ù†ÙØ± @ {{self.manager.get_remaining_cost('new_player')}} Ú¯Ù„Ø¯\\n"
        rem_text += f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ù‚Ø±Ø¶ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: {{self.manager.remaining_players['loan']}} Ù†ÙØ± @ {{self.manager.get_remaining_cost('loan')}} Ú¯Ù„Ø¯\\n"
        self.remaining_cost_text = rem_text
        
    def check_warnings(self):
        warnings = []
        for key, quota in self.manager.QUOTAS.items():
            current = self.manager.current_usage.get(key, 0)
            if key == 'extension': continue 
            if current >= quota - 1 and current < quota:
                msg = (f"\\n\\nâš ï¸ Ù‡Ø´Ø¯Ø§Ø±: Ø³Ù‡Ù…ÛŒÙ‡ {{key}} Ø¯Ø± Ø¢Ø³ØªØ§Ù†Ù‡ Ø§ØªÙ…Ø§Ù… Ø§Ø³Øª! "
                       f"(Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡: {{current}}/{{quota}})\\n\\n")
                warnings.append(msg)
            elif current >= quota:
                msg = (f"\\n\\nğŸ›‘ Ø§Ø®Ø·Ø§Ø±: Ø³Ù‡Ù…ÛŒÙ‡ {{key}} Ú©Ø§Ù…Ù„Ø§Ù‹ Ù¾Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª! "
                       f"Ù‡Ø²ÛŒÙ†Ù‡ Ù…Ø§Ø²Ø§Ø¯ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.\\n\\n")
                warnings.append(msg)
        self.warning_message = "".join(warnings)
        
    def issue_action(self, transfer_type):
        cost = self.manager.issue_card(transfer_type)
        print(f"Card Issued for {{transfer_type}}. Cost: {{cost}}")
        self.check_warnings()
        self.add_issue_widgets() 
        self.update_remaining_costs()

    def generate_report_action(self):
        report = self.manager.generate_report()
        print(report)
        self.warning_message += "\\n" + report


class TransferApp(App):
    def build(self):
        Builder.load_string(KV_CODE)
        return TransferScreen()

# Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¯Ø± ØµÙˆØ±Øª Ø§Ø¬Ø±Ø§ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… ÙØ§ÛŒÙ„
# if __name__ == '__main__':
#     TransferApp().run() 
''')

with open("[/mnt/data/main.py"](https://storage.gapgpt.app/media/code_interpreter/deeb188f-a014-47e3-bf17-cc6bc402a1d0/main.py%22), "w", encoding="utf-8") as f:
    f.write(f.read())
# ÙØ§ÛŒÙ„ my.kv Ø¨Ø±Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ø¸Ø§Ù‡Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯

<SimpleKivyApp>:
    # ØªØ¹Ø±ÛŒÙ Ø±ÙØªØ§Ø± ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ†
    label: root.label
    
    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø±Ø§ÛŒ ÙˆÛŒØ¬Øª Ø±ÛŒØ´Ù‡ (Root Widget) Ú©Ù‡ Ø¯Ø± Ù¾Ø§ÛŒØªÙˆÙ† Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        Label:
            # Ø§ÛŒÙ† Ù…ØªØºÛŒØ± Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ù‡ self.message Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† ÙˆØµÙ„ Ø§Ø³Øª
            text: root.message 
            font_size: '30sp'
            id: label
            
        Button:
            text: "Ú©Ù„ÛŒÚ© Ú©Ù†"
            size_hint_y: None
            height: dp(50)
            on_press: app.on_button_press(self)
#:import Factory kivy.factory.Factory

<FootballAppManager>:
    # ØªØ¹Ø±ÛŒÙ ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ø¨Ø§ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¢Ø³Ø§Ù†
    LoginScreen:
        name: 'login'
    Screen:
        name: 'verify_code'
        id: verify_code_screen
        Label:
            text: 'Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯'
            size_hint: 1, 0.2
            pos_hint: {'center_x': 0.5, 'top': 0.95}
            font_size: 20
        TextInput:
            id: code_input
            hint_text: "Ú©Ø¯ 4 Ø±Ù‚Ù…ÛŒ (Ù…Ø«Ø§Ù„: 1234)"
            size_hint: 0.8, 0.1
            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
            on_text: root.verification_code = self.text
            input_filter: 'int'
            multiline: False
        Label:
            text: root.error_message
            color: 1, 0, 0, 1  # Ù‚Ø±Ù…Ø²
            size_hint: 1, 0.1
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        Button:
            text: 'ØªØ£ÛŒÛŒØ¯ Ú©Ø¯'
            size_hint: 0.6, 0.1
            pos_hint: {'center_x': 0.5, 'y': 0.1}
            on_release: root.verify_code_action()
            
    TeamSetupScreen:
        name: 'team_setup'
    HomeScreen:
        name: 'home'
    LeagueScreen:
        name: 'league'
    PlayersScreen:
        name: 'players'
    GeneralScreen:
        name: 'general'
    TransfersScreen:
        name: 'transfers'
    CupScreen:
        name: 'cup'
    TreasuryScreen:
        name: 'treasury'

# ===============================================================
# Ø·Ø±Ø§Ø­ÛŒ ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ
# ===============================================================

<LoginScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15

        Label:
            text: 'ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…'
            font_size: 30
            size_hint_y: None
            height: 50

        Label:
            text: 'Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯'
            size_hint_y: None
            height: 30
            
        TextInput:
            hint_text: "Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"
            multiline: False
            size_hint_y: None
            height: 50
            on_text: root.phone_number = self.text
            input_filter: 'int'

        Button:
            text: 'Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯ ØªØ£ÛŒÛŒØ¯'
            size_hint_y: None
            height: 50
            on_release: root.submit_phone()
            
        Label:
            text: root.error_message
            color: 1, 0, 0, 1
            size_hint_y: None
            height: 30


<TeamSetupScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: 'Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø§Ù… ØªÛŒÙ…'
            font_size: 30
            size_hint_y: None
            height: 50

        TextInput:
            hint_text: "Ù†Ø§Ù… ØªÛŒÙ… Ø´Ù…Ø§ (Ù…Ø«Ø§Ù„: Lion FC)"
            multiline: False
            size_hint_y: None
            height: 50
            on_text: root.team_name = self.text

        Label:
            text: root.error_message
            color: 1, 0, 0, 1
            size_hint_y: None
            height: 30

        Button:
            text: 'ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ùˆ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ'
            size_hint_y: None
            height: 50
            on_release: root.finalize_setup()

# ===============================================================
# Ø·Ø±Ø§Ø­ÛŒ ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ (Navigation Structure)
# ===============================================================

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        
        ActionBar:
            title: 'ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ'
            ActionView:
                ActionPrevious:
                    title: 'Ù…Ù†Ùˆ'
                    on_release: app.root.get_screen('home').ids.nav_drawer.set_state('open')
                ActionOverflow:
                    ActionMenuItem:
                        text: 'Ø®Ø±ÙˆØ¬'
                        on_release: app.root.current = 'login'

        MDNavigationLayout: # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÛŒÚ© Ù„Ø§ÛŒÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¨Ù‡ØªØ±
            id: nav_layout
            
            MDNavigationDrawer:
                id: nav_drawer
                side: "left"
                separator_image: 'data/separator.png' # Ø§Ú¯Ø± ØªØµÙˆÛŒØ±ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŒ Ø§ÛŒÙ† Ø®Ø· Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯
                
                MDNavigationDrawerHeader:
                    text: "Ù…Ù†Ùˆ Ø§ØµÙ„ÛŒ"
                
                MDNavigationDrawerItem:
                    text: "Ù„ÛŒÚ¯"
                    on_release: app.root.current = 'league'
                MDNavigationDrawerItem:
                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
                    on_release: app.root.current = 'players'
                MDNavigationDrawerItem:
                    text: "Ø¹Ù…ÙˆÙ…ÛŒ"
                    on_release: app.root.current = 'general'
                MDNavigationDrawerItem:
                    text: "Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
                    on_release: app.root.current = 'transfers'
                MDNavigationDrawerItem:
                    text: "Ø¬Ø§Ù…"
                    on_release: app.root.current = 'cup'
                MDNavigationDrawerItem:
                    text: "Ø®Ø²Ø§Ù†Ù‡"
                    on_release: app.root.current = 'treasury'
        
        BoxLayout: # Ù‚Ø³Ù…Øª Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ ØµÙØ­Ù‡ (Ú©Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø®Ø§Ù„ÛŒ Ø§Ø³Øª)
            Label:
                text: "Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!"
                font_size: 24


# Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† ØµÙØ­Ù‡ØŒ Ú†ÙˆÙ† Ø§Ø² Material Design (MD) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ØŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡:
# pip install kivymd
# Ùˆ ØªØºÛŒÛŒØ± Ù…ØªØ¯Ù‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¨Ù‡ Ø³Ø¨Ú© MD Ø¯Ø§Ø±ÛŒØ¯.
# Ø§Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒØŒ Ù…Ù† Ø§Ø² Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ùˆ Ø¨Ø®Ø´ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø±Ø§ Ø¨Ø§ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Kivy Ú©Ù…ÛŒ Ø§ØµÙ„Ø§Ø­ Ù…ÛŒâ€ŒÚ©Ù†Ù…:
#:import Factory kivy.factory.Factory
#:import get_screen app.root.get_screen # Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ ScreenManager

# ===============================================================
# Ù„Ø§ÛŒÙ‡ Ø±ÛŒØ´Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø¯Ø± Ø¨Ø§Ù„Ø§ (RootLayout)
# ===============================================================

<RootLayout>:
    # Ø§ÛŒÙ† Ù‡Ù…Ø§Ù† ScreenManager Ø§ØµÙ„ÛŒ Ø´Ù…Ø§Ø³Øª Ú©Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¨Ù‡ Ø¨Ø¹Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    orientation: 'vertical'
    
    # 1. Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ (Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø±Ø§ÛŒÛŒ)
    BoxLayout:
        size_hint_y: None
        height: 50
        canvas.before:
            Color:
                rgba: 0.1, 0.1, 0.5, 1  # Ø±Ù†Ú¯ Ø¢Ø¨ÛŒ ØªÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ§Ø±
            Rectangle:
                pos: self.pos
                size: self.size
        
        Label:
            text: "Ø¯Ø§Ø±Ø§ÛŒÛŒ ÙØ¹Ù„ÛŒ:"
            size_hint_x: 0.3
            color: 1, 1, 1, 1
            font_size: 18
            
        Label:
            # Ù†Ù…Ø§ÛŒØ´ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø§Ø±Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± RootLayout ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª
            text: str(root.current_treasury) + " ØªÙˆÙ…Ø§Ù†" 
            id: treasury_label
            size_hint_x: 0.7
            color: 1, 1, 0.5, 1 # Ø²Ø±Ø¯ Ø±ÙˆØ´Ù†
            font_size: 20
            bold: True
            text_size: self.size
            valign: 'middle'
            halign: 'left'

    # 2. ScreenManager (Ú©Ù‡ Ø´Ø§Ù…Ù„ ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ø§Ø³Øª)
    FootballAppManager:
        id: manager
        size_hint: 1, 1
        pos_hint: {'top': 1} # Ø¨Ø±Ø§ÛŒ Ú†Ø³Ø¨ÛŒØ¯Ù† Ø²ÛŒØ± Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ

# ===============================================================
# ØªØ¹Ø±ÛŒÙ Ù…Ø¬Ø¯Ø¯ ScreenManager Ùˆ ØµÙØ­Ø§Øª (Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± RootLayout)
# ===============================================================
# (Ø¨Ù‚ÛŒÙ‡ ØªØ¹Ø§Ø±ÛŒÙ ØµÙØ­Ø§Øª Ø§Ø² Ù…Ø«Ø§Ù„ Ù‚Ø¨Ù„ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ú©Ù¾ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ø§Ù…Ø§ Ù…Ø§ ScreenManager Ø±Ø§ FootballAppManager Ù…ÛŒâ€ŒÙ†Ø§Ù…ÛŒÙ…)

<FootballAppManager>:
    # ... (ØªØ¹Ø§Ø±ÛŒÙ LoginScreen, TeamSetupScreen, Ùˆ Ø¨Ù‚ÛŒÙ‡ ØµÙØ­Ø§Øª Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) ...
    
    LoginScreen:
        name: 'login'
    Screen: # ØµÙØ­Ù‡ Ú©Ø¯ Ø¯Ù‡ÛŒ
        name: 'verify_code'
        # ... (Ø¨Ø§Ù‚ÛŒ Ú©Ø¯ ØµÙØ­Ù‡ Ú©Ø¯ Ø¯Ù‡ÛŒ) ...
    TeamSetupScreen:
        name: 'team_setup'
    
    # ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (HomeScreen) - Ø·Ø±Ø§Ø­ÛŒ Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª
    HomeScreen:
        name: 'home'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            # Ø¨Ø®Ø´ 1: Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø± (Ù†Ø§Ù… ØªÛŒÙ… Ùˆ Ø§Ù…ØªÛŒØ§Ø²)
            BoxLayout:
                size_hint_y: None
                height: 100
                canvas.before:
                    Color:
                        rgba: 0.8, 0.8, 0.8, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10,]
                
                Label:
                    text: "ØªÛŒÙ…: " + root.team_name_display
                    font_size: 22
                    bold: True
                    size_hint_x: 0.6
                
                Label:
                    text: "Ø§Ù…ØªÛŒØ§Ø²: " + str(root.team_score_display)
                    font_size: 20
                    color: 0, 0.5, 0, 1
                    size_hint_x: 0.4

            # Ø¨Ø®Ø´ 2: Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
            Label:
                text: "Ø¬Ø¯ÙˆÙ„ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù„ÛŒÚ¯"
                size_hint_y: None
                height: 40
                font_size: 24
                
            ScrollView:
                do_scroll_x: False
                
                GridLayout:
                    cols: 3
                    spacing: 2
                    size_hint_y: None
                    height: self.minimum_height
                    
                    # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„
                    Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
                    Label: text: "Ù†Ø§Ù… ØªÛŒÙ…" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
                    Label: text: "Ø§Ù…ØªÛŒØ§Ø²" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
                    
                    # Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ (Ø§ÛŒÙ†â€ŒÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…Ù†Ø·Ù‚ Ù¾Ø§ÛŒØªÙˆÙ† Ù¾Ø± Ø´ÙˆÙ†Ø¯)
                    Label: text: "1"
                    Label: text: "Super Team A"
                    Label: text: "12500"
                    
                    Label: text: "2"
                    Label: text: root.team_name_display # Ù†Ù…Ø§ÛŒØ´ ØªÛŒÙ… Ø®ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±
                    Label: text: str(root.team_score_display)
                    
                    Label: text: "3"
                    Label: text: "Another Team C"
                    Label: text: "11000"
                    
                    # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú†Ù†Ø¯ Ø±Ø¯ÛŒÙ Ø®Ø§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÙˆÙ„
                    Label: text: "4"
                    Label: text: "Filler Team D"
                    Label: text: "9500"
                    Label: text: "5"
                    Label: text: "Filler Team E"
                    Label: text: "9000"
                    Label: text: "6"
                    Label: text: "Filler Team F"
                    Label: text: "8500"


    # Ø¨Ù‚ÛŒÙ‡ ØµÙØ­Ø§Øª (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±Ø§Øª Ø¹Ù…Ø¯Ù‡ØŒ ÙÙ‚Ø· Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ Ø±Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯ Ú†ÙˆÙ† Ø¯Ø± RootLayout ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡)
    LeagueScreen:
        name: 'league'
        Label: text: "ØµÙØ­Ù‡ Ù„ÛŒÚ¯: Ù†Ù…Ø§ÛŒØ´ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù…"
    PlayersScreen:
        name: 'players'
        Label: text: "ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
    GeneralScreen:
        name: 'general'
        Label: text: "ØµÙØ­Ù‡ Ø¹Ù…ÙˆÙ…ÛŒ"
    TransfersScreen:
        name: 'transfers'
        Label: text: "ØµÙØ­Ù‡ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
    CupScreen:
        name: 'cup'
        Label: text: "ØµÙØ­Ù‡ Ø¬Ø§Ù…: Ù†Ù…Ø§ÛŒØ´ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù…"
    TreasuryScreen:
        name: 'treasury'
        Label: text: "ØµÙØ­Ù‡ Ø®Ø²Ø§Ù†Ù‡"


# ===============================================================
# Ø¨Ù‚ÛŒÙ‡ ØªØ¹Ø§Ø±ÛŒÙ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ (LoginScreen, TeamSetupScreen, Ùˆ ...)
# ===============================================================
# (Ø§ÛŒÙ† Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ú©Ø¯Ù‡Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¯Ø± main.py Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† ÛŒØ§ Ø§Ø¯ØºØ§Ù… Ú©Ù†ÛŒØ¯)
# LoginScreen Ùˆ TeamSetupScreen Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ ØªØºÛŒÛŒØ± Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ø¯Ø§Ø±Ù†Ø¯ Ú†ÙˆÙ† Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÙ‡ Ø¯Ø§Ø±Ù†Ø¯.
# ... (Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ RootLayout Ùˆ HomeScreen Ø¯Ø³Øªâ€ŒÙ†Ø®ÙˆØ±Ø¯Ù‡ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯) ...

<LeagueScreen>:
    name: 'league'
    league_manager: app.root.get_screen('home').league_manager # Ø§Ú¯Ø± Ø§ÛŒÙ† Ù…ØªØ¯ Ú©Ø§Ø± Ú©Ù†Ø¯

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        # Ø¯Ú©Ù…Ù‡ ØªØ³Øª Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ
        MDFlatButton:
            text: "Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ø¨Ø±Ø¯"
            on_release: root.simulate_next_game()
            size_hint_y: None
            height: 48
            
        MDTabs:
            id: league_tabs
            size_hint_y: 1
            
            # --- ØªØ¨ Ø§ÙˆÙ„: Ø¬Ø¯ÙˆÙ„ Ù„ÛŒÚ¯ ---
            Tab:
                text: "Ø¬Ø¯ÙˆÙ„ Ù„ÛŒÚ¯"
                BoxLayout:
                    orientation: 'vertical'
                    
                    ScrollView:
                        do_scroll_x: False
                        
                        GridLayout:
                            id: league_table_grid
                            cols: 6
                            spacing: 2
                            size_hint_y: None
                            height: self.minimum_height
                            
                            # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„
                            Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ù†Ø§Ù… ØªÛŒÙ…" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ø¨Ø§Ø²ÛŒ" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ø¨Ø±Ø¯/Ù…Ø³Ø§ÙˆÛŒ/Ø¨Ø§Ø®Øª" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ø§Ù…ØªÛŒØ§Ø²" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ú¯Ù„Ø¯" ; bold: True; background_color: 0.4, 0.4, 0.7, 1

                            # Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÙˆÙ„ Ù¾Ø± Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Binding ÛŒØ§ Ú©Ø¯ Ù¾Ø§ÛŒØªÙˆÙ†)
                            # Ù…Ø«Ù„Ø§Ù‹:
                            # Label: text: "1"
                            # Label: text: "Super Team A"
                            # ...

            # --- ØªØ¨ Ø¯ÙˆÙ…: Ø¬Ø¯ÙˆÙ„ Ú¯Ù„Ø²Ù†Ø§Ù† ---
            Tab:
                text: "Ø¨Ø±ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù†"
                ScrollView:
                    do_scroll_x: False
                    GridLayout:
                        cols: 3
                        spacing: 2
                        size_hint_y: None
                        height: self.minimum_height
                        
                        # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„ Ú¯Ù„Ø²Ù†Ø§Ù† (ÙÙ‚Ø· Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
                        Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
                        Label: text: "Ø¨Ø§Ø²ÛŒÚ©Ù†" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
                        Label: text: "Ú¯Ù„" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
                        
                        # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
                        Label: text: "1"
                        Label: text: "Ronaldo 2.0"
                        Label: text: "25"
                        Label: text: "2"
                        Label: text: "Messi Next Gen"
                        Label: text: "22"

<PlayersScreen>:
    name: 'players'
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
            font_size: 30
        Label:
            text: "Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù„ÛŒØ³Øª Ùˆ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ØªÛŒÙ… Ø´Ù…Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯."

# ... (Ø¨Ø§Ù‚ÛŒ ØµÙØ­Ø§Øª) ...
# my.kv
#:import Factory kivy.factory.Factory

# --- ØªØ¹Ø±ÛŒÙ Ú©Ù„ÛŒ Style ---
<Label@Label>:
    size_hint_y: None
    height: 40
    text_size: self.width, None
    halign: 'center'
    valign: 'middle'
    color: 0, 0, 0, 1 # Ù…ØªÙ† Ø³ÛŒØ§Ù‡

<Button@Button>:
    size_hint_y: None
    height: 60
    background_color: 0.2, 0.6, 0.8, 1 # Ø¢Ø¨ÛŒ Ø±ÙˆØ´Ù†
    color: 1, 1, 1, 1 # Ù…ØªÙ† Ø³ÙÛŒØ¯

# --- Screen Manager ---
ScreenManager:
    id: sm
    main: main_screen
    create_cup: create_cup_screen
    cup_details: cup_details_screen

# --- 1. ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø¬Ø§Ù… Ù‡Ø§) ---
Screen:
    name: 'main'
    id: main_screen
    cup_list_layout: cup_list_container

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: "âš½ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø§Ù… Ù‡Ø§ ğŸ†"
            font_size: 30
            size_hint_y: None
            height: 50

        # Ø¯Ú©Ù…Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯
        Button:
            text: "Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯"
            on_release: app.root.current = 'create_cup'
            background_color: 0.1, 0.7, 0.1, 1 # Ø³Ø¨Ø²

        # Ø¸Ø±Ù Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ù„ÛŒØ³Øª Ø¬Ø§Ù… Ù‡Ø§
        ScrollView:
            do_scroll_y: True
            GridLayout:
                id: cup_list_container
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 5


# --- 2. ØµÙØ­Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯ ---
Screen:
    name: 'create_cup'
    id: create_cup_screen
    
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15

        Label:
            text: "Ø³Ø§Ø®Øª Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯"
            font_size: 25
            size_hint_y: None
            height: 50

        TextInput:
            id: cup_name_input
            hint_text: "Ù†Ø§Ù… Ø¬Ø§Ù… (Ù…Ø«Ù„Ø§Ù‹ Ø¬Ø§Ù… Ù†ÙˆØ±ÙˆØ²)"
            multiline: False
            size_hint_y: None
            height: 50

        TextInput:
            id: entry_fee_input
            hint_text: "Ù…Ø¨Ù„Øº ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø± Ø­Ø³Ø¨ Ú¯Ù„Ø¯ (Ù…Ø«Ù„Ø§Ù‹ 5000)"
            multiline: False
            input_filter: 'int' # ÙÙ‚Ø· Ø¹Ø¯Ø¯ Ù‚Ø¨ÙˆÙ„ Ú©Ù†Ø¯
            size_hint_y: None
            height: 50
            
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 60
            spacing: 15
            
            Button:
                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                background_color: 0.8, 0.3, 0.3, 1 # Ù‚Ø±Ù…Ø²
                on_release: app.root.current = 'main'
                
            Button:
                text: "Ø«Ø¨Øª Ø¬Ø§Ù…"
                on_release: root.create_button_pressed()
                background_color: 0.2, 0.6, 0.8, 1 # Ø¢Ø¨ÛŒ


# --- 3. ØµÙØ­Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¬Ø§Ù… ---
Screen:
    name: 'cup_details'
    id: cup_details_screen
    cup_object: None # ØªÙˆØ³Ø· main.py ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒ Ø´ÙˆØ¯
    team_list_layout: team_scroll_layout
    details_layout: details_scroll_layout
    
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        # Ø¹Ù†ÙˆØ§Ù†
        Label:
            text: "Ø¬Ø²Ø¦ÛŒØ§Øª Ø¬Ø§Ù…"
            font_size: 28
            size_hint_y: None
            height: 50

        # Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ù„ÛŒ (Ù†Ø§Ù…ØŒ ÙˆØ±ÙˆØ¯ÛŒØŒ ÙˆØ¶Ø¹ÛŒØª)
        ScrollView:
            size_hint_y: 0.4
            do_scroll_y: True
            GridLayout:
                id: details_scroll_layout
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 2


        Label:
            text: "--- ØªÛŒÙ… Ù‡Ø§ÛŒ Ø´Ø±Ú©Øª Ú©Ù†Ù†Ø¯Ù‡ ---"
            size_hint_y: None
            height: 30

        # Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª ØªÛŒÙ… Ù‡Ø§
        ScrollView:
            size_hint_y: 0.6
            do_scroll_y: True
            GridLayout:
                id: team_scroll_layout
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 2

        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª"
            background_color: 0.8, 0.3, 0.3, 1 
            on_release: app.root.current = 'main'
# my.kv

#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import Factory kivy.factory.Factory

# ... (ØªØ¹Ø§Ø±ÛŒÙ Ù‚Ø¨Ù„ÛŒ Ù…Ø§Ù†Ù†Ø¯ HomeScreen, CupScreen Ùˆ ...) ...

<MonthlyAwardsScreen>:
    # ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø±ØªØ±ÛŒÙ† Ù‡Ø§
    name: 'monthly_awards'
    
    # Ø²Ù…ÛŒÙ†Ù‡ Ú©Ù„ÛŒ ØµÙØ­Ù‡
    canvas.before:
        Color:
            rgb: 0.05, 0.05, 0.15  # Ø²Ù…ÛŒÙ†Ù‡ Ø¢Ø¨ÛŒ ØªÛŒØ±Ù‡/Ù…Ø´Ú©ÛŒ
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: "ğŸ† ØªÙ‚Ø¯ÛŒØ± Ø§Ø² Ø¨Ù‡ØªØ±ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù‡ ğŸ†"
            font_size: 30
            size_hint_y: None
            height: 60
            color: 1, 0.84, 0, 1 # Ø·Ù„Ø§ÛŒÛŒ Ø±ÙˆØ´Ù†

        # Ù†Ø§Ø­ÛŒÙ‡ Ø§ÛŒ Ú©Ù‡ Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© (Ù„ÛŒØ³Øª Ùˆ ØªØµÙˆÛŒØ±) Ø¯Ø± Ø¢Ù† Ù‚Ø±Ø§Ø± Ù…ÛŒ Ú¯ÛŒØ±Ø¯
        ScrollView:
            size_hint_y: 1
            
            BoxLayout:
                id: awards_layout
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 5
                padding: 10
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 0.4 # Ù¾Ø³ Ø²Ù…ÛŒÙ†Ù‡ Ú©Ù…ÛŒ ØªÛŒØ±Ù‡ ØªØ± Ø¨Ø±Ø§ÛŒ Ù…Ø­ØªÙˆØ§
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [15]

        # Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª
        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ Ø§ØµÙ„ÛŒ"
            size_hint_y: None
            height: 50
            background_color: 0.2, 0.2, 0.8, 1 # Ø¢Ø¨ÛŒ
            on_release: 
                app.root.current = 'home'

# Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ† id Ø±Ø§ Ø¯Ø± main.py Ø¯Ø± Ú©Ù„Ø§Ø³ MonthlyAwardsScreen Ø§Ø±Ø¬Ø§Ø¹ Ø¯Ù‡ÛŒÙ…
# awards_layout Ø¯Ø± Ú©Ø¯ Python Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† self.awards_layout Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù…ÛŒ Ø´ÙˆØ¯.
# team_manager.kv

#:import get_player_by_id TEAM_MANAGER.get_player_by_id
#:import random random

<RootWidget>:
    # ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ
    id: sm
    transition: 'slide'
    
    Screen:
        name: 'main_view'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            Label:
                text: "Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…: " + TEAM_MANAGER.name
                size_hint_y: None
                height: 40
                font_size: '20sp'
                
            GridLayout:
                cols: 2
                size_hint_y: None
                height: 50
                Label:
                    text: "Ú¯Ù„Ø¯: " + str(TEAM_MANAGER.gold)
                Label:
                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: " + str(len(TEAM_MANAGER.squad)) + "/" + str(TEAM_MANAGER.MAX_PLAYERS)

            GridLayout:
                cols: 2
                spacing: 10
                
                Button:
                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ ØªØ±Ú©ÛŒØ¨"
                    on_press: 
                        root.current = 'roster'
                        root.get_screen('roster').update_roster_display()
                
                Button:
                    text: "Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
                    on_press: root.current = 'transfer'
                
                Button:
                    text: "Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒÚ©Ù† (Ú©Ø§Ø±Ø¨Ø±)"
                    on_press: root.current = 'builder'
                    
                Button:
                    text: "Ú¯Ø°Ø± Ø¨Ù‡ Ù…Ø§Ù‡ Ø¨Ø¹Ø¯ (Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ)"
                    on_press: 
                        TEAM_MANAGER.current_league_month += 1
                        root.get_screen('main_view').update_status()

            
            ScrollView:
                do_scroll_y: True
                Label:
                    id: roster_log
                    text: "\n".join(TEAM_MANAGER.roster_history)
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width, None
                    padding: [10, 10]
                    on_parent: self.y = self.parent.y # Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§Ø³Ú©Ø±ÙˆÙ„ Ø´Ø¯Ù†

            Button:
                text: "Ø®Ø±ÙˆØ¬"
                size_hint_y: None
                height: 40
                on_release: app.stop()
                
        
        # ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø¯Ø± ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
        def update_status(root):
            self.ids.roster_log.text = "\n".join(TEAM_MANAGER.roster_history)
            # Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø±ÛŒÙØ±Ø´ Ø´Ø¯Ù† Ù‡Ù…Ù‡ ÙˆÛŒØ¬Øª Ù‡Ø§ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Refreshes Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ø§Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ)
            self.children[1].children[2].children[1].text = "Ú¯Ù„Ø¯: " + str(TEAM_MANAGER.gold)
            self.children[1].children[2].children[0].text = "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: " + str(len(TEAM_MANAGER.squad)) + "/" + str(TEAM_MANAGER.MAX_PLAYERS)


    Screen:
        name: 'roster'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            Label:
                text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ ØªØ±Ú©ÛŒØ¨"
                size_hint_y: None
                height: 40
            
            ScrollView:
                id: roster_scroll
                do_scroll_y: True
                
                GridLayout:
                    id: roster_grid
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 5
            
            Button:
                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                size_hint_y: None
                height: 40
                on_press: root.current = 'main_view'
        
        # ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù¾Ø± Ú©Ø±Ø¯Ù† Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†
        def update_roster_display(root):
            roster_grid = root.get_screen('roster').ids.roster_grid
            roster_grid.clear_widgets()
            
            roster_grid.add_widget(Label(text="--- Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ØªÛŒÙ… ---", size_hint_y=None, height=30))
            
            for p in TEAM_MANAGER.squad:
                player_info = f"[ID:{p.id}] P:{p.power} | Age:{p.age} | {p.position} | C:{p.contract_length}M"
                
                grid_layout = BoxLayout(size_hint_y=None, height=40)
                grid_layout.add_widget(Label(text=player_info, size_hint_x=0.7))
                
                # Ø¯Ú©Ù…Ù‡ ØªÙ…Ø¯ÛŒØ¯ (Ø³Ø§Ø¯Ù‡ Ø´Ø¯Ù‡)
                btn_renew = Button(text="ØªÙ…Ø¯ÛŒØ¯", size_hint_x=0.15, on_press=lambda instance, p_id=p.id: self.handle_renew(p_id))
                grid_layout.add_widget(btn_renew)
                
                # Ø¯Ú©Ù…Ù‡ ÙØ±ÙˆØ´ (Ø³Ø§Ø¯Ù‡ Ø´Ø¯Ù‡)
                btn_sell = Button(text="ÙØ±ÙˆØ´", size_hint_x=0.15, on_press=lambda instance, p_id=p.id: self.handle_sell(p_id))
                grid_layout.add_widget(btn_sell)
                
                roster_grid.add_widget(grid_layout)

            # Ø¨Ø§ÛŒØ¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ø´ÙˆØ¯ Ú©Ù‡ Ø§Ø±ØªÙØ§Ø¹ ØµÙØ­Ù‡ Ø¨Ù‡ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ú©Ø§ÙÛŒ Ø¨Ø²Ø±Ú¯ Ø§Ø³Øª
            roster_grid.height = roster_grid.minimum_height
            
        # ØªÙˆØ§Ø¨Ø¹ Ù‡Ù†Ø¯Ù„Ø± (Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…Ù†Ø·Ù‚ Kivy Ú©Ø§Ù…Ù„â€ŒØªØ± Ø´ÙˆÙ†Ø¯)
        def handle_renew(player_id, instance):
            # Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ÛŒØ¯ ÛŒÚ© Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø§Ù‡ ØªÙ…Ø¯ÛŒØ¯ Ø¸Ø§Ù‡Ø± Ø´ÙˆØ¯
            TEAM_MANAGER.renew_contract(player_id, 1) # ØªÙ…Ø¯ÛŒØ¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ 1 Ù…Ø§Ù‡Ù‡
            self.update_roster_display()
            
        def handle_sell(player_id, instance):
            TEAM_MANAGER.sell_player(player_id)
            self.update_roster_display()


    Screen:
        name: 'transfer'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            Label:
                text: "Ø¨Ø®Ø´ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
                size_hint_y: None
                height: 40
                
            Button:
                text: "ÙØ±ÙˆØ´ Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø¨Ù‡ Ø¨Ø§Ø²Ø§Ø±)"
                on_press: 
                    # Ø§ÛŒÙ†Ø¬Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø² Ù„ÛŒØ³Øª Ø§Ø³Øª
                    print("Select player to sell...")
            
            Button:
                text: "Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø§Ø² Ø¨Ø§Ø²Ø§Ø±)"
                on_press: 
                    print("View and buy from market...")

            Button:
                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                size_hint_y: None
                height: 40
                on_press: root.current = 'main_view'


    Screen:
        name: 'builder'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 5
            
            Label:
                text: "Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒÚ©Ù† Ø³Ø§Ø®ØªÙ†ÛŒ (Ú©Ø§Ø±Ø¨Ø±)"
                size_hint_y: None
                height: 40
            
            GridLayout:
                cols: 2
                spacing: 10
                size_hint_y: None
                height: 200
                
                Label: text: "Ù‚Ø¯Ø±Øª (150-250):"
                TextInput:
                    id: build_power
                    input_filter: 'int'
                    multiline: False
                    text: '200'

                Label: text: "Ø³Ù† (1-39):"
                TextInput:
                    id: build_age
                    input_filter: 'int'
                    multiline: False
                    text: '21'

                Label: text: "Ù¾Ø³Øª:"
                Spinner:
                    id: build_pos_spinner
                    text: 'MID'
                    values: ('GK', 'DEF', 'MID', 'FWD')
            
            Button:
                text: "Ø³Ø§Ø®Øª Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† (Ù‡Ø²ÛŒÙ†Ù‡: 15 * Ù‚Ø¯Ø±Øª)"
                on_press:
                    try:
                        p = int(build_power.text)
                        a = int(build_age.text)
                        pos = build_pos_spinner.text
                        new_p = TEAM_MANAGER.create_custom_player(p, a, pos)
                        if new_p:
                            TEAM_MANAGER.add_player(new_p)
                            root.get_screen('roster').update_roster_display()
                            root.get_screen('main_view').update_status()
                            self.text = f"Ù…ÙˆÙÙ‚! Ú¯Ù„Ø¯: {TEAM_MANAGER.gold}"
                        else:
                            self.text = "Ø³Ø§Ø®Øª Ù†Ø§Ù…ÙˆÙÙ‚!"
                    except Exception as e:
                        self.text = f"Ø®Ø·Ø§ Ø¯Ø± ÙˆØ±ÙˆØ¯ÛŒ: {e}"
            
            Button:
                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                size_hint_y: None
                height: 40
                on_press: root.current = 'main_view'
#:kivy 2.2.0

<ChatScreen>:
    name: "chat"
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "ğŸ’¬ Ú†Øª Ø¹Ù…ÙˆÙ…ÛŒ"
            size_hint_y: 0.1
            bold: True
        ScrollView:
            ScrollV                GridLayout:
                    id: chat_list
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    Label:
                        text: "\n".join(root.messages)
                        text_size
                        <Treasury>:
    orientation: 'vertical'
    padding: 15
    spacing: 10

    BoxLayout:
        orientation: 'horizontal'
        spacing: 10
        Label:
            text: "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±:"
            size_hint_x: 0.3
        Label:
            text: root.username
        Label:
            text: "Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú¯Ù„Ø¯:"
            size_hint_x: 0.3
        Label:
            text: str(int(root.gold_balance))

    Label:
        text: "ğŸ’° Ø®Ø±ÛŒØ¯ Ú¯Ù„Ø¯"
        font_size: 22

    GridLayout:
        cols: 2
        spacing: 8
        Button:
            text: "Ø¨Ø³ØªÙ‡ Û± (Û±Û°,Û°Û°Û° Ú¯Ù„Ø¯ / Û²Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
            on_release: root.buy_gold("1")
        Button:
            text: "Ø¨Ø³ØªÙ‡ Û² (Û±Û°Û°,Û°Û°Û° Ú¯Ù„Ø¯ / Û±Û·Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
            on_release: root.buy_gold("2")
        Button:
            text: "Ø¨Ø³ØªÙ‡ Û³ (ÛµÛ°Û°,Û°Û°Û° Ú¯Ù„Ø¯ / ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
            on_release: root.buy_gold("3")
        Button:
            text: "Ø¨Ø³ØªÙ‡ Û´ (Ûµ,Û°Û°Û° Ú¯Ù„Ø¯ / Û²,ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
            on_release: root.buy_gold("4")

    Label:
        text: "ğŸ¦ Ù¾Ø³â€ŒØ§Ù†Ø¯Ø§Ø² Ùˆ Ø³ÙˆØ¯"
        font_size: 22
    Button:
        text: "Ø§ÙØ²ÙˆØ¯Ù† Ø³ÙˆØ¯ Û±Ùª"
        on_release: root.deposit_gold()

    Label:
        text: "ğŸ Ø§Ù‡Ø¯Ø§ Ú¯Ù„Ø¯"
        font_size: 22

    BoxLayout:
        orientation: 'horizontal'
        spacing: 8
        TextInput:
            id: recipient
            hint_text: "Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Ø¨Ø± Ú¯ÛŒØ±Ù†Ø¯Ù‡"
            multiline: False
            on_text_validate: root.recipient_input = self
        TextInput:
            id: amount
            hint_text: "Ù…Ù‚Ø¯Ø§Ø± Ú¯Ù„Ø¯"
            multiline: False
            on_text_validate: root.amount_input = self
        Button:
            text: "Ø§Ù‡Ø¯Ø§"
            on_release:
                root.recipient_input = recipient
                root.amount_input = amount
                root.donate_gold()
# stats.kv

<TopPlayersScreen>:
    orientation: 'vertical'
    padding: 10
    spacing: 15

    # Ø¹Ù†ÙˆØ§Ù† Ø§ØµÙ„ÛŒ
    Label:
        text: "ğŸ† Ø¨Ø®Ø´ Ø¨Ø±ØªØ±ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù„ÛŒÚ¯ ğŸ†"
        font_size: '24sp'
        size_hint_y: None
        height: 50
        halign: 'center'

    # Ø¨Ø®Ø´ Ú¯Ù„Ø²Ù†Ø§Ù†
    Label:
        text: "ğŸ¥‡ Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù† (Ú©Ù„ Ú¯Ù„ Ø²Ø¯Ù‡):"
        font_size: '20sp'
        size_hint_y: None
        height: 40
        halign: 'right'
    
    # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ScrollView Ùˆ Label Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª
    ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        size_hint_y: 1
        
        Label:
            text: root.scorers_text  # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ù…ØªØºÛŒØ± painters_text Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯
            font_size: '16sp'
            size_hint_y: None
            height: self.texture_size[1]  # ØªÙ†Ø¸ÛŒÙ… Ø§Ø±ØªÙØ§Ø¹ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø­ØªÙˆØ§
            text_size: self.width, None
            halign: 'right'
            valign: 'top'


    # Ø¨Ø®Ø´ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù†
    Label:
        text: "ğŸ§¤ Ø¨Ù‡ØªØ±ÛŒÙ† Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù† (Ú©Ù…ØªØ±ÛŒÙ† Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡):"
        font_size: '20sp'
        size_hint_y: None
        height: 40
        halign: 'right'

    # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ScrollView Ø¨Ø±Ø§ÛŒ Ù„ÛŒØ³Øª Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù†
    ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        size_hint_y: 1
        
        Label:
            text: root.keepers_text # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ù…ØªØºÛŒØ± painters_text Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯
            font_size: '16sp'
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None
            halign: 'right'
            valign: 'top'
   **Explanation**

1.  **AccountManager Class:**
    *   `_accounts`: A static list (emulating a database).
    *   `get_accounts()`, `get_current_account()`:  Get data.
    *   `switch_account()`: Switch the current account.
    *   `add_account()`: Add a new account.
2.  **AccountItem Widget:**
    *   Custom button for each account.
    *   `on_release()`:  Finds the index and switches the account.
3.  **Screens:**
    *   `MainScreen`:  Displays the current user's name/phone.
    *   `SettingsScreen`: Lists the accounts.
    *   `AddAccountScreen`: Gets phone number, simulates adding.
4.  **Kivy Language (KV) Code:**
    *   UI layout is defined in `kv_code`.
    *   Includes a ScrollView for the account list.
5.  **MultiAccountApp:**
    *   The main Kivy application class.
    *   Adds the screens to the `ScreenManager`.

**How to Use**

1.  Save the code as `main.py`
2.  Make sure you have Kivy installed (`pip install kivy`).
3.  Run the app: `python main.py`

**Key Points:**

*   **No Actual Authentication:** It simulates session data. In a real app, you'd use secure tokens.
*   **Simple Data:**  

**Developing User Account System**

I'm presently building the `AccountManager` class, incorporating data for the multiple accounts. I'm focusing on the interaction logic to enable seamless user account switching with the Kivy framework, including implementing the `SettingsScreen` and the `AccountItem` custom widget. I am aiming to simulate a key account-switching flow.
```python
import kivy
from kivy.app import App
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.properties import ObjectProperty, StringProperty, ListProperty
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.button import Button
from kivy.uix.label import Label
import os
from kivy.core.window import Window
Window.size = (360, 640)  # Standard mobile dimensions


 # --- Data Model and Storage ---
class AccountManager:
# A simple in-memory storage for demonstration
_accounts = [
{'phone': '0912-123-4567 ', 'name': 'Ø­Ø³Ø§Ø¨ Ø§ØµÙ„ÛŒ (Main)', 'token': 'token_main_123'},
{'phone': '0935-987-6543', 'name': 'Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±ÛŒ  (Work)', 'token': 'token_work_456'}
]
_current_account_index = 0

@classmethod
def get_accounts(cls):
return cls._accounts 

@classmethod
def get_current_account(cls):
return cls._accounts[cls._current_account_index]

@classmethod
def switch_account(cls, index):
if  0 <= index < len(cls._accounts):
cls._current_account_index = index
print(f"Switched to account: {cls.get_current_account()['phone']}")
# In a  real app, this is where you'd load the new user's session data

@classmethod
def add_account(cls, phone, name):
# Simulate initial login/token retrieval
new_account  = {'phone': phone, 'name': name, 'token': f'token_new_{len(cls._accounts) + 1}'}
cls._accounts.append(new_account)


# --- Kivy Widgets/ Screens ---

class AccountItem(Button):
# A custom button widget for each account in the list
account_info = ObjectProperty(None)

def on_release(self):
# Find  the index of this account in the manager and switch
try:
index = AccountManager.get_accounts().index(self.account_info)
AccountManager.switch_account(index)
# Navigate  back to the main screen after switching
self.parent.parent.parent.manager.current = 'main'
except ValueError:
print("Error: Account not found.")


class SettingsScreen(Screen):
accounts_container = ObjectProperty(None)

def on_enter(self):
# Clear existing items and reload the list every time the screen is entered
self.load_accounts_list()

def load_accounts_list(self):
self.ids.accounts_container.clear_widgets()
accounts = AccountManager.get_accounts()
for i, account in enumerate(accounts):
# Display current account differently 
is_current = (i == AccountManager._current_account_index)

# Create the custom widget
item = AccountItem(
text=f"{account['name']} ({account['phone'] }) - {'(ÙØ¹Ù„ÛŒ)' if is_current else '(Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯)'}",
account_info=account,
size_hint_y=None,
height=60
)
# Add some styling based on whether it's the current account
if is_current:
item.background_color = (0.2, 0.8, 0.2, 1) # Green 
else:
item.background_color = (0.1, 0.5, 0.7, 1) # Blue

self.ids.accounts_container.add_widget(item)

# Add a filler widget at the bottom to ensure the list scrolls correctly if needed
self.ids.accounts_container.add_widget(Label(size_hint_y=None, height=1))


class AddAccountScreen(Screen):
def add_new_account(self,

**Designing User Interface**

I am currently working on the basic Kivy UI screens. My primary task is to implement the screens for main display, settings, and adding new accounts. I'm leveraging KV language to layout these screens. The UI elements and screen navigation are being implemented and I am focusing on the "Other Accounts" list (Settings screen) and the "Add Account" screen. I am now working on the display logic, so that users will see the appropriate content when they navigate between different screens.
# my.kv

<MainScreen>:
    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ù„ÛŒ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: root.status_text  # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø®Ø§ØµÛŒØª ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¯Ø± main.py
            size_hint_y: None
            height: 50
            font_size: '20sp'
            color: 0, 0, 0, 1 # Ù…ØªÙ† Ø³ÛŒØ§Ù‡
            
        Button:
            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.2, 0.6, 0.8, 1  # Ø¢Ø¨ÛŒ Ø±ÙˆØ´Ù†
            on_release: root.manager.current = 'bracket_screen'

        Button:
            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.3, 0.7, 0.4, 1 # Ø³Ø¨Ø² Ø±ÙˆØ´Ù†
            on_release: root.manager.current = 'team_screen'


<BracketScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        
        Label:
            text: "Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
            size_hint_y: None
            height: 50
            font_size: '22sp'
            color: 0, 0, 0, 1
            
        # --- Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø­Ù„ Ù‚Ø±Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨ØµØ±ÛŒ Bracket Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ ---
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            
            BoxLayout:
                id: bracket_container
                orientation: 'horizontal'
                size_hint_x: None
                width: max(self.minimum_width, app.root.width * 2) # Ù…Ø«Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø§ÙÙ‚ÛŒ Ø¨ÙˆØ¯Ù†
                Label:
                    text: "Ù…Ø±Ø§Ø­Ù„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø·Ø±Ø§Ø­ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ±)"
                    size_hint_x: None
                    width: 400
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
        # ------------------------------------------------------

        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
            size_hint_y: None
            height: 50
            background_color: 0.8, 0.2, 0.2, 1
            on_release: root.manager.current = 'main_screen'

<TeamScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        
        Label:
            text: "Ø¬Ø²Ø¦ÛŒØ§Øª ØªÛŒÙ…â€ŒÙ‡Ø§"
            size_hint_y: None
            height: 50
            font_size: '22sp'
            color: 0, 0, 0, 1
            
        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
            size_hint_y: None
            height: 50
            background_color: 0.8, 0.2, 0.2, 1
            on_release: root.manager.current = 'main_screen'
            # my.kv (Ù†Ø³Ø®Ù‡ Ø§ØµÙ„Ø§Ø­ Ø´Ø¯Ù‡)

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: root.status_text
            size_hint_y: None
            height: 50
            font_size: '20sp'
            color: 0, 0, 0, 1
            
        Button:
            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.2, 0.6, 0.8, 1
            on_release: root.manager.current = 'bracket_screen'

        Button:
            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.3, 0.7, 0.4, 1
            on_release: root.manager.current = 'team_screen'

        Button:
            text: "Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ø§ÛŒØ§Ù† Ù…Ø§Ù‡ (Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚)"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.9, 0.4, 0.1, 1
            on_release: root.run_monthly_update(self) # ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ØªØ¯ Ø§Ø² main.py


<BracketScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        
        Label:
            text: "Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
            size_hint_y: None
            height: 50
            font_size: '22sp'
            color: 0, 0, 0, 1
            
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            
            BoxLayout:
                orientation: 'horizontal'
                size_hint_x: None
                width: 800 # Ø¹Ø±Ø¶ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø±Ø®ØªÛŒ
                Label:
                    text: "Ù…Ø±Ø§Ø­Ù„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø·Ø±Ø§Ø­ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´)"
                    size_hint_x: 1
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
        
        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
            size_hint_y: None
            height: 50
            background_color: 0.8, 0.2, 0.2, 1
            on_release: root.manager.current = 'main_screen'

<TeamScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 5
        
        # Ø§ÛŒÙ† ÙˆÛŒØ¬Øª Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ Ø±Ø§ Ù†Ú¯Ù‡ Ù…ÛŒâ€ŒØ¯Ø§Ø±Ø¯
        Label:
            id: team_display_label
            # Ø§ÛŒÙ† Ù…ØªÙ† Ø¯Ø± on_enter ØªÙˆØ³Ø· Ù¾Ø§ÛŒØªÙˆÙ† Ø¨Ù‡â€ŒØ±ÙˆØ² Ù…ÛŒâ€ŒØ´ÙˆØ¯
            text: "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§..."
            halign: 'right'
            valign: 'top'
               cd /path/to/your/kivy/project  # Ø§ÛŒÙ† Ù…Ø³ÛŒØ± Ø±Ø§ Ø¨Ø§ Ù…Ø³ÛŒØ± ÙˆØ§Ù‚Ø¹ÛŒ Ù¾ÙˆØ´Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø®ÙˆØ¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†  Ú©Ù†ÛŒØ¯
               ScreenManager:
    MainScreen:
    TeamScreen:
    ChatScreen:


<MainScreen>:
    name: "main"
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "ğŸ† ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ"
            size_hint_y: .1
            font_size: 26

        BoxLayout:
            size_hint_y: .45

            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "1000 Ú¯Ù„Ø²Ù† Ø¨Ø±ØªØ± ØªØ§Ø±ÛŒØ®"
                ScrollView:
                    GridLayout:
                        id: top_scorers
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height

            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú©Ù…ØªØ±ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡"
                ScrollView:
                    GridLayout:
                        id: best_defense
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height

        Button:
            text: "Ø±ÙØªÙ† Ø¨Ù‡ Ú†Øª Ø¹Ù…ÙˆÙ…ÛŒ"
            size_hint_y: .1
            on_press: app.change_screen("chat")


<TeamScreen>:
    name: "team"
    BoxLayout:
        orientation: "vertical"

        Label:
            id: team_name
            text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ…"
            font_size: 24

        Label:
            id: team_stats
            text: ""

        ScrollView:
            GridLayout:
                id: team_scorers
                cols: 1
                size_hint_y: None
                height: self.minimum_height


<ChatScreen>:
    name: "chat"
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "ğŸ’¬ Ú†Øª Ø¹Ù…ÙˆÙ…ÛŒ"
            size_hint_y: .1

        BoxLayout:
            size_hint_y: .4
            orientation: "vertical"
            Label:
                text: "ğŸ”¥ Ú†Ø§Ù„Ø´ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† (60 Ø«Ø§Ù†ÛŒÙ‡)"
            Button:
                text: "Ø§Ø±Ø³Ø§Ù„ Ú†Ø§Ù„Ø´"
                on_press: app.start_challenge()

        BoxLayout:
            size_hint_y: .4
            orientation: "vertical"
            Label:
                text: "ğŸ‘‘ 30 Ú©Ø§Ø±Ø¨Ø± ÙØ¹Ø§Ù„ Ø§Ù…Ø±ÙˆØ²"
            ScrollView:
                GridLayout:
                    id: active_users
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    ScreenManager:
    MainScreen:
    TeamProfileScreen:

<MainScreen>:
    on_enter: self.load_top_1000()
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "ğŸ† 1000 Ù¾Ø§Ø³ÙˆØ± Ø¨Ø±ØªØ± Ø¨Ø§Ø²ÛŒ"
            font_size: 22
            size_hint_y: None
            height: 50

        ScrollView:
            GridLayout:
                cols: 1
                size_hint_y: None
                height: self.minimum_height

                canvas.before:
                    Color:
                        rgba: 0.1, 0.1, 0.1, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos

                RecycleView:
                    size_hint_y: None
                    height: self.minimum_height
                    data: root.top_assists
                    viewclass: "Label"
                    RecycleBoxLayout:
                        cols: 1
                        default_size: None, 40
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height


        Button:
            text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ…"
            size_hint_y: None
            height: 50
            on_press:
                app.root.current = "team"


<TeamProfileScreen>:
    on_enter: self.load_team_data()
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "ğŸ“Š Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ…"
            font_size: 22
            size_hint_y: None
            height: 50

        GridLayout:
            cols: 3
            size_hint_y: None
            height: self.minimum_height

            Label:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù†"
            Label:
                text: "Ú¯Ù„"
            Label:
                text: "Ù¾Ø§Ø³ Ú¯Ù„"

            # Ø¯Ø§Ø¯Ù‡ ØªÛŒÙ…
            Label:
                text: "Ø¹Ù„ÛŒ"
            Label:
                text: "10"
            Label:
                text: "7"

            Label:
                text: "Ø±Ø¶Ø§"
            Label:
                text: "5"
            Label:
                text: "12"

            Label:
                text: "Ù…Ù‡Ø¯ÛŒ"
            Label:
                text: "8"
            Label:
                text: "4"

        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
            size_hint_y: None
            height: 50
            on_press:
                app.root.current = "main"
<ChampionsLayout>:
    orientation: "vertical"
    padding: 20
    spacing: 10

    Label:
        text: "ğŸ† Ù„ÛŒÚ¯ Ù‚Ù‡Ø±Ù…Ø§Ù†Ø§Ù†"
        font_size: 28
        size_hint_y: None
        height: 60

    GridLayout:
        cols: 2
        spacing: 10

        # Ù†Ù…Ø§ÛŒØ´ ØªÛŒÙ…â€ŒÙ‡Ø§
        RecycleView:
            viewclass: "TeamItem"
            data: root.teams
            RecycleBoxLayout:
                default_size: None, 60
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: "vertical"


<TeamItem@BoxLayout>:
    orientation: "horizontal"
    size_hint_y: None
    height: 60
    padding: 10
    spacing: 10

    Label:
        text: root.name
        font_size: 18

    Label:
        text: "Ù‚Ø¯Ø±Øª: " + str(root.power)
        font_size: 16
<LeagueHonors>:
    orientation: "vertical"
    padding: 10
    spacing: 10
    size_hint_y: 0.6

    Label:
        text: "ğŸ† Û±Û° ØªÛŒÙ… Ù¾Ø±Ø§ÙØªØ®Ø§Ø± Ù„ÛŒÚ¯"
        font_size: 24
        size_hint_y: None
        height: 50

    RecycleView:
        viewclass: "HonorItem"
        data: root.teams
        RecycleBoxLayout:
            orientation: "vertical"
            default_size: None, 60
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height


<HonorItem@BoxLayout>:
    orientation: "horizontal"
    size_hint_y: None
    height: 60
    spacing: 10
    padding: 10

    Label:
        text: root.name
        font_size: 18

    Label:
        text: "ğŸ¥‡ " + str(root.titles)
    Label:
        text: "ğŸ¥ˆ " + str(root.seconds)
    Label:
        text: "ğŸ¥‰ " + str(root.thirds)


<ProfileScreen>:
    orientation: "vertical"
    padding: 10
    spacing: 10
    size_hint_y: 0.4

    Label:
        text: "ğŸ‘¤ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ " + root.username
        font_size: 22
        size_hint_y: None
        height: 50

    Button:
        text: "ğŸ† Ø¬Ø§Ù…â€ŒÙ‡Ø§"
        size_hint_y: None
        height: 50
        on_press: root.show_cups()

    RecycleView:
        viewclass: "CupItem"
        data: root.cups
        RecycleBoxLayout:
            orientation: "vertical"
            default_size: None, 40
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height


<CupItem@Label>:
    size_hint_y: None
    height: 40
    font_size: 16
<TrophyScreen>:
    orientation: "vertical"
    padding: 20
    spacing: 20

    Button:
        text: "ğŸ† Ú¯Ø±ÙØªÙ† Ø¬Ø§Ù…"
        size_hint_y: None
        height: 60
        on_press: root.play_animation()

    FloatLayout:

        Label:
            id: trophy
            text: "ğŸ†"
            font_size: 160
            size_hint: None, None
            size: self.texture_size
            pos_hint: {"center_x": 0.5}
            scale: 1
            canvas.before:
                PushMatrix
                Scale:
                    x: self.scale
                    y: self.scale
                    origin: self.center
            canvas.after:
                PopMatrix

        Label:
            text: "Ù‚Ù‡Ø±Ù…Ø§Ù† Ø´Ø¯ÛŒ!"
            font_size: 32
            bold: True
            color: 1, 0.85, 0, root.opacity_text
            pos_hint: {"center_x": 0.5, "center_y": 0.25}
from kivy.app import App
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.uix.floatlayout import FloatLayout
from kivy.properties import StringProperty, NumericProperty
from kivy.animation import Animation
from kivy.lang import Builder

# ---------- Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ… ----------
Builder.load_string("""
<StadiumScreen>:
    FloatLayout:
        canvas:
            Color:
                rgb: 0.1, 0.2, 0.3
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "ğŸŸï¸ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ… Ø¨Ø²Ø±Ú¯"
            font_size: 36
            pos_hint: {"center_x":0.5, "center_y":0.8}

        Label:
            id: crowd
            text: "ğŸ‰ğŸ‰ğŸ‰ Ø¬Ù…Ø¹ÛŒØª Ø¯Ø± Ø­Ø§Ù„ ØªØ´ÙˆÛŒÙ‚!"
            font_size: 28
            pos_hint: {"center_x":0.5, "center_y":0.6}

        Button:
            text: "Ø´Ø±ÙˆØ¹ Ù…Ø±Ø§Ø³Ù…"
            size_hint: None, None
            size: 200, 60
            pos_hint: {"center_x":0.5, "center_y":0.2}
            on_press: root.start_ceremony()
""")

class StadiumScreen(Screen):
    def start_ceremony(self):
        # ÙˆÙ‚ØªÛŒ Ù…Ø±Ø§Ø³Ù… Ø´Ø±ÙˆØ¹ Ø´Ø¯ØŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø³Ø§Ø¯Ù‡ Ø±ÙˆÛŒ Ø¬Ù…Ø¹ÛŒØª
        anim = Animation
<KitWidget>:
    Image:
        id: kit_img
        source: root.kit_image
        size_hint: None, None
        size: 200, 400
        pos_hint: {"center_x":0.5, "center_y":0.5}

    Image:
        id: logo_img
        source: root.logo_image
        size_hint: None, None
        size: 80, 80
        pos_hint: {"center_x":0.5, "center_y":0.8}

    Button:
        text: "Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³ Ú©ÛŒØª"
        size_hint: None, None
        size: 150, 50
        pos_hint: {"center_x":0.5, "y":0.05}
        on_press: root.open_filechooser()

<MainScreen>:
    orientation: "vertical"
    padding: 20
    spacing: 20

    Label:
        text: "ØµÙØ­Ù‡ Ú©ÛŒØª ØªÛŒÙ…"
        font_size: 24
        size_hint_y: None
        height: 50

    KitWidget:
        id: kit_widget
<PlayerWidget>:
    Image:
        id: player_img
        source: root.player_image
        size_hint: None, None
        size: 150, 300
        pos_hint: {"center_x":0.5, "center_y":0.2}

    Image:
        id: logo_img
        source: root.logo_image
        size_hint: None, None
        size: 80, 80
        pos_hint: {"center_x":0.5, "center_y":0.7}

    Label:
        id: number_label
        text: str(root.number)
        font_size: 48
        bold: True
        color: 1, 1, 0, 1
        pos_hint: {"center_x":0.5, "center_y":0.5}
        opacity: 0

<PurchaseScreen>:
    name: "purchase"
    FloatLayout:
        Button:
            text: "Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù†"
            size_hint: None, None
            size: 200, 60
            pos_hint: {"center_x":0.5, "y":0.05}
            on_press:
                root.on_enter()  # Ø´Ø±ÙˆØ¹ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨Ø§Ø²ÛŒÚ©Ù†
<PlayerProfile>:
    orientation: "vertical"
    padding: 10
    spacing: 10

    Label:
        text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø§Ø²ÛŒÚ©Ù†: " + root.player_position
        font_size: 22
        size_hint_y: None
        height: 40

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height
        row_default_height: 30
        spacing: 5
        RecycleView:
            viewclass: "StatItem"
            data: root.stats
            RecycleBoxLayout:
                default_size: None, 30
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: "vertical"

<StatItem@BoxLayout>:
    orientation: "horizontal"
    Label:
        text: root.title
        font_size: 16
    Label:
        text: str(root.value)
        font_size: 16

<MainScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 20

        Label:
            text: "ØµÙØ­Ù‡ Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† / Ø¢Ù†Ø§Ù„ÛŒØ² Ø¨Ø§Ø²ÛŒÚ©Ù†"
            font_size: 24
            size_hint_y: None
            height: 50

        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 10

            Button:
                text: "Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†"
                on_press: profile.show_stats("Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†")
            Button:
                text: "Ù…Ø¯Ø§ÙØ¹"
                on_press: profile.show_stats("Ù…Ø¯Ø§ÙØ¹")
            Button:
                text: "Ù‡Ø§ÙØ¨Ú©"
                on_press: profile.show_stats("Ù‡Ø§ÙØ¨Ú©")
            Button:
                text: "Ù…Ù‡Ø§Ø¬Ù…"
                on_press: profile.show_stats("Ù…Ù‡Ø§Ø¬Ù…")

        PlayerProfile:
            id: profile
<PlayerProfile>:
    orientation: "vertical"
    padding: 5
    spacing: 5

    Label:
        text: root.title
        font_size: 20
        size_hint_y: None
        height: 30

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height
        row_default_height: 25
        spacing: 5

        RecycleView:
            viewclass: "StatItem"
            data: root.stats
            RecycleBoxLayout:
                default_size: None, 25
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: "vertical"

<StatItem@BoxLayout>:
    orientation: "horizontal"
    Label:
        text: root.title
        font_size: 16
    Label:
        text: str(root.value)
        font_size: 16

<CompareScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 20

        Label:
            text: "Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¯Ùˆ Ø¨Ø§Ø²ÛŒÚ©Ù†"
            font_size: 24
            size_hint_y: None
            height: 50

        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 10

            Button:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§ÙˆÙ„: Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†"
                on_press: player1.show_stats("Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†")
            Button:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§ÙˆÙ„: Ù…Ø¯Ø§ÙØ¹"
                on_press: player1.show_stats("Ù…Ø¯Ø§ÙØ¹")
            Button:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯ÙˆÙ…: Ù‡Ø§ÙØ¨Ú©"
                on_press: player2.show_stats("Ù‡Ø§ÙØ¨Ú©")
            Button:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯ÙˆÙ…: Ù…Ù‡Ø§Ø¬Ù…"
                on_press: player2.show_stats("Ù…Ù‡Ø§Ø¬Ù…")

        BoxLayout:
            orientation: "horizontal"
            spacing: 20

            PlayerProfile:
                id: player1
            PlayerProfile:
                id: player2
#:kivy 2.2.0

<PlayerAIPanel>:
    orientation: "vertical"
    padding: 14
    spacing: 10

    canvas.before:
        Color:
            rgba: 0.08, 0.08, 0.1, 0.96
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [16]

    Label:
        text: "ğŸ§  ØªØ­Ù„ÛŒÙ„ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†"
        font_size: "20sp"
        bold: True
        size_hint_y: None
        height: "36dp"

    Divider

    # -------- Perception --------
    Label:
        text: "Perception | Ø¯Ø±Ú© Ù…Ø­ÛŒØ·"
        font_size: "16sp"
        bold: True
        size_hint_y: None
        height: "28dp"

    GridLayout:
        cols: 2
        spacing: 6
        size_hint_y: None
        height: self.minimum_height

        Label:
            text: "ÙØ§ØµÙ„Ù‡ ØªØ§ ØªÙˆÙ¾:"
        Label:
            text: root.ball_distance

        Label:
            text: "ÙØ§ØµÙ„Ù‡ ØªØ§ Ø¯Ø±ÙˆØ§Ø²Ù‡:"
        Label:
            text: root.goal_distance

        Label:
            text: "ÙØ´Ø§Ø± Ø­Ø±ÛŒÙ:"
        Label:
            text: root.pressure_level

        Label:
            text: "ÛŒØ§Ø± Ø¢Ø²Ø§Ø¯:"
        Label:
            text: root.free_teammate

    Divider

    # -------- Decision Scores --------
    Label:
        text: "Decision Scores"
        font_size: "16sp"
        bold: True
        size_hint_y: None
        height: "28dp"

    GridLayout:
        cols: 2
        spacing: 8
        size_hint_y: None
        height: self.minimum_height

        Label:
            text: "Ø´ÙˆØª"
        ProgressBar:
            max: 100
            value: root.shoot_score

        Label:
            text: "Ù¾Ø§Ø³"
        ProgressBar:
            max: 100
            value: root.pass_score

        Label:
            text: "Ø¯Ø±ÛŒØ¨Ù„"
        ProgressBar:
            max: 100
            value: root.dribble_score

    Divider

    # -------- Final Action --------
    BoxLayout:
        size_hint_y: None
        height: "48dp"
        padding: 8
        spacing: 10
        canvas.before:
            Color:
                rgba: 0.15, 0.25, 0.35, 1
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [12]

        Label:
            text: "ØªØµÙ…ÛŒÙ… Ù†Ù‡Ø§ÛŒÛŒ:"
            bold: True

        Label:
            text: root.final_action
            bold: True
            color: 0, 1, 0, 1

    Button:
        text: "ğŸ”„ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØµÙ…ÛŒÙ… Ø¬Ø¯ÛŒØ¯"
        size_hint_y: None
        height: "44dp"
        on_press: root.simulate_decision()


<Divider@Widget>:
    size_hint_y: None
    height: "1dp"
    canvas:
        Color:
            rgba: 1, 1, 1, 0.15
        Rectangle:
            pos: self.pos
            size: self.size
#:kivy 2.2.0

<LiveMatchPanel>:
    orientation: "vertical"
    padding: 12
    spacing: 10

    Label:
        text: "ğŸ“¡ Ù¾Ø®Ø´ Ø²Ù†Ø¯Ù‡ Ù…Ø³Ø§Ø¨Ù‚Ù‡"
        font_size: "20sp"
        bold: True
        size_hint_y: None
        height: "36dp"

    Label:
        text: "â±ï¸ Ø¯Ù‚ÛŒÙ‚Ù‡: " + str(root.match_minute)
        font_size: "16sp"
        size_hint_y: None
        height: "28dp"

    Divider

    Label:
        text: "ğŸ§  ØªØµÙ…ÛŒÙ… Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†"
        bold: True
        size_hint_y: None
        height: "26dp"

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height
        spacing: 6

        Label:
            text: "Ø´ÙˆØª"
        ProgressBar:
            max: 100
            value: root.shoot_score

        Label:
            text: "Ù¾Ø§Ø³"
        ProgressBar:
            max: 100
            value: root.pass_score

        Label:
            text: "Ø¯Ø±ÛŒØ¨Ù„"
        ProgressBar:
            max: 100
            value: root.dribble_score

    BoxLayout:
        size_hint_y: None
        height: "40dp"

        Label:
            text: "ØªØµÙ…ÛŒÙ… Ù†Ù‡Ø§ÛŒÛŒ:"
            bold: True
        Label:
            text: root.final_action
            bold: True
            color: 0, 1, 0, 1

    Divider

    Label:
        text: "ğŸ“¢ Ø§ØªÙØ§Ù‚Ø§Øª Ù…Ù‡Ù… Ø¨Ø§Ø²ÛŒ"
        bold: True
        size_hint_y: None
        height: "26dp"

    ScrollView:
        GridLayout:
            cols: 1
            size_hint_y: None
            height: self.minimum_height
            spacing: 6

            Label:
                text: event
                size_hint_y: None
                height: "24dp"
                halign: "right"
                text_size: self.width, None
                for event in root.live_events

    Button:
        text: "â–¶ Ø´Ø±ÙˆØ¹ Ù¾Ø®Ø´ Ø²Ù†Ø¯Ù‡"
        size_hint_y: None
        height: "44dp"
        on_press: root.start_match()


<Divider@Widget>:
    size_hint_y: None
    height: "1dp"
    canvas:
        Color:
            rgba: 1, 1, 1, 0.2
        Rectangle:
            pos: self.pos
            size: self.size
<GameLogic>:
    orientation: "vertical"
    padding: 10
    spacing: 10

    Label:
        text: "Ø¨Ø§Ø²ÛŒ ÙÙˆØªØ¨Ø§Ù„ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ"
        font_size: 24

    Label:
        text: "Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ú©ØªÛŒÚ©"

    Spinner:
        text: root.tactic
        values: ["Ø¯ÙØ§Ø¹ÛŒ", "Ù…Ø§Ù„Ú©ÛŒØªÛŒ", "Ù‡Ø¬ÙˆÙ…ÛŒ"]
        on_text: root.tactic = self.text

    Button:
        text: "ğŸ“£ ØªØ´ÙˆÛŒÙ‚"
        on_press: root.cheer()

    Button:
        text: "âš½ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ"
        on_press: root.play_match()

    Label:
        text: "Ø±ÙˆØ­ÛŒÙ‡ Ù…ÛŒØ²Ø¨Ø§Ù†: " + str(int(root.host_morale))

    Label:
        text: root.result_text
        font_size: 20
<Game>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "ğŸŸ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ ÙˆÛŒÚ˜Ù‡"
        font_size: 22

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Label:
        text: "Ù‚Ø¯Ø±Øª Ú©Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: " + str(root.player_power)

    Spinner:
        text: "Ø³Ø·Ø­ Ú©Ù…Ù¾: " + str(root.camp_level)
        values: ["1", "2", "3"]
        on_text: root.camp_level = int(self.text)

    Spinner:
        text: "Ø³Ø·Ø­ Ù…Ø±Ø¨ÛŒ: " + str(root.coach_level)
        values: ["1", "2", "3"]
        on_text: root.coach_level = int(self.text)

    Spinner:
        text: "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†"
        values: ["1", "2", "3", "4", "5"]
        on_text: root.players_in_camp = int(self.text)

    Button:
        text: "ğŸš€ Ø´Ø±ÙˆØ¹ Ú©Ù…Ù¾ Û· Ø±ÙˆØ²Ù‡"
        on_press: root.start_camp()

    Label:
        text: root.result_text

    Label:
        text: "----------------------"

    Label:
        text: "ğŸ” Ø¢Ù†Ø§Ù„ÛŒØ² Ø­Ø±ÛŒÙ"

    Button:
        text: "Ø¢Ù†Ø§Ù„ÛŒØ² (Û±ÛµÛ° Ú¯Ù„Ø¯)"
        on_press: root.analyze_enemy()

    Label:
        text: root.analysis_text
<Stadium>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "ğŸŸ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…"
        font_size: 24

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Label:
        text: "Ø³Ø·Ø­ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…: " + (str(root.stadium_level) if root.stadium_level > 0 else "Ù†Ø¯Ø§Ø±Ø¯")

    Label:
        text: "Ø¸Ø±ÙÛŒØª: " + str(root.stadium_capacity)

    Label:
        text: "Ù‚ÛŒÙ…Øª Ø¨Ù„ÛŒØ·"

    Slider:
        min: 100
        max: 500
        value: root.ticket_price
        step: 50
        on_value: root.ticket_price = int(self.value)

    Label:
        text: "Ù‚ÛŒÙ…Øª Ø¨Ù„ÛŒØ·: " + str(root.ticket_price)

    Button:
        text: "ğŸŸ Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªÙ…Ø§Ø´Ø§Ú¯Ø±Ø§Ù†"
        on_press: root.calculate_fans()

    Label:
        text: "ğŸ‘¥ ØªÙ…Ø§Ø´Ø§Ú¯Ø±Ø§Ù†: " + str(root.fans)

    Label:
        text: "ğŸ”¥ Ø±ÙˆØ­ÛŒÙ‡ Ø§Ø² ØªÙ…Ø§Ø´Ø§Ú¯Ø±Ø§Ù†: " + str(root.fan_morale)

    Label:
        text: "-------------------"

    Label:
        text: "Ø®Ø±ÛŒØ¯ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…"

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "Ø³Ø·Ø­ 1 (Ø±Ø§ÛŒÚ¯Ø§Ù†)"
            on_press: root.buy_stadium(1)

        Button:
            text: "Ø³Ø·Ø­ 2"
            on_press: root.buy_stadium(2)

        Button:
            text: "Ø³Ø·Ø­ 3"
            on_press: root.buy_stadium(3)

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "Ø³Ø·Ø­ 4"
            on_press: root.buy_stadium(4)

        Button:
            text: "Ø³Ø·Ø­ 5"
            on_press: root.buy_stadium(5)

    Label:
        text: root.info_text
<Stadium>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "ğŸŸ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…"
        font_size: 24

    Image:
        source: root.stadium_image
        allow_stretch: True
        keep_ratio: True
        size_hint_y: 0.5

    Label:
        text: "Ø³Ø·Ø­ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…: " + (str(root.stadium_level) if root.stadium_level > 0 else "Ù†Ø¯Ø§Ø±Ø¯")
canvas.before:
    Color:
        rgba: 0.75, 0.9, 0.75, 1
    Rectangle:
        pos: self.pos
        size: self.size
Image:
    source: "assets/green_city_bg.png"
    allow_stretch: True
    keep_ratio: False
    <Game>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "ğŸ† Ø³ÛŒØ³ØªÙ… Ø³Ø¨Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ (Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§)"
        font_size: 22

    Label:
        text: "Ù‚Ø¯Ø±Øª Ù¾Ø§ÛŒÙ‡: " + str(root.base_power)
    Label:
        text: "Ø±ÙˆØ­ÛŒÙ‡ Ù¾Ø§ÛŒÙ‡: " + str(root.base_morale)

    Spinner:
        text: root.selected_tactic
        values: ["Ø¯ÙØ§Ø¹ÛŒ", "Ù…Ø§Ù„Ú©ÛŒØªÛŒ", "Ù‡Ø¬ÙˆÙ…ÛŒ"]
        on_text: root.selected_tactic = self.text

    Label:
        text: "Ù‚Ø¯Ø±Øª Ú©Ù„: " + str(root.total_power)
    Label:
        text: "Ø±ÙˆØ­ÛŒÙ‡ Ú©Ù„: " + str(root.total_morale)

    Label:
        text: "----------------------"
    Label:
        text: "ğŸ“œ Ø³Ø¨Ú©â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø±"

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "Ø±Ù‡Ø¨Ø± ØªØ§Ú©ØªÛŒÚ©ÛŒ"
            on_press: root.add_legend("Ø±Ù‡Ø¨Ø± ØªØ§Ú©ØªÛŒÚ©ÛŒ")
        Button:
            text: "Ù…Ø¹Ù…Ø§Ø± Ø¯ÙØ§Ø¹"
            on_press: root.add_legend("Ù…Ø¹Ù…Ø§Ø± Ø¯ÙØ§Ø¹")

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "Ù…ÙˆØªÙˆØ± Ù…ÛŒØ§Ù†ÛŒ"
            on_press: root.add_legend("Ù…ÙˆØªÙˆØ± Ù…ÛŒØ§Ù†ÛŒ")
        Button:
            text: "Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ"
            on_press: root.add_legend("Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ")

    Label:
        text: "----------------------"
    Label:
        text: "ğŸ”¥ Ø³Ø¨Ú© ÙØ¹Ø§Ù„: " + (root.active_legend if root.active_legend else "Ù‡ÛŒÚ†â€ŒÚ©Ø¯Ø§Ù…")
    Label:
        text: "âš ï¸ Ø±ÛŒØ³Ú© Ø§Ø­ØªÙ…Ø§Ù„ÛŒ: " + (root.risk_text if root.risk_text else "Ù†Ø¯Ø§Ø±Ø¯")

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ"
            on_press:
                if root.legends_owned: root.activate_legend(root.legends_owned[0])

        Button:
            text: "ØºÛŒØ±ÙØ¹Ø§Ù„"
            on_press: root.deactivate_legend()

    Label:
        text: root.info_text
<Game>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "ğŸ® Ø¨Ø§Ø²ÛŒ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ ÙÙˆØªØ¨Ø§Ù„ Ù¾ÛŒØ´Ø±ÙØªÙ‡"
        font_size: 22

    # -------------------
    # Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ú©ØªÛŒÚ©
    # -------------------
    Label:
        text: "ØªØ§Ú©ØªÛŒÚ© ØªÛŒÙ…"
    Spinner:
        text: root.tactic
        values: ["Ø¯ÙØ§Ø¹ÛŒ", "Ù…Ø§Ù„Ú©ÛŒØªÛŒ", "Ù‡Ø¬ÙˆÙ…ÛŒ"]
        on_text: root.tactic = self.text

    Label:
        text: "Ø±ÙˆØ­ÛŒÙ‡ ØªÛŒÙ…: " + str(root.team_morale)
    Label:
        text: "Ø³Ø·Ø­ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…: " + str(root.stadium_level)

    Label:
        text: "--------------------"

    # -------------------
    # Ø³ÛŒØ³ØªÙ… Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§
    # -------------------
    Label:
        text: "ğŸ† Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§"
    BoxLayout:
        size_hint_y: None
        height: 40
        Button:
            text: "ÙØ±Ù…Ø§Ù†Ø¯Ù‡ Ø´Ù‡Ø±"
            on_press: root.add_legend_to_team("ÙØ±Ù…Ø§Ù†Ø¯Ù‡ Ø´Ù‡Ø±")
        Button:
            text: "Ù…ØºØ² Ù…ØªÙÚ©Ø±"
            on_press: root.add_legend_to_team("Ù…ØºØ² Ù…ØªÙÚ©Ø±")
    Button:
        text: "Ù…Ø±Ø¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯"
        size_hint_y: None
        height: 40
        on_press: root.add_legend_to_team("Ù…Ø±Ø¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯")

    Button:
        text: "âš½ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ"
        on_press: root.play_match()
    Label:
        text: root.legend_info

    Label:
        text: "--------------------"

    # -------------------
    # Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡
    # -------------------
    Label:
        text: f"ğŸ’° Ú¯Ù„Ø¯: {root.gold}"
    Button:
        text: "ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡"
        on_press: root.spin_daily()
    Label:
        text: root.spin_result

    Label:
        text: "--------------------"

    # -------------------
    # Ø§Ú©Ø§Ù†Øª / Ù†Ù‚Ø´â€ŒÙ‡Ø§
    # -------------------
    BoxLayout:
        size_hint_y: None
        height: 40
        Button:
            text: "ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ADMIN (ØªØ³Øª)"
            on_press: root.login("ADMIN")
        Button:
            text: "Ø¯Ø§Ø¯Ù† Ø¬Ø§ÛŒØ²Ù‡ 5000"
            on_press: root.give_reward(5000)
            opacity: 1 if root.is_admin else 0
            disabled: not root.is_admin

    Label:
        text: "Ù†Ù‚Ø´: " + root.role

    Label:
        text: "--------------------"

    # -------------------
    # Ú©Ù†ÙØ±Ø§Ù†Ø³ Ø®Ø¨Ø±ÛŒ
    # -------------------
    Label:
        text: "ğŸ“° Ú©Ù†ÙØ±Ø§Ù†Ø³ Ø®Ø¨Ø±ÛŒ"
    BoxLayout:
        size_hint_y: None
        height: 40
        Button:
            text: "Ù‡ÙØªÙ‡ 1"
            on_press: root.show_conference(1)
        Button:
            text: "Ù‡ÙØªÙ‡ 2"
            on_press: root.show_conference(2)
        Button:
            text: "Ù‡ÙØªÙ‡ 3"
            on_press: root.show_conference(3)
        Button:
            text: "Ù‡ÙØªÙ‡ 4"
            on_press: root.show_conference(4)
    Label:
        text: root.conference_text
<SponsorSystem>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "ğŸ¤ Ø§Ø³Ù¾Ø§Ù†Ø³Ø± Ø¨Ø§Ø´Ú¯Ø§Ù‡"
        font_size: 24

    Label:
        text: "Ù‚Ø¯Ø±Øª ØªÛŒÙ…: " + str(root.team_power) + " | Ø§Ù…ØªÛŒØ§Ø²: " + str(root.team_points)

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Label:
        text: "---------------------"

    Label:
        text: "Ø§Ø³Ù¾Ø§Ù†Ø³Ø± ÙØ¹Ø§Ù„: " + (str(root.active_sponsor_level) if root.active_sponsor_level > 0 else "Ù†Ø¯Ø§Ø±Ø¯")

    Button:
        text: "ğŸ’° Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø±Ø¢Ù…Ø¯ Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.get_weekly_income()

    Label:
        text: root.sponsor_info

    Label:
        text: "---------------------"

    Label:
        text: "Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³Ù¾Ø§Ù†Ø³Ø±"

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height
        spacing: 5

        Button:
            text: "Ø³Ø·Ø­ 1\nÛ² Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(1)

        Button:
            text: "Ø³Ø·Ø­ 2\nÛ¶ Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(2)

        Button:
            text: "Ø³Ø·Ø­ 3\nÛ±Ûµ Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(3)

        Button:
            text: "Ø³Ø·Ø­ 4\nÛ²Ûµ Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(4)

        Button:
            text: "Ø³Ø·Ø­ 5\nÛµÛ° Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(5)
# my.kv (Ø³Ø§Ø®ØªØ§Ø± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ø®Ø´ Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯)

<RootWidget>:
    # ÙØ±Ø¶ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø§ÛŒÙ† ÙˆÛŒØ¬Øª Ø±ÛŒØ´Ù‡ Ø§Ø³Øª Ùˆ ScreenManager Ø±Ø§ Ù†Ú¯Ù‡ Ù…ÛŒ Ø¯Ø§Ø±Ø¯
    ScreenManager:
        id: screen_manager
        
        # --- ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ ØªÛŒÙ… A ---
        Screen:
            name: 'team_a_home'
            BoxLayout:
                orientation: 'vertical'
                padding: 10
                spacing: 10

                Label:
                    text: "ØªÛŒÙ… Ø§ØµÙ„ÛŒ (A)"
                    size_hint_y: None
                    height: 50
                    font_size: 24

                # Ù†Ù…Ø§ÛŒØ´ Ø·Ù„Ø§ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
                Label:
                    id: team_a_gold_label
                    text: f"Ø·Ù„Ø§: {app.team1.gold} Ú¯Ù„Ø¯"
                
                # Ø¯Ú©Ù…Ù‡ ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… B
                Button:
                    text: "ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… Ø¯ÙˆÙ… (B) - 700,000 Ú¯Ù„Ø¯"
                    on_release: root.manager.get_screen('setup_b').setup_team_b()
                    disabled: app.team2 is not None # Ø§Ú¯Ø± ØªÛŒÙ… B ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ØŒ Ø¯Ú©Ù…Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª

                # Ø¯Ú©Ù…Ù‡ Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±...
                Button:
                    text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
                    on_release: root.manager.current = 'player_management'

                Button:
                    text: "Ø¨Ø§Ù†Ú©Ø¯Ø§Ø±ÛŒ"
                    on_release: root.manager.current = 'bank_screen'
        
        # --- ØµÙØ­Ù‡ ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… B ---
        Screen:
            name: 'setup_b'
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: "ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… B"
                    size_hint_y: None
                    height: 50
                
                Label:
                    id: setup_b_status
                    text: "Ù‡Ø²ÛŒÙ†Ù‡: 700,000 Ú¯Ù„Ø¯"
                
                Button:
                    text: "ØªØ§ÛŒÛŒØ¯ Ùˆ ØªØ§Ø³ÛŒØ³"
                    on_release: app.team1.create_team_b_logic(root.manager) # ØªØ§Ø¨Ø¹ Ù…Ù†Ø·Ù‚ÛŒ Ø¨Ø§ÛŒØ¯ Ø¯Ø± main.py ØªØ¹Ø±ÛŒÙ Ø´ÙˆØ¯
                
                Button:
                    text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                    on_release: root.manager.current = 'team_a_home'


        # --- ØµÙØ­Ù‡ Ø¨Ø§Ù†Ú©Ø¯Ø§Ø±ÛŒ (Ø¨Ø±Ø§ÛŒ ÙˆØ§Ù… Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„ Ø·Ù„Ø§) ---
        Screen:
            name: 'bank_screen'
            BoxLayout:
                orientation: 'vertical'
                padding: 20
                
                Label:
                    text: "Ø³ÛŒØ³ØªÙ… Ø¨Ø§Ù†Ú©ÛŒ"
                    size_hint_y: None
                    height: 50
                
                # ÙˆØ§Ù… Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø±Ø²Ø´ ØªÛŒÙ…
                Button:
                    text: "Ø¯Ø±ÛŒØ§ÙØª ÙˆØ§Ù… Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø±Ø²Ø´ ØªÛŒÙ…"
                    on_release: app.bank.take_power_loan(app.team1)

                # ÙˆØ§Ù… Ù‡Ø§ÛŒ Ø«Ø§Ø¨Øª
                Label:
                    text: "ÙˆØ§Ù… Ù‡Ø§ÛŒ Ø«Ø§Ø¨Øª (ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù‚Ø¯Ø±Øª Ø¨Ø§Ù„Ø§ÛŒ 5000):"
                    size_hint_y: None
                    height: 30

                Button:
                    text: "ÙˆØ§Ù… 500 Ù‡Ø²Ø§Ø± Ú¯Ù„Ø¯ (10% Ø³ÙˆØ¯)"
                    on_release: app.bank.take_fixed_loan(app.team1, 1)
                
                Button:
                    text: "ÙˆØ§Ù… 1 Ù…ÛŒÙ„ÛŒÙˆÙ† Ú¯Ù„Ø¯ (20% Ø³ÙˆØ¯)"
                    on_release: app.bank.take_fixed_loan(app.team1, 2)

                Button:
                    text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                    on_release: root.manager.current = 'team_a_home'

        # --- ØµÙØ­Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ---
        Screen:
            name: 'transfers_screen'
            BoxLayout:
                orientation: 'vertical'
                
                Label:
                    text: "Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
                    size_hint_y: None
                    height: 50

                # Ù…Ù†Ø·Ù‚ Ø§Ù†ØªÙ‚Ø§Ù„ Ø·Ù„Ø§ Ø¨ÛŒÙ† ØªÛŒÙ… A Ùˆ B (Ø¨Ø§ÛŒØ¯ ÛŒÚ© ÙˆÛŒØ¬Øª Ù…Ø¬Ø²Ø§ Ø¨Ø§Ø´Ø¯)
                Button:
                    text: "Ø§Ù†ØªÙ‚Ø§Ù„ Ø·Ù„Ø§ Ø§Ø² A Ø¨Ù‡ B"
                    on_release: app.transfer_gold_logic(from_team='A', to_team='B', amount=100000) # Ù†ÛŒØ§Ø² Ø¨Ù‡ ÙˆØ±ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø±

                # Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ (Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ RecycleView ÛŒØ§ ListView Ø¯Ø§Ø±Ø¯)
                Label:
                    text: "Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„:"
                    size_hint_y: None
                    height: 30
                
                # ... Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ Ø¯Ú©Ù…Ù‡ Ù‡Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ ...

                Button:
                    text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                    on_release: root.manager.current = 'team_a_home'
# my.kv

#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import ListItemButton kivy.uix.listview.ListItemButton

<PlayerManagementScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        Label:
            text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†ØŒ Ú©Ø§Ù¾ÛŒØªØ§Ù† Ù‡Ø§ Ùˆ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù†Ø§Ù†"
            size_hint_y: None
            height: 40

        # --- Ø¨Ø®Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† ---
        BoxLayout:
            size_hint_y: 0.4
            orientation: 'vertical'
            Label:
                text: "Ø§Ù†ØªØ®Ø§Ø¨ 5 Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù†:"
                size_hint_y: None
                height: 30
            
            RecycleView: # Ø¨Ù‡ØªØ± Ø§Ø² ListView Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯ Ø²ÛŒØ§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†
                id: penalty_rv
                viewclass: 'PlayerItem' # Ø¨Ø§ÛŒØ¯ ÙˆÛŒØ¬Øª PlayerItem ØªØ¹Ø±ÛŒÙ Ø´ÙˆØ¯
                data: [{'text': p.name, 'on_release': lambda *args: root.select_player_for_penalty(p)} for p in app.team1.players]

            Label:
                text: f"Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡: {len(app.team1.penalty_takers)}/5"
                id: penalty_status_label

        # --- Ø¨Ø®Ø´ ØªØºÛŒÛŒØ± Ù¾Ø³Øª Ùˆ ØªØµÙˆÛŒØ± ---
        BoxLayout:
            size_hint_y: 0.3
            orientation: 'vertical'
            padding: 5
            spacing: 5
            
            Label:
                text: "ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø² Ù„ÛŒØ³Øª)"

            Button:
                text: "ØªØºÛŒÛŒØ± ØªØµÙˆÛŒØ± Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø±Ø§ÛŒÚ¯Ø§Ù†)"
                on_release: app.team1.change_player_image(app.team1.players[0], 'new_url_here') # Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯

            Button:
                text: "ØªØºÛŒÛŒØ± Ù¾Ø³Øª Ø¨Ø§Ø²ÛŒÚ©Ù† (100,000 Ú¯Ù„Ø¯)"
                on_release: app.team1.change_player_position(app.team1.players[0], 'DEF') # Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯


        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø®Ø§Ù†Ù‡"
            size_hint_y: None
            height: 50
            on_release: root.manager.current = 'home'

<TeamProfileScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ… Ùˆ Ø¢Ù…Ø§Ø± ØªØ§Ø±ÛŒØ®ÛŒ"
            size_hint_y: None
            height: 40

        # --- Ø¢Ù…Ø§Ø± Ø¯Ø±ÙˆØ§Ø²Ø¨Ø§Ù† Ù‡Ø§ÛŒ Ø¨Ø±ØªØ± ØªØ§Ø±ÛŒØ® ---
        Label:
            text: "Ø¨Ø±ØªØ±ÛŒÙ† Ø¯Ø±ÙˆØ§Ø²Ø¨Ø§Ù†Ø§Ù† ØªØ§Ø±ÛŒØ® ØªÛŒÙ… (Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡)"
            size_hint_y: None
            height: 30

        RecycleView:
            id: gk_stats_rv
            data: [
                {'text': f"{gk.name} - Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„: {gk.goals_per_match:.2f}"} 
                for gk in app.team1.stats.historical_gks
            ]
            viewclass: 'Label'
            size_hint_y: 0.4

        Button:
            text: "Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ (ØªØ³Øª)"
            size_hint_y: None
            height: 50
            on_release: root.manager.current = 'penalty_test'


<PenaltyShootoutScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: "ØªØ³Øª Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ Ú©Ø´ÛŒ"
            size_hint_y: None
            height: 50
            
        Button:
            text: "Ø´Ø±ÙˆØ¹ Ù¾Ù†Ø§Ù„ØªÛŒ Ú©Ø´ÛŒ"
            on_release: root.start_shootout()
            
        Label:
            id: result_label
            text: "Ù†ØªÛŒØ¬Ù‡: Ù…Ù†ØªØ¸Ø± Ø´Ø±ÙˆØ¹..."
            font_size: 20
            
        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
            on_release: root.manager.current = 'team_profile'


<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        Button:
            text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†ØŒ Ù¾Ù†Ø§Ù„ØªÛŒ Ùˆ Ú©Ø§Ù¾ÛŒØªØ§Ù†"
            on_release: root.manager.current = 'player_management'

        Button:
            text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ… Ùˆ Ø¢Ù…Ø§Ø± (Ø¯Ø±ÙˆØ§Ø²Ø¨Ø§Ù† Ù‡Ø§)"
            on_release: root.manager.current = 'team_profile'
        
        # Ø³Ø§ÛŒØ± Ø¯Ú©Ù…Ù‡ Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ...
<MainGame>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "âš½ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†"
        font_size: 22

    Label:
        text: "Ø¨Ø§Ø²ÛŒÚ©Ù†: " + root.player.name

    Label:
        text: "Ù¾Ø³Øª: " + root.player.position + " | Ù‚Ø¯Ø±Øª Ú©Ù„: " + str(root.player.power)

    Label:
        text: "ğŸ“Š Ù…Ø´Ø®ØµØ§Øª"

    Label:
        text:
            "Ø³Ø±Ø¹Øª: " + str(root.player.stats['speed']) + " | Ù‚Ø¯Ø±Øª: " + str(root.player.stats['power']) + "\n" + \
            "Ú¯Ù„Ø²Ù†ÛŒ: " + str(root.player.stats['finishing']) + " | Ø´ÙˆØª: " + str(root.player.stats['shot']) + "\n" + \
            "Ø¯Ø±ÛŒØ¨Ù„: " + str(root.player.stats['dribble']) + " | Ø¶Ø±Ø¨Ù‡ Ø³Ø±: " + str(root.player.stats['header'])

    Button:
        text: "ğŸ‹ï¸ ØªÙ…Ø±ÛŒÙ† Ø³Ø§Ø¯Ù‡"
        on_press: root.simple_training()

    Button:
        text: "ğŸ”¥ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ ÙˆÛŒÚ˜Ù‡"
        on_press: root.camp_training()

    Label:
        text: root.info

    Label:
        text: "---------------------------"

    Label:
        text: "ğŸ› Ø³Ø§Ø²Ù…Ø§Ù† Ù„ÛŒÚ¯"
        font_size: 20

    TextInput:
        id: league_msg
        hint_text: "Ø§Ø¹ØªØ±Ø§Ø¶ØŒ Ú¯Ø²Ø§Ø±Ø´ ØªØ®Ù„Ù ÛŒØ§ ÙØ­Ø§Ø´ÛŒ..."
        multiline: True
        size_hint_y: None
        height: 80

    Button:
        text: "ğŸ“¨ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø³Ø§Ø²Ù…Ø§Ù† Ù„ÛŒÚ¯"
        on_press:
            root.send_league_message(league_msg.text)
            league_msg.text = ""
<AcademySystem>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "ğŸ“ Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ø¨Ø§Ø´Ú¯Ø§Ù‡"
        font_size: 24

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Label:
        text: root.info

    Button:
        text: "â• ØªØ£Ø³ÛŒØ³ Ø¢Ú©Ø§Ø¯Ù…ÛŒ (ÛµÛ°Û°,Û°Û°Û° Ú¯Ù„Ø¯)"
        disabled: root.academy_created
        on_press: root.create_academy()

    Label:
        text: "-------------------------"

    Button:
        text: "ğŸ† ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù„ÛŒÚ¯ Ø¢Ú©Ø§Ø¯Ù…ÛŒ (Û±Û° Ú©Ø§Ú¯Ù„Ø¯)"
        disabled: not root.academy_created
        on_press: root.join_league()

    Label:
        text: "-------------------------"

    Label:
        text: "ğŸ”¥ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ"

    Button:
        text: "Ú©Ù…Ù¾ Û± | Û±Û°Û° Ú©Ø§ | +ÛµÛ°Û° Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.buy_camp(1)

    Button:
        text: "Ú©Ù…Ù¾ Û² | Û±ÛµÛ° Ú©Ø§ | +Û±Û°Û°Û° Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.buy_camp(2)

    Button:
        text: "Ú©Ù…Ù¾ Û³ | Û²Û°Û° Ú©Ø§ | +Û±Û¸Û°Û° Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.buy_camp(3)

    Button:
        text: "ğŸ“† ØªÙ…Ø±ÛŒÙ† Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.weekly_training()

    Label:
        text: "-------------------------"

    Button:
        text: "â¬†ï¸ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù† ÙˆØ§Ø¬Ø¯ Ø´Ø±Ø§ÛŒØ· Ø¨Ù‡ ØªÛŒÙ… Ø§ØµÙ„ÛŒ"
        on_press: root.move_to_main_team()
<AcademyMarket>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "ğŸ›’ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø¢Ú©Ø§Ø¯Ù…ÛŒ"
        font_size: 24

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold)

    Label:
        text: "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¢Ú©Ø§Ø¯Ù…ÛŒ: " + str(len(root.players))

    Label:
        text: root.info

    Label:
        text: "----------------------"

    Button:
        text: "ğŸ”„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø§Ø²Ø§Ø±"
        on_press: root.refresh_market()

    Button:
        text: "ğŸ›’ Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø² Ø¨Ø§Ø²Ø§Ø±"
        on_press: root.buy_player()

    Button:
        text: "ğŸ’¸ ÙØ±ÙˆØ´ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¢Ú©Ø§Ø¯Ù…ÛŒ"
        on_press: root.sell_player()
<Player>:
    size: 30, 30

<Ball>:
    size: 15, 15

<MatchField>:
    player: player
    ball: ball

    canvas.before:
        Color:
            rgb: 0.1, 0.6, 0.1
        Rectangle:
            pos: self.pos
            size: self.size

    # ØªÙˆÙ¾
    Ball:
        id: ball
        pos:
            root.x + root.width * root.ball.x_pos,\
            root.y + root.height * root.ball.y_pos
        canvas:
            Color:
                rgb: 1,1,1
            Ellipse:
                pos: self.pos
                size: self.size

    # Ø¨Ø§Ø²ÛŒÚ©Ù†
    Player:
        id: player
        pos:
            root.x + root.width * root.player.x_pos,\
            root.y + root.height * root.player.y_pos
        canvas:
            PushMatrix
            Rotate:
                angle: root.player.angle
                origin: self.center
            Color:
                rgb: 0.2, 0.2, 1
            Ellipse:
                pos: self.pos
                size: self.size
            PopMatrix

    # Ù‡Ø¯Ø±
    Label:
        size_hint: 1, 0.12
        pos_hint: {"top":1}
        text:
            "â± {}'   SCORE {}   {}".format(root.minute, root.score, root.current_action)
        font_size: 18
<MatchField>:
    canvas.before:
        Color:
            rgb: 0.1, 0.6, 0.1
        Rectangle:
            pos: self.pos
            size: self.size

        Color:
            rgb: 1,1,1
        Line:
            rectangle: self.x+10, self.y+10, self.width-20, self.height-20
            width: 2
        Line:
            points: self.center_x, self.y+10, self.center_x, self.top-10
            width: 1

    # ØªÙˆÙ¾
    Ellipse:
        size: 20,20
        pos:
            root.x + root.ball_x * root.width - 10,\
            root.y + root.ball_y * root.height - 10

    # Ù‡Ø¯Ø±
    BoxLayout:
        size_hint: 1, 0.15
        pos_hint: {"top":1}
        Label:
            text: "â± {}'   Team A {} - {} Team B".format(root.minute, root.score_a, root.score_b)
            font_size: 20

    # Ú©Ù†ØªØ±Ù„ Ù…Ø±Ø¨ÛŒ
    BoxLayout:
        size_hint: 1, 0.2
        pos_hint: {"y":0}
        spacing: 10
        padding: 10

        Button:
            text: "DEFEND"
            on_press: root.set_tactic("DEFEND")
        Button:
            text: "BALANCED"
            on_press: root.set_tactic("BALANCED")
        Button:
            text: "ATTACK"
            on_press: root.set_tactic("ATTACK")

    on_kv_post:
        root.start_match()
<MatchEngine>:
    canvas.before:
        Color:
            rgb: 0.07, 0.55, 0.12
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        padding: 12
        spacing: 10

        Label:
            text: "â± {}'   Team A {} - {} Team B".format(
                root.minute, root.score_a, root.score_b)
            font_size: 20
            size_hint_y: 0.12

        Label:
            text: root.event_text
            font_size: 18
            size_hint_y: 0.12

        GridLayout:
            cols: 2
            spacing: 8
            size_hint_y: 0.45

            Label:
                text: "ğŸŸ¨ Yellow Cards"
            Label:
                text: str(root.player.yellow)

            Label:
                text: "ğŸ“’ Season Yellows"
            Label:
                text: str(root.player.season_yellow)

            Label:
                text: "ğŸŸ¥ Red Card"
            Label:
                text: "YES" if root.player.red else "NO"

            Label:
                text: "â›” Suspended Matches"
            Label:
                text: str(root.player.suspended_matches)

            Label:
                text: "ğŸ¤• Injury Level"
            Label:
                text: str(root.player.injury_level)

            Label:
                text: "ğŸš‘ Injury Matches"
            Label:
                text: str(root.player.injury_matches)

        Label:
            text: "Live Football Simulation â€“ Coach View"
            font_size: 16
            size_hint_y: 0.1
<Player>:
    orientation: 'vertical'
    spacing: 10
    padding: 20

    Label:
        text: "Ù†Ø§Ù… Ø¨Ø§Ø²ÛŒÚ©Ù†: " + root.name

    Label:
        text: "Ù‚ÛŒÙ…Øª Ø¨Ø§Ø²ÛŒÚ©Ù†: " + str(root.price) + " ØªÙˆÙ…Ø§Ù†"

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10

        Button:
            text: "ÙØ±ÙˆØ´ Ú©Ø§Ù…Ù„"
            on_press:
                root.is_loaned = False
                root.sell_player()

        Button:
            text: "Ù‚Ø±Ø¶ÛŒ"
            on_press:
                root.is_loaned = True
                root.sell_player()

    Button:
        text: "Ø´Ø±ÙˆØ¹ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø¨Ø¹Ø¯ÛŒ"
        on_press: root.next_transfer_window()
default_api:python{code:
# --- ØªØ¹Ø±ÛŒÙ Ø±Ø´ØªÙ‡ KV Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø± Kivy ---
KV_CODE = '''
<TransferScreen>:
    orientation: 'vertical'
    padding: 10
    spacing: 10
    
    # Ø¹Ù†ÙˆØ§Ù† Ùˆ ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ
    BoxLayout:
        size_hint_y: None
        height: 50
        Label:
            text: 'Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Øª Ø¨Ø§Ø²ÛŒ'
            font_size: 24
            bold: True
            color: (0.1, 0.5, 0.8, 1) # Ø¢Ø¨ÛŒ ØªÛŒØ±Ù‡
    
    ScrollView:
        do_scroll_x: False
        
        BoxLayout:
            id: issue_widgets_container
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: 5
            # ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Ø¯Ú©Ù…Ù‡ Ùˆ Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ ØªÙˆØ³Ø· main.py ØªØ²Ø±ÛŒÙ‚ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
            
            # ÙØ¶Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ ÙˆÛŒØ¬Øª Ø¯Ø± Ø§Ø¨ØªØ¯Ø§
            Label:
                id: dummy_label_for_init
                text: ''
                size_hint_y: None
                height: 0
    
    # 5. Ù†Ù…Ø§ÛŒØ´ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± (Ù‚Ø§Ù†ÙˆÙ† 5)
    Label:
        id: warnings_label
        text: root.warning_message
        font_size: 16
        color: (1, 0.6, 0, 1) # Ù†Ø§Ø±Ù†Ø¬ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ø´Ø¯Ø§Ø±
        size_hint_y: None
        height: self.texture_size[1] + 20 if root.warning_message else 0
        text_size: self.width, None
        halign: 'right'
        valign: 'top'
        padding: [10, 10, 10, 10]
    
    # Ø¨Ø®Ø´ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡
    BoxLayout:
        size_hint_y: 0.3
        orientation: 'vertical'
        Label:
            text: '--- Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ (Ù‚Ø§Ù†ÙˆÙ† 2) ---'
            font_size: 18
            size_hint_y: None
            height: 30
            halign: 'right'
        
        Label:
            id: remaining_cost_label
            text: root.remaining_cost_text
            font_size: 14
            halign: 'right'
            text_size: self.width, None
            padding: [10, 0, 0, 0]
    
    # Ø¯Ú©Ù…Ù‡ Ú¯Ø²Ø§Ø±Ø´
    Button:
        text: 'ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ù¾Ø§ÛŒØ§Ù† Ø¯ÙˆØ±Ù‡ (Ù‚Ø§Ù†ÙˆÙ† 6)'
        size_hint_y: None
        height: 50
        background_color: (0.2, 0.8, 0.2, 1) # Ø³Ø¨Ø²
        on_release: root.generate_report_action()
'''

# Ø°Ø®ÛŒØ±Ù‡ ÙØ§ÛŒÙ„ my.kv
with open("[/mnt/data/my.kv"](https://storage.gapgpt.app/media/code_interpreter/deeb188f-a014-47e3-bf17-cc6bc402a1d0/my.kv%22), "w", encoding="utf-8") as f:
    f.write(KV_CODE)
    print("my.kv file created successfully.")
    
# Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯ Ù¾Ø§ÛŒØªÙˆÙ† Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ØªØ¹Ø±ÛŒÙ Ù…ØªØºÛŒØ± KV_CODE Ø¯Ø± Ù…Ø­ÛŒØ·
# Ø§ÛŒÙ† Ú©Ø¯ Ø¯Ø± Ø§Ø¬Ø±Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´ÛŒ Ø§Ø² main.py Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ‡ Ø´Ø¯ØŒ 
# Ø§Ù…Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø¬Ø¯Ø¯Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ .kv Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
# ÙØ§ÛŒÙ„ my.kv Ø¨Ø±Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ø¸Ø§Ù‡Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯

<SimpleKivyApp>:
    # ØªØ¹Ø±ÛŒÙ Ø±ÙØªØ§Ø± ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ†
    label: root.label
    
    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø±Ø§ÛŒ ÙˆÛŒØ¬Øª Ø±ÛŒØ´Ù‡ (Root Widget) Ú©Ù‡ Ø¯Ø± Ù¾Ø§ÛŒØªÙˆÙ† Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        Label:
            # Ø§ÛŒÙ† Ù…ØªØºÛŒØ± Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ù‡ self.message Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† ÙˆØµÙ„ Ø§Ø³Øª
            text: root.message 
            font_size: '30sp'
            id: label
            
        Button:
            text: "Ú©Ù„ÛŒÚ© Ú©Ù†"
            size_hint_y: None
            height: dp(50)
            on_press: app.on_button_press(self)
#:import Factory kivy.factory.Factory

<FootballAppManager>:
    # ØªØ¹Ø±ÛŒÙ ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ø¨Ø§ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¢Ø³Ø§Ù†
    LoginScreen:
        name: 'login'
    Screen:
        name: 'verify_code'
        id: verify_code_screen
        Label:
            text: 'Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯'
            size_hint: 1, 0.2
            pos_hint: {'center_x': 0.5, 'top': 0.95}
            font_size: 20
        TextInput:
            id: code_input
            hint_text: "Ú©Ø¯ 4 Ø±Ù‚Ù…ÛŒ (Ù…Ø«Ø§Ù„: 1234)"
            size_hint: 0.8, 0.1
            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
            on_text: root.verification_code = self.text
            input_filter: 'int'
            multiline: False
        Label:
            text: root.error_message
            color: 1, 0, 0, 1  # Ù‚Ø±Ù…Ø²
            size_hint: 1, 0.1
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        Button:
            text: 'ØªØ£ÛŒÛŒØ¯ Ú©Ø¯'
            size_hint: 0.6, 0.1
            pos_hint: {'center_x': 0.5, 'y': 0.1}
            on_release: root.verify_code_action()
            
    TeamSetupScreen:
        name: 'team_setup'
    HomeScreen:
        name: 'home'
    LeagueScreen:
        name: 'league'
    PlayersScreen:
        name: 'players'
    GeneralScreen:
        name: 'general'
    TransfersScreen:
        name: 'transfers'
    CupScreen:
        name: 'cup'
    TreasuryScreen:
        name: 'treasury'

# ===============================================================
# Ø·Ø±Ø§Ø­ÛŒ ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ
# ===============================================================

<LoginScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15

        Label:
            text: 'ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…'
            font_size: 30
            size_hint_y: None
            height: 50

        Label:
            text: 'Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯'
            size_hint_y: None
            height: 30
            
        TextInput:
            hint_text: "Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"
            multiline: False
            size_hint_y: None
            height: 50
            on_text: root.phone_number = self.text
            input_filter: 'int'

        Button:
            text: 'Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯ ØªØ£ÛŒÛŒØ¯'
            size_hint_y: None
            height: 50
            on_release: root.submit_phone()
            
        Label:
            text: root.error_message
            color: 1, 0, 0, 1
            size_hint_y: None
            height: 30


<TeamSetupScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: 'Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø§Ù… ØªÛŒÙ…'
            font_size: 30
            size_hint_y: None
            height: 50

        TextInput:
            hint_text: "Ù†Ø§Ù… ØªÛŒÙ… Ø´Ù…Ø§ (Ù…Ø«Ø§Ù„: Lion FC)"
            multiline: False
            size_hint_y: None
            height: 50
            on_text: root.team_name = self.text

        Label:
            text: root.error_message
            color: 1, 0, 0, 1
            size_hint_y: None
            height: 30

        Button:
            text: 'ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ùˆ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ'
            size_hint_y: None
            height: 50
            on_release: root.finalize_setup()

# ===============================================================
# Ø·Ø±Ø§Ø­ÛŒ ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ (Navigation Structure)
# ===============================================================

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        
        ActionBar:
            title: 'ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ'
            ActionView:
                ActionPrevious:
                    title: 'Ù…Ù†Ùˆ'
                    on_release: app.root.get_screen('home').ids.nav_drawer.set_state('open')
                ActionOverflow:
                    ActionMenuItem:
                        text: 'Ø®Ø±ÙˆØ¬'
                        on_release: app.root.current = 'login'

        MDNavigationLayout: # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÛŒÚ© Ù„Ø§ÛŒÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¨Ù‡ØªØ±
            id: nav_layout
            
            MDNavigationDrawer:
                id: nav_drawer
                side: "left"
                separator_image: 'data/separator.png' # Ø§Ú¯Ø± ØªØµÙˆÛŒØ±ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŒ Ø§ÛŒÙ† Ø®Ø· Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯
                
                MDNavigationDrawerHeader:
                    text: "Ù…Ù†Ùˆ Ø§ØµÙ„ÛŒ"
                
                MDNavigationDrawerItem:
                    text: "Ù„ÛŒÚ¯"
                    on_release: app.root.current = 'league'
                MDNavigationDrawerItem:
                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
                    on_release: app.root.current = 'players'
                MDNavigationDrawerItem:
                    text: "Ø¹Ù…ÙˆÙ…ÛŒ"
                    on_release: app.root.current = 'general'
                MDNavigationDrawerItem:
                    text: "Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
                    on_release: app.root.current = 'transfers'
                MDNavigationDrawerItem:
                    text: "Ø¬Ø§Ù…"
                    on_release: app.root.current = 'cup'
                MDNavigationDrawerItem:
                    text: "Ø®Ø²Ø§Ù†Ù‡"
                    on_release: app.root.current = 'treasury'
        
        BoxLayout: # Ù‚Ø³Ù…Øª Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ ØµÙØ­Ù‡ (Ú©Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø®Ø§Ù„ÛŒ Ø§Ø³Øª)
            Label:
                text: "Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!"
                font_size: 24


# Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† ØµÙØ­Ù‡ØŒ Ú†ÙˆÙ† Ø§Ø² Material Design (MD) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ØŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡:
# pip install kivymd
# Ùˆ ØªØºÛŒÛŒØ± Ù…ØªØ¯Ù‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¨Ù‡ Ø³Ø¨Ú© MD Ø¯Ø§Ø±ÛŒØ¯.
# Ø§Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒØŒ Ù…Ù† Ø§Ø² Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ùˆ Ø¨Ø®Ø´ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø±Ø§ Ø¨Ø§ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Kivy Ú©Ù…ÛŒ Ø§ØµÙ„Ø§Ø­ Ù…ÛŒâ€ŒÚ©Ù†Ù…:
#:import Factory kivy.factory.Factory
#:import get_screen app.root.get_screen # Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ ScreenManager

# ===============================================================
# Ù„Ø§ÛŒÙ‡ Ø±ÛŒØ´Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø±Ø§ÛŒÛŒ Ø¯Ø± Ø¨Ø§Ù„Ø§ (RootLayout)
# ===============================================================

<RootLayout>:
    # Ø§ÛŒÙ† Ù‡Ù…Ø§Ù† ScreenManager Ø§ØµÙ„ÛŒ Ø´Ù…Ø§Ø³Øª Ú©Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¨Ù‡ Ø¨Ø¹Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    orientation: 'vertical'
    
    # 1. Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ (Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø±Ø§ÛŒÛŒ)
    BoxLayout:
        size_hint_y: None
        height: 50
        canvas.before:
            Color:
                rgba: 0.1, 0.1, 0.5, 1  # Ø±Ù†Ú¯ Ø¢Ø¨ÛŒ ØªÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ§Ø±
            Rectangle:
                pos: self.pos
                size: self.size
        
        Label:
            text: "Ø¯Ø§Ø±Ø§ÛŒÛŒ ÙØ¹Ù„ÛŒ:"
            size_hint_x: 0.3
            color: 1, 1, 1, 1
            font_size: 18
            
        Label:
            # Ù†Ù…Ø§ÛŒØ´ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø§Ø±Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± RootLayout ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª
            text: str(root.current_treasury) + " ØªÙˆÙ…Ø§Ù†" 
            id: treasury_label
            size_hint_x: 0.7
            color: 1, 1, 0.5, 1 # Ø²Ø±Ø¯ Ø±ÙˆØ´Ù†
            font_size: 20
            bold: True
            text_size: self.size
            valign: 'middle'
            halign: 'left'

    # 2. ScreenManager (Ú©Ù‡ Ø´Ø§Ù…Ù„ ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ø§Ø³Øª)
    FootballAppManager:
        id: manager
        size_hint: 1, 1
        pos_hint: {'top': 1} # Ø¨Ø±Ø§ÛŒ Ú†Ø³Ø¨ÛŒØ¯Ù† Ø²ÛŒØ± Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ

# ===============================================================
# ØªØ¹Ø±ÛŒÙ Ù…Ø¬Ø¯Ø¯ ScreenManager Ùˆ ØµÙØ­Ø§Øª (Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± RootLayout)
# ===============================================================
# (Ø¨Ù‚ÛŒÙ‡ ØªØ¹Ø§Ø±ÛŒÙ ØµÙØ­Ø§Øª Ø§Ø² Ù…Ø«Ø§Ù„ Ù‚Ø¨Ù„ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ú©Ù¾ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ø§Ù…Ø§ Ù…Ø§ ScreenManager Ø±Ø§ FootballAppManager Ù…ÛŒâ€ŒÙ†Ø§Ù…ÛŒÙ…)

<FootballAppManager>:
    # ... (ØªØ¹Ø§Ø±ÛŒÙ LoginScreen, TeamSetupScreen, Ùˆ Ø¨Ù‚ÛŒÙ‡ ØµÙØ­Ø§Øª Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) ...
    
    LoginScreen:
        name: 'login'
    Screen: # ØµÙØ­Ù‡ Ú©Ø¯ Ø¯Ù‡ÛŒ
        name: 'verify_code'
        # ... (Ø¨Ø§Ù‚ÛŒ Ú©Ø¯ ØµÙØ­Ù‡ Ú©Ø¯ Ø¯Ù‡ÛŒ) ...
    TeamSetupScreen:
        name: 'team_setup'
    
    # ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (HomeScreen) - Ø·Ø±Ø§Ø­ÛŒ Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª
    HomeScreen:
        name: 'home'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            # Ø¨Ø®Ø´ 1: Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø± (Ù†Ø§Ù… ØªÛŒÙ… Ùˆ Ø§Ù…ØªÛŒØ§Ø²)
            BoxLayout:
                size_hint_y: None
                height: 100
                canvas.before:
                    Color:
                        rgba: 0.8, 0.8, 0.8, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10,]
                
                Label:
                    text: "ØªÛŒÙ…: " + root.team_name_display
                    font_size: 22
                    bold: True
                    size_hint_x: 0.6
                
                Label:
                    text: "Ø§Ù…ØªÛŒØ§Ø²: " + str(root.team_score_display)
                    font_size: 20
                    color: 0, 0.5, 0, 1
                    size_hint_x: 0.4

            # Ø¨Ø®Ø´ 2: Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
            Label:
                text: "Ø¬Ø¯ÙˆÙ„ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù„ÛŒÚ¯"
                size_hint_y: None
                height: 40
                font_size: 24
                
            ScrollView:
                do_scroll_x: False
                
                GridLayout:
                    cols: 3
                    spacing: 2
                    size_hint_y: None
                    height: self.minimum_height
                    
                    # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„
                    Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
                    Label: text: "Ù†Ø§Ù… ØªÛŒÙ…" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
                    Label: text: "Ø§Ù…ØªÛŒØ§Ø²" ; bold: True; background_color: 0.5, 0.5, 0.5, 1
                    
                    # Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ (Ø§ÛŒÙ†â€ŒÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…Ù†Ø·Ù‚ Ù¾Ø§ÛŒØªÙˆÙ† Ù¾Ø± Ø´ÙˆÙ†Ø¯)
                    Label: text: "1"
                    Label: text: "Super Team A"
                    Label: text: "12500"
                    
                    Label: text: "2"
                    Label: text: root.team_name_display # Ù†Ù…Ø§ÛŒØ´ ØªÛŒÙ… Ø®ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±
                    Label: text: str(root.team_score_display)
                    
                    Label: text: "3"
                    Label: text: "Another Team C"
                    Label: text: "11000"
                    
                    # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú†Ù†Ø¯ Ø±Ø¯ÛŒÙ Ø®Ø§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÙˆÙ„
                    Label: text: "4"
                    Label: text: "Filler Team D"
                    Label: text: "9500"
                    Label: text: "5"
                    Label: text: "Filler Team E"
                    Label: text: "9000"
                    Label: text: "6"
                    Label: text: "Filler Team F"
                    Label: text: "8500"


    # Ø¨Ù‚ÛŒÙ‡ ØµÙØ­Ø§Øª (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±Ø§Øª Ø¹Ù…Ø¯Ù‡ØŒ ÙÙ‚Ø· Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ Ø±Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯ Ú†ÙˆÙ† Ø¯Ø± RootLayout ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡)
    LeagueScreen:
        name: 'league'
        Label: text: "ØµÙØ­Ù‡ Ù„ÛŒÚ¯: Ù†Ù…Ø§ÛŒØ´ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù…"
    PlayersScreen:
        name: 'players'
        Label: text: "ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
    GeneralScreen:
        name: 'general'
        Label: text: "ØµÙØ­Ù‡ Ø¹Ù…ÙˆÙ…ÛŒ"
    TransfersScreen:
        name: 'transfers'
        Label: text: "ØµÙØ­Ù‡ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
    CupScreen:
        name: 'cup'
        Label: text: "ØµÙØ­Ù‡ Ø¬Ø§Ù…: Ù†Ù…Ø§ÛŒØ´ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù…"
    TreasuryScreen:
        name: 'treasury'
        Label: text: "ØµÙØ­Ù‡ Ø®Ø²Ø§Ù†Ù‡"


# ===============================================================
# Ø¨Ù‚ÛŒÙ‡ ØªØ¹Ø§Ø±ÛŒÙ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ (LoginScreen, TeamSetupScreen, Ùˆ ...)
# ===============================================================
# (Ø§ÛŒÙ† Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ú©Ø¯Ù‡Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¯Ø± main.py Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† ÛŒØ§ Ø§Ø¯ØºØ§Ù… Ú©Ù†ÛŒØ¯)
# LoginScreen Ùˆ TeamSetupScreen Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ ØªØºÛŒÛŒØ± Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ø¯Ø§Ø±Ù†Ø¯ Ú†ÙˆÙ† Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÙ‡ Ø¯Ø§Ø±Ù†Ø¯.
# ... (Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ RootLayout Ùˆ HomeScreen Ø¯Ø³Øªâ€ŒÙ†Ø®ÙˆØ±Ø¯Ù‡ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯) ...

<LeagueScreen>:
    name: 'league'
    league_manager: app.root.get_screen('home').league_manager # Ø§Ú¯Ø± Ø§ÛŒÙ† Ù…ØªØ¯ Ú©Ø§Ø± Ú©Ù†Ø¯

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        # Ø¯Ú©Ù…Ù‡ ØªØ³Øª Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ
        MDFlatButton:
            text: "Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ø¨Ø±Ø¯"
            on_release: root.simulate_next_game()
            size_hint_y: None
            height: 48
            
        MDTabs:
            id: league_tabs
            size_hint_y: 1
            
            # --- ØªØ¨ Ø§ÙˆÙ„: Ø¬Ø¯ÙˆÙ„ Ù„ÛŒÚ¯ ---
            Tab:
                text: "Ø¬Ø¯ÙˆÙ„ Ù„ÛŒÚ¯"
                BoxLayout:
                    orientation: 'vertical'
                    
                    ScrollView:
                        do_scroll_x: False
                        
                        GridLayout:
                            id: league_table_grid
                            cols: 6
                            spacing: 2
                            size_hint_y: None
                            height: self.minimum_height
                            
                            # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„
                            Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ù†Ø§Ù… ØªÛŒÙ…" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ø¨Ø§Ø²ÛŒ" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ø¨Ø±Ø¯/Ù…Ø³Ø§ÙˆÛŒ/Ø¨Ø§Ø®Øª" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ø§Ù…ØªÛŒØ§Ø²" ; bold: True; background_color: 0.4, 0.4, 0.7, 1
                            Label: text: "Ú¯Ù„Ø¯" ; bold: True; background_color: 0.4, 0.4, 0.7, 1

                            # Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÙˆÙ„ Ù¾Ø± Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Binding ÛŒØ§ Ú©Ø¯ Ù¾Ø§ÛŒØªÙˆÙ†)
                            # Ù…Ø«Ù„Ø§Ù‹:
                            # Label: text: "1"
                            # Label: text: "Super Team A"
                            # ...

            # --- ØªØ¨ Ø¯ÙˆÙ…: Ø¬Ø¯ÙˆÙ„ Ú¯Ù„Ø²Ù†Ø§Ù† ---
            Tab:
                text: "Ø¨Ø±ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù†"
                ScrollView:
                    do_scroll_x: False
                    GridLayout:
                        cols: 3
                        spacing: 2
                        size_hint_y: None
                        height: self.minimum_height
                        
                        # Ù‡Ø¯Ø± Ø¬Ø¯ÙˆÙ„ Ú¯Ù„Ø²Ù†Ø§Ù† (ÙÙ‚Ø· Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
                        Label: text: "Ø±ØªØ¨Ù‡" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
                        Label: text: "Ø¨Ø§Ø²ÛŒÚ©Ù†" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
                        Label: text: "Ú¯Ù„" ; bold: True; background_color: 0.7, 0.4, 0.4, 1
                        
                        # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
                        Label: text: "1"
                        Label: text: "Ronaldo 2.0"
                        Label: text: "25"
                        Label: text: "2"
                        Label: text: "Messi Next Gen"
                        Label: text: "22"

<PlayersScreen>:
    name: 'players'
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
            font_size: 30
        Label:
            text: "Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù„ÛŒØ³Øª Ùˆ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ØªÛŒÙ… Ø´Ù…Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯."

# ... (Ø¨Ø§Ù‚ÛŒ ØµÙØ­Ø§Øª) ...
# my.kv
#:import Factory kivy.factory.Factory

# --- ØªØ¹Ø±ÛŒÙ Ú©Ù„ÛŒ Style ---
<Label@Label>:
    size_hint_y: None
    height: 40
    text_size: self.width, None
    halign: 'center'
    valign: 'middle'
    color: 0, 0, 0, 1 # Ù…ØªÙ† Ø³ÛŒØ§Ù‡

<Button@Button>:
    size_hint_y: None
    height: 60
    background_color: 0.2, 0.6, 0.8, 1 # Ø¢Ø¨ÛŒ Ø±ÙˆØ´Ù†
    color: 1, 1, 1, 1 # Ù…ØªÙ† Ø³ÙÛŒØ¯

# --- Screen Manager ---
ScreenManager:
    id: sm
    main: main_screen
    create_cup: create_cup_screen
    cup_details: cup_details_screen

# --- 1. ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø¬Ø§Ù… Ù‡Ø§) ---
Screen:
    name: 'main'
    id: main_screen
    cup_list_layout: cup_list_container

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: "âš½ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø§Ù… Ù‡Ø§ ğŸ†"
            font_size: 30
            size_hint_y: None
            height: 50

        # Ø¯Ú©Ù…Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯
        Button:
            text: "Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯"
            on_release: app.root.current = 'create_cup'
            background_color: 0.1, 0.7, 0.1, 1 # Ø³Ø¨Ø²

        # Ø¸Ø±Ù Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ù„ÛŒØ³Øª Ø¬Ø§Ù… Ù‡Ø§
        ScrollView:
            do_scroll_y: True
            GridLayout:
                id: cup_list_container
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 5


# --- 2. ØµÙØ­Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯ ---
Screen:
    name: 'create_cup'
    id: create_cup_screen
    
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15

        Label:
            text: "Ø³Ø§Ø®Øª Ø¬Ø§Ù… Ø¬Ø¯ÛŒØ¯"
            font_size: 25
            size_hint_y: None
            height: 50

        TextInput:
            id: cup_name_input
            hint_text: "Ù†Ø§Ù… Ø¬Ø§Ù… (Ù…Ø«Ù„Ø§Ù‹ Ø¬Ø§Ù… Ù†ÙˆØ±ÙˆØ²)"
            multiline: False
            size_hint_y: None
            height: 50

        TextInput:
            id: entry_fee_input
            hint_text: "Ù…Ø¨Ù„Øº ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø± Ø­Ø³Ø¨ Ú¯Ù„Ø¯ (Ù…Ø«Ù„Ø§Ù‹ 5000)"
            multiline: False
            input_filter: 'int' # ÙÙ‚Ø· Ø¹Ø¯Ø¯ Ù‚Ø¨ÙˆÙ„ Ú©Ù†Ø¯
            size_hint_y: None
            height: 50
            
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 60
            spacing: 15
            
            Button:
                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                background_color: 0.8, 0.3, 0.3, 1 # Ù‚Ø±Ù…Ø²
                on_release: app.root.current = 'main'
                
            Button:
                text: "Ø«Ø¨Øª Ø¬Ø§Ù…"
                on_release: root.create_button_pressed()
                background_color: 0.2, 0.6, 0.8, 1 # Ø¢Ø¨ÛŒ


# --- 3. ØµÙØ­Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¬Ø§Ù… ---
Screen:
    name: 'cup_details'
    id: cup_details_screen
    cup_object: None # ØªÙˆØ³Ø· main.py ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒ Ø´ÙˆØ¯
    team_list_layout: team_scroll_layout
    details_layout: details_scroll_layout
    
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        # Ø¹Ù†ÙˆØ§Ù†
        Label:
            text: "Ø¬Ø²Ø¦ÛŒØ§Øª Ø¬Ø§Ù…"
            font_size: 28
            size_hint_y: None
            height: 50

        # Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ù„ÛŒ (Ù†Ø§Ù…ØŒ ÙˆØ±ÙˆØ¯ÛŒØŒ ÙˆØ¶Ø¹ÛŒØª)
        ScrollView:
            size_hint_y: 0.4
            do_scroll_y: True
            GridLayout:
                id: details_scroll_layout
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 2


        Label:
            text: "--- ØªÛŒÙ… Ù‡Ø§ÛŒ Ø´Ø±Ú©Øª Ú©Ù†Ù†Ø¯Ù‡ ---"
            size_hint_y: None
            height: 30

        # Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª ØªÛŒÙ… Ù‡Ø§
        ScrollView:
            size_hint_y: 0.6
            do_scroll_y: True
            GridLayout:
                id: team_scroll_layout
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 2

        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª"
            background_color: 0.8, 0.3, 0.3, 1 
            on_release: app.root.current = 'main'
# my.kv

#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import Factory kivy.factory.Factory

# ... (ØªØ¹Ø§Ø±ÛŒÙ Ù‚Ø¨Ù„ÛŒ Ù…Ø§Ù†Ù†Ø¯ HomeScreen, CupScreen Ùˆ ...) ...

<MonthlyAwardsScreen>:
    # ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø±ØªØ±ÛŒÙ† Ù‡Ø§
    name: 'monthly_awards'
    
    # Ø²Ù…ÛŒÙ†Ù‡ Ú©Ù„ÛŒ ØµÙØ­Ù‡
    canvas.before:
        Color:
            rgb: 0.05, 0.05, 0.15  # Ø²Ù…ÛŒÙ†Ù‡ Ø¢Ø¨ÛŒ ØªÛŒØ±Ù‡/Ù…Ø´Ú©ÛŒ
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: "ğŸ† ØªÙ‚Ø¯ÛŒØ± Ø§Ø² Ø¨Ù‡ØªØ±ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù‡ ğŸ†"
            font_size: 30
            size_hint_y: None
            height: 60
            color: 1, 0.84, 0, 1 # Ø·Ù„Ø§ÛŒÛŒ Ø±ÙˆØ´Ù†

        # Ù†Ø§Ø­ÛŒÙ‡ Ø§ÛŒ Ú©Ù‡ Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© (Ù„ÛŒØ³Øª Ùˆ ØªØµÙˆÛŒØ±) Ø¯Ø± Ø¢Ù† Ù‚Ø±Ø§Ø± Ù…ÛŒ Ú¯ÛŒØ±Ø¯
        ScrollView:
            size_hint_y: 1
            
            BoxLayout:
                id: awards_layout
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 5
                padding: 10
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 0.4 # Ù¾Ø³ Ø²Ù…ÛŒÙ†Ù‡ Ú©Ù…ÛŒ ØªÛŒØ±Ù‡ ØªØ± Ø¨Ø±Ø§ÛŒ Ù…Ø­ØªÙˆØ§
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [15]

        # Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª
        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ Ø§ØµÙ„ÛŒ"
            size_hint_y: None
            height: 50
            background_color: 0.2, 0.2, 0.8, 1 # Ø¢Ø¨ÛŒ
            on_release: 
                app.root.current = 'home'

# Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ† id Ø±Ø§ Ø¯Ø± main.py Ø¯Ø± Ú©Ù„Ø§Ø³ MonthlyAwardsScreen Ø§Ø±Ø¬Ø§Ø¹ Ø¯Ù‡ÛŒÙ…
# awards_layout Ø¯Ø± Ú©Ø¯ Python Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† self.awards_layout Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù…ÛŒ Ø´ÙˆØ¯.
# team_manager.kv

#:import get_player_by_id TEAM_MANAGER.get_player_by_id
#:import random random

<RootWidget>:
    # ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ
    id: sm
    transition: 'slide'
    
    Screen:
        name: 'main_view'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            Label:
                text: "Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…: " + TEAM_MANAGER.name
                size_hint_y: None
                height: 40
                font_size: '20sp'
                
            GridLayout:
                cols: 2
                size_hint_y: None
                height: 50
                Label:
                    text: "Ú¯Ù„Ø¯: " + str(TEAM_MANAGER.gold)
                Label:
                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: " + str(len(TEAM_MANAGER.squad)) + "/" + str(TEAM_MANAGER.MAX_PLAYERS)

            GridLayout:
                cols: 2
                spacing: 10
                
                Button:
                    text: "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ ØªØ±Ú©ÛŒØ¨"
                    on_press: 
                        root.current = 'roster'
                        root.get_screen('roster').update_roster_display()
                
                Button:
                    text: "Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
                    on_press: root.current = 'transfer'
                
                Button:
                    text: "Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒÚ©Ù† (Ú©Ø§Ø±Ø¨Ø±)"
                    on_press: root.current = 'builder'
                    
                Button:
                    text: "Ú¯Ø°Ø± Ø¨Ù‡ Ù…Ø§Ù‡ Ø¨Ø¹Ø¯ (Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ)"
                    on_press: 
                        TEAM_MANAGER.current_league_month += 1
                        root.get_screen('main_view').update_status()

            
            ScrollView:
                do_scroll_y: True
                Label:
                    id: roster_log
                    text: "\n".join(TEAM_MANAGER.roster_history)
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width, None
                    padding: [10, 10]
                    on_parent: self.y = self.parent.y # Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§Ø³Ú©Ø±ÙˆÙ„ Ø´Ø¯Ù†

            Button:
                text: "Ø®Ø±ÙˆØ¬"
                size_hint_y: None
                height: 40
                on_release: app.stop()
                
        
        # ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø¯Ø± ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
        def update_status(root):
            self.ids.roster_log.text = "\n".join(TEAM_MANAGER.roster_history)
            # Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø±ÛŒÙØ±Ø´ Ø´Ø¯Ù† Ù‡Ù…Ù‡ ÙˆÛŒØ¬Øª Ù‡Ø§ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Refreshes Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ø§Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ)
            self.children[1].children[2].children[1].text = "Ú¯Ù„Ø¯: " + str(TEAM_MANAGER.gold)
            self.children[1].children[2].children[0].text = "Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: " + str(len(TEAM_MANAGER.squad)) + "/" + str(TEAM_MANAGER.MAX_PLAYERS)


    Screen:
        name: 'roster'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            Label:
                text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ ØªØ±Ú©ÛŒØ¨"
                size_hint_y: None
                height: 40
            
            ScrollView:
                id: roster_scroll
                do_scroll_y: True
                
                GridLayout:
                    id: roster_grid
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 5
            
            Button:
                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                size_hint_y: None
                height: 40
                on_press: root.current = 'main_view'
        
        # ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù¾Ø± Ú©Ø±Ø¯Ù† Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†
        def update_roster_display(root):
            roster_grid = root.get_screen('roster').ids.roster_grid
            roster_grid.clear_widgets()
            
            roster_grid.add_widget(Label(text="--- Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ØªÛŒÙ… ---", size_hint_y=None, height=30))
            
            for p in TEAM_MANAGER.squad:
                player_info = f"[ID:{p.id}] P:{p.power} | Age:{p.age} | {p.position} | C:{p.contract_length}M"
                
                grid_layout = BoxLayout(size_hint_y=None, height=40)
                grid_layout.add_widget(Label(text=player_info, size_hint_x=0.7))
                
                # Ø¯Ú©Ù…Ù‡ ØªÙ…Ø¯ÛŒØ¯ (Ø³Ø§Ø¯Ù‡ Ø´Ø¯Ù‡)
                btn_renew = Button(text="ØªÙ…Ø¯ÛŒØ¯", size_hint_x=0.15, on_press=lambda instance, p_id=p.id: self.handle_renew(p_id))
                grid_layout.add_widget(btn_renew)
                
                # Ø¯Ú©Ù…Ù‡ ÙØ±ÙˆØ´ (Ø³Ø§Ø¯Ù‡ Ø´Ø¯Ù‡)
                btn_sell = Button(text="ÙØ±ÙˆØ´", size_hint_x=0.15, on_press=lambda instance, p_id=p.id: self.handle_sell(p_id))
                grid_layout.add_widget(btn_sell)
                
                roster_grid.add_widget(grid_layout)

            # Ø¨Ø§ÛŒØ¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ø´ÙˆØ¯ Ú©Ù‡ Ø§Ø±ØªÙØ§Ø¹ ØµÙØ­Ù‡ Ø¨Ù‡ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ú©Ø§ÙÛŒ Ø¨Ø²Ø±Ú¯ Ø§Ø³Øª
            roster_grid.height = roster_grid.minimum_height
            
        # ØªÙˆØ§Ø¨Ø¹ Ù‡Ù†Ø¯Ù„Ø± (Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…Ù†Ø·Ù‚ Kivy Ú©Ø§Ù…Ù„â€ŒØªØ± Ø´ÙˆÙ†Ø¯)
        def handle_renew(player_id, instance):
            # Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ÛŒØ¯ ÛŒÚ© Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø§Ù‡ ØªÙ…Ø¯ÛŒØ¯ Ø¸Ø§Ù‡Ø± Ø´ÙˆØ¯
            TEAM_MANAGER.renew_contract(player_id, 1) # ØªÙ…Ø¯ÛŒØ¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ 1 Ù…Ø§Ù‡Ù‡
            self.update_roster_display()
            
        def handle_sell(player_id, instance):
            TEAM_MANAGER.sell_player(player_id)
            self.update_roster_display()


    Screen:
        name: 'transfer'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            Label:
                text: "Ø¨Ø®Ø´ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
                size_hint_y: None
                height: 40
                
            Button:
                text: "ÙØ±ÙˆØ´ Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø¨Ù‡ Ø¨Ø§Ø²Ø§Ø±)"
                on_press: 
                    # Ø§ÛŒÙ†Ø¬Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø² Ù„ÛŒØ³Øª Ø§Ø³Øª
                    print("Select player to sell...")
            
            Button:
                text: "Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø§Ø² Ø¨Ø§Ø²Ø§Ø±)"
                on_press: 
                    print("View and buy from market...")

            Button:
                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                size_hint_y: None
                height: 40
                on_press: root.current = 'main_view'


    Screen:
        name: 'builder'
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 5
            
            Label:
                text: "Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒÚ©Ù† Ø³Ø§Ø®ØªÙ†ÛŒ (Ú©Ø§Ø±Ø¨Ø±)"
                size_hint_y: None
                height: 40
            
            GridLayout:
                cols: 2
                spacing: 10
                size_hint_y: None
                height: 200
                
                Label: text: "Ù‚Ø¯Ø±Øª (150-250):"
                TextInput:
                    id: build_power
                    input_filter: 'int'
                    multiline: False
                    text: '200'

                Label: text: "Ø³Ù† (1-39):"
                TextInput:
                    id: build_age
                    input_filter: 'int'
                    multiline: False
                    text: '21'

                Label: text: "Ù¾Ø³Øª:"
                Spinner:
                    id: build_pos_spinner
                    text: 'MID'
                    values: ('GK', 'DEF', 'MID', 'FWD')
            
            Button:
                text: "Ø³Ø§Ø®Øª Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† (Ù‡Ø²ÛŒÙ†Ù‡: 15 * Ù‚Ø¯Ø±Øª)"
                on_press:
                    try:
                        p = int(build_power.text)
                        a = int(build_age.text)
                        pos = build_pos_spinner.text
                        new_p = TEAM_MANAGER.create_custom_player(p, a, pos)
                        if new_p:
                            TEAM_MANAGER.add_player(new_p)
                            root.get_screen('roster').update_roster_display()
                            root.get_screen('main_view').update_status()
                            self.text = f"Ù…ÙˆÙÙ‚! Ú¯Ù„Ø¯: {TEAM_MANAGER.gold}"
                        else:
                            self.text = "Ø³Ø§Ø®Øª Ù†Ø§Ù…ÙˆÙÙ‚!"
                    except Exception as e:
                        self.text = f"Ø®Ø·Ø§ Ø¯Ø± ÙˆØ±ÙˆØ¯ÛŒ: {e}"
            
            Button:
                text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                size_hint_y: None
                height: 40
                on_press: root.current = 'main_view'
#:kivy 2.2.0

<ChatScreen>:
    name: "chat"
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "ğŸ’¬ Ú†Øª Ø¹Ù…ÙˆÙ…ÛŒ"
            size_hint_y: 0.1
            bold: True
        ScrollView:
            ScrollV                GridLayout:
                    id: chat_list
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    Label:
                        text: "\n".join(root.messages)
                        text_size
                        <Treasury>:
    orientation: 'vertical'
    padding: 15
    spacing: 10

    BoxLayout:
        orientation: 'horizontal'
        spacing: 10
        Label:
            text: "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±:"
            size_hint_x: 0.3
        Label:
            text: root.username
        Label:
            text: "Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú¯Ù„Ø¯:"
            size_hint_x: 0.3
        Label:
            text: str(int(root.gold_balance))

    Label:
        text: "ğŸ’° Ø®Ø±ÛŒØ¯ Ú¯Ù„Ø¯"
        font_size: 22

    GridLayout:
        cols: 2
        spacing: 8
        Button:
            text: "Ø¨Ø³ØªÙ‡ Û± (Û±Û°,Û°Û°Û° Ú¯Ù„Ø¯ / Û²Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
            on_release: root.buy_gold("1")
        Button:
            text: "Ø¨Ø³ØªÙ‡ Û² (Û±Û°Û°,Û°Û°Û° Ú¯Ù„Ø¯ / Û±Û·Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
            on_release: root.buy_gold("2")
        Button:
            text: "Ø¨Ø³ØªÙ‡ Û³ (ÛµÛ°Û°,Û°Û°Û° Ú¯Ù„Ø¯ / ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
            on_release: root.buy_gold("3")
        Button:
            text: "Ø¨Ø³ØªÙ‡ Û´ (Ûµ,Û°Û°Û° Ú¯Ù„Ø¯ / Û²,ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)"
            on_release: root.buy_gold("4")

    Label:
        text: "ğŸ¦ Ù¾Ø³â€ŒØ§Ù†Ø¯Ø§Ø² Ùˆ Ø³ÙˆØ¯"
        font_size: 22
    Button:
        text: "Ø§ÙØ²ÙˆØ¯Ù† Ø³ÙˆØ¯ Û±Ùª"
        on_release: root.deposit_gold()

    Label:
        text: "ğŸ Ø§Ù‡Ø¯Ø§ Ú¯Ù„Ø¯"
        font_size: 22

    BoxLayout:
        orientation: 'horizontal'
        spacing: 8
        TextInput:
            id: recipient
            hint_text: "Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Ø¨Ø± Ú¯ÛŒØ±Ù†Ø¯Ù‡"
            multiline: False
            on_text_validate: root.recipient_input = self
        TextInput:
            id: amount
            hint_text: "Ù…Ù‚Ø¯Ø§Ø± Ú¯Ù„Ø¯"
            multiline: False
            on_text_validate: root.amount_input = self
        Button:
            text: "Ø§Ù‡Ø¯Ø§"
            on_release:
                root.recipient_input = recipient
                root.amount_input = amount
                root.donate_gold()
# stats.kv

<TopPlayersScreen>:
    orientation: 'vertical'
    padding: 10
    spacing: 15

    # Ø¹Ù†ÙˆØ§Ù† Ø§ØµÙ„ÛŒ
    Label:
        text: "ğŸ† Ø¨Ø®Ø´ Ø¨Ø±ØªØ±ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù„ÛŒÚ¯ ğŸ†"
        font_size: '24sp'
        size_hint_y: None
        height: 50
        halign: 'center'

    # Ø¨Ø®Ø´ Ú¯Ù„Ø²Ù†Ø§Ù†
    Label:
        text: "ğŸ¥‡ Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ù„Ø²Ù†Ø§Ù† (Ú©Ù„ Ú¯Ù„ Ø²Ø¯Ù‡):"
        font_size: '20sp'
        size_hint_y: None
        height: 40
        halign: 'right'
    
    # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ScrollView Ùˆ Label Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª
    ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        size_hint_y: 1
        
        Label:
            text: root.scorers_text  # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ù…ØªØºÛŒØ± painters_text Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯
            font_size: '16sp'
            size_hint_y: None
            height: self.texture_size[1]  # ØªÙ†Ø¸ÛŒÙ… Ø§Ø±ØªÙØ§Ø¹ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø­ØªÙˆØ§
            text_size: self.width, None
            halign: 'right'
            valign: 'top'


    # Ø¨Ø®Ø´ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù†
    Label:
        text: "ğŸ§¤ Ø¨Ù‡ØªØ±ÛŒÙ† Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù† (Ú©Ù…ØªØ±ÛŒÙ† Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡):"
        font_size: '20sp'
        size_hint_y: None
        height: 40
        halign: 'right'

    # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ScrollView Ø¨Ø±Ø§ÛŒ Ù„ÛŒØ³Øª Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†Ø§Ù†
    ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        size_hint_y: 1
        
        Label:
            text: root.keepers_text # Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ù…ØªØºÛŒØ± painters_text Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒØªÙˆÙ† Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯
            font_size: '16sp'
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None
            halign: 'right'
            valign: 'top'
   **Explanation**

1.  **AccountManager Class:**
    *   `_accounts`: A static list (emulating a database).
    *   `get_accounts()`, `get_current_account()`:  Get data.
    *   `switch_account()`: Switch the current account.
    *   `add_account()`: Add a new account.
2.  **AccountItem Widget:**
    *   Custom button for each account.
    *   `on_release()`:  Finds the index and switches the account.
3.  **Screens:**
    *   `MainScreen`:  Displays the current user's name/phone.
    *   `SettingsScreen`: Lists the accounts.
    *   `AddAccountScreen`: Gets phone number, simulates adding.
4.  **Kivy Language (KV) Code:**
    *   UI layout is defined in `kv_code`.
    *   Includes a ScrollView for the account list.
5.  **MultiAccountApp:**
    *   The main Kivy application class.
    *   Adds the screens to the `ScreenManager`.

**How to Use**

1.  Save the code as `main.py`
2.  Make sure you have Kivy installed (`pip install kivy`).
3.  Run the app: `python main.py`

**Key Points:**

*   **No Actual Authentication:** It simulates session data. In a real app, you'd use secure tokens.
*   **Simple Data:**  

**Developing User Account System**

I'm presently building the `AccountManager` class, incorporating data for the multiple accounts. I'm focusing on the interaction logic to enable seamless user account switching with the Kivy framework, including implementing the `SettingsScreen` and the `AccountItem` custom widget. I am aiming to simulate a key account-switching flow.
```python
import kivy
from kivy.app import App
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.properties import ObjectProperty, StringProperty, ListProperty
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.button import Button
from kivy.uix.label import Label
import os
from kivy.core.window import Window
Window.size = (360, 640)  # Standard mobile dimensions


 # --- Data Model and Storage ---
class AccountManager:
# A simple in-memory storage for demonstration
_accounts = [
{'phone': '0912-123-4567 ', 'name': 'Ø­Ø³Ø§Ø¨ Ø§ØµÙ„ÛŒ (Main)', 'token': 'token_main_123'},
{'phone': '0935-987-6543', 'name': 'Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±ÛŒ  (Work)', 'token': 'token_work_456'}
]
_current_account_index = 0

@classmethod
def get_accounts(cls):
return cls._accounts 

@classmethod
def get_current_account(cls):
return cls._accounts[cls._current_account_index]

@classmethod
def switch_account(cls, index):
if  0 <= index < len(cls._accounts):
cls._current_account_index = index
print(f"Switched to account: {cls.get_current_account()['phone']}")
# In a  real app, this is where you'd load the new user's session data

@classmethod
def add_account(cls, phone, name):
# Simulate initial login/token retrieval
new_account  = {'phone': phone, 'name': name, 'token': f'token_new_{len(cls._accounts) + 1}'}
cls._accounts.append(new_account)


# --- Kivy Widgets/ Screens ---

class AccountItem(Button):
# A custom button widget for each account in the list
account_info = ObjectProperty(None)

def on_release(self):
# Find  the index of this account in the manager and switch
try:
index = AccountManager.get_accounts().index(self.account_info)
AccountManager.switch_account(index)
# Navigate  back to the main screen after switching
self.parent.parent.parent.manager.current = 'main'
except ValueError:
print("Error: Account not found.")


class SettingsScreen(Screen):
accounts_container = ObjectProperty(None)

def on_enter(self):
# Clear existing items and reload the list every time the screen is entered
self.load_accounts_list()

def load_accounts_list(self):
self.ids.accounts_container.clear_widgets()
accounts = AccountManager.get_accounts()
for i, account in enumerate(accounts):
# Display current account differently 
is_current = (i == AccountManager._current_account_index)

# Create the custom widget
item = AccountItem(
text=f"{account['name']} ({account['phone'] }) - {'(ÙØ¹Ù„ÛŒ)' if is_current else '(Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯)'}",
account_info=account,
size_hint_y=None,
height=60
)
# Add some styling based on whether it's the current account
if is_current:
item.background_color = (0.2, 0.8, 0.2, 1) # Green 
else:
item.background_color = (0.1, 0.5, 0.7, 1) # Blue

self.ids.accounts_container.add_widget(item)

# Add a filler widget at the bottom to ensure the list scrolls correctly if needed
self.ids.accounts_container.add_widget(Label(size_hint_y=None, height=1))


class AddAccountScreen(Screen):
def add_new_account(self,

**Designing User Interface**

I am currently working on the basic Kivy UI screens. My primary task is to implement the screens for main display, settings, and adding new accounts. I'm leveraging KV language to layout these screens. The UI elements and screen navigation are being implemented and I am focusing on the "Other Accounts" list (Settings screen) and the "Add Account" screen. I am now working on the display logic, so that users will see the appropriate content when they navigate between different screens.
# my.kv

<MainScreen>:
    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ù„ÛŒ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: root.status_text  # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø®Ø§ØµÛŒØª ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¯Ø± main.py
            size_hint_y: None
            height: 50
            font_size: '20sp'
            color: 0, 0, 0, 1 # Ù…ØªÙ† Ø³ÛŒØ§Ù‡
            
        Button:
            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.2, 0.6, 0.8, 1  # Ø¢Ø¨ÛŒ Ø±ÙˆØ´Ù†
            on_release: root.manager.current = 'bracket_screen'

        Button:
            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.3, 0.7, 0.4, 1 # Ø³Ø¨Ø² Ø±ÙˆØ´Ù†
            on_release: root.manager.current = 'team_screen'


<BracketScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        
        Label:
            text: "Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
            size_hint_y: None
            height: 50
            font_size: '22sp'
            color: 0, 0, 0, 1
            
        # --- Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø­Ù„ Ù‚Ø±Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨ØµØ±ÛŒ Bracket Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ ---
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            
            BoxLayout:
                id: bracket_container
                orientation: 'horizontal'
                size_hint_x: None
                width: max(self.minimum_width, app.root.width * 2) # Ù…Ø«Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø§ÙÙ‚ÛŒ Ø¨ÙˆØ¯Ù†
                Label:
                    text: "Ù…Ø±Ø§Ø­Ù„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø·Ø±Ø§Ø­ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ±)"
                    size_hint_x: None
                    width: 400
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
        # ------------------------------------------------------

        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
            size_hint_y: None
            height: 50
            background_color: 0.8, 0.2, 0.2, 1
            on_release: root.manager.current = 'main_screen'

<TeamScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        
        Label:
            text: "Ø¬Ø²Ø¦ÛŒØ§Øª ØªÛŒÙ…â€ŒÙ‡Ø§"
            size_hint_y: None
            height: 50
            font_size: '22sp'
            color: 0, 0, 0, 1
            
        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
            size_hint_y: None
            height: 50
            background_color: 0.8, 0.2, 0.2, 1
            on_release: root.manager.current = 'main_screen'
            # my.kv (Ù†Ø³Ø®Ù‡ Ø§ØµÙ„Ø§Ø­ Ø´Ø¯Ù‡)

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: root.status_text
            size_hint_y: None
            height: 50
            font_size: '20sp'
            color: 0, 0, 0, 1
            
        Button:
            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.2, 0.6, 0.8, 1
            on_release: root.manager.current = 'bracket_screen'

        Button:
            text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.3, 0.7, 0.4, 1
            on_release: root.manager.current = 'team_screen'

        Button:
            text: "Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ø§ÛŒØ§Ù† Ù…Ø§Ù‡ (Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚)"
            font_size: '18sp'
            size_hint_y: None
            height: 50
            background_color: 0.9, 0.4, 0.1, 1
            on_release: root.run_monthly_update(self) # ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ØªØ¯ Ø§Ø² main.py


<BracketScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        
        Label:
            text: "Ø¬Ø¯ÙˆÙ„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ"
            size_hint_y: None
            height: 50
            font_size: '22sp'
            color: 0, 0, 0, 1
            
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            
            BoxLayout:
                orientation: 'horizontal'
                size_hint_x: None
                width: 800 # Ø¹Ø±Ø¶ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø±Ø®ØªÛŒ
                Label:
                    text: "Ù…Ø±Ø§Ø­Ù„ Ø¬Ø§Ù… Ø­Ø°ÙÛŒ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø·Ø±Ø§Ø­ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´)"
                    size_hint_x: 1
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
        
        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"
            size_hint_y: None
            height: 50
            background_color: 0.8, 0.2, 0.2, 1
            on_release: root.manager.current = 'main_screen'

<TeamScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 5
        
        # Ø§ÛŒÙ† ÙˆÛŒØ¬Øª Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ Ø±Ø§ Ù†Ú¯Ù‡ Ù…ÛŒâ€ŒØ¯Ø§Ø±Ø¯
        Label:
            id: team_display_label
            # Ø§ÛŒÙ† Ù…ØªÙ† Ø¯Ø± on_enter ØªÙˆØ³Ø· Ù¾Ø§ÛŒØªÙˆÙ† Ø¨Ù‡â€ŒØ±ÙˆØ² Ù…ÛŒâ€ŒØ´ÙˆØ¯
            text: "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§..."
            halign: 'right'
            valign: 'top'
               cd /path/to/your/kivy/project  # Ø§ÛŒÙ† Ù…Ø³ÛŒØ± Ø±Ø§ Ø¨Ø§ Ù…Ø³ÛŒØ± ÙˆØ§Ù‚Ø¹ÛŒ Ù¾ÙˆØ´Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø®ÙˆØ¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†  Ú©Ù†ÛŒØ¯
               ScreenManager:
    MainScreen:
    TeamScreen:
    ChatScreen:


<MainScreen>:
    name: "main"
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "ğŸ† ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ"
            size_hint_y: .1
            font_size: 26

        BoxLayout:
            size_hint_y: .45

            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "1000 Ú¯Ù„Ø²Ù† Ø¨Ø±ØªØ± ØªØ§Ø±ÛŒØ®"
                ScrollView:
                    GridLayout:
                        id: top_scorers
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height

            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú©Ù…ØªØ±ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡"
                ScrollView:
                    GridLayout:
                        id: best_defense
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height

        Button:
            text: "Ø±ÙØªÙ† Ø¨Ù‡ Ú†Øª Ø¹Ù…ÙˆÙ…ÛŒ"
            size_hint_y: .1
            on_press: app.change_screen("chat")


<TeamScreen>:
    name: "team"
    BoxLayout:
        orientation: "vertical"

        Label:
            id: team_name
            text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ…"
            font_size: 24

        Label:
            id: team_stats
            text: ""

        ScrollView:
            GridLayout:
                id: team_scorers
                cols: 1
                size_hint_y: None
                height: self.minimum_height


<ChatScreen>:
    name: "chat"
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "ğŸ’¬ Ú†Øª Ø¹Ù…ÙˆÙ…ÛŒ"
            size_hint_y: .1

        BoxLayout:
            size_hint_y: .4
            orientation: "vertical"
            Label:
                text: "ğŸ”¥ Ú†Ø§Ù„Ø´ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† (60 Ø«Ø§Ù†ÛŒÙ‡)"
            Button:
                text: "Ø§Ø±Ø³Ø§Ù„ Ú†Ø§Ù„Ø´"
                on_press: app.start_challenge()

        BoxLayout:
            size_hint_y: .4
            orientation: "vertical"
            Label:
                text: "ğŸ‘‘ 30 Ú©Ø§Ø±Ø¨Ø± ÙØ¹Ø§Ù„ Ø§Ù…Ø±ÙˆØ²"
            ScrollView:
                GridLayout:
                    id: active_users
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    ScreenManager:
    MainScreen:
    TeamProfileScreen:

<MainScreen>:
    on_enter: self.load_top_1000()
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "ğŸ† 1000 Ù¾Ø§Ø³ÙˆØ± Ø¨Ø±ØªØ± Ø¨Ø§Ø²ÛŒ"
            font_size: 22
            size_hint_y: None
            height: 50

        ScrollView:
            GridLayout:
                cols: 1
                size_hint_y: None
                height: self.minimum_height

                canvas.before:
                    Color:
                        rgba: 0.1, 0.1, 0.1, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos

                RecycleView:
                    size_hint_y: None
                    height: self.minimum_height
                    data: root.top_assists
                    viewclass: "Label"
                    RecycleBoxLayout:
                        cols: 1
                        default_size: None, 40
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height


        Button:
            text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ…"
            size_hint_y: None
            height: 50
            on_press:
                app.root.current = "team"


<TeamProfileScreen>:
    on_enter: self.load_team_data()
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "ğŸ“Š Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ…"
            font_size: 22
            size_hint_y: None
            height: 50

        GridLayout:
            cols: 3
            size_hint_y: None
            height: self.minimum_height

            Label:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù†"
            Label:
                text: "Ú¯Ù„"
            Label:
                text: "Ù¾Ø§Ø³ Ú¯Ù„"

            # Ø¯Ø§Ø¯Ù‡ ØªÛŒÙ…
            Label:
                text: "Ø¹Ù„ÛŒ"
            Label:
                text: "10"
            Label:
                text: "7"

            Label:
                text: "Ø±Ø¶Ø§"
            Label:
                text: "5"
            Label:
                text: "12"

            Label:
                text: "Ù…Ù‡Ø¯ÛŒ"
            Label:
                text: "8"
            Label:
                text: "4"

        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
            size_hint_y: None
            height: 50
            on_press:
                app.root.current = "main"
<ChampionsLayout>:
    orientation: "vertical"
    padding: 20
    spacing: 10

    Label:
        text: "ğŸ† Ù„ÛŒÚ¯ Ù‚Ù‡Ø±Ù…Ø§Ù†Ø§Ù†"
        font_size: 28
        size_hint_y: None
        height: 60

    GridLayout:
        cols: 2
        spacing: 10

        # Ù†Ù…Ø§ÛŒØ´ ØªÛŒÙ…â€ŒÙ‡Ø§
        RecycleView:
            viewclass: "TeamItem"
            data: root.teams
            RecycleBoxLayout:
                default_size: None, 60
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: "vertical"


<TeamItem@BoxLayout>:
    orientation: "horizontal"
    size_hint_y: None
    height: 60
    padding: 10
    spacing: 10

    Label:
        text: root.name
        font_size: 18

    Label:
        text: "Ù‚Ø¯Ø±Øª: " + str(root.power)
        font_size: 16
<LeagueHonors>:
    orientation: "vertical"
    padding: 10
    spacing: 10
    size_hint_y: 0.6

    Label:
        text: "ğŸ† Û±Û° ØªÛŒÙ… Ù¾Ø±Ø§ÙØªØ®Ø§Ø± Ù„ÛŒÚ¯"
        font_size: 24
        size_hint_y: None
        height: 50

    RecycleView:
        viewclass: "HonorItem"
        data: root.teams
        RecycleBoxLayout:
            orientation: "vertical"
            default_size: None, 60
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height


<HonorItem@BoxLayout>:
    orientation: "horizontal"
    size_hint_y: None
    height: 60
    spacing: 10
    padding: 10

    Label:
        text: root.name
        font_size: 18

    Label:
        text: "ğŸ¥‡ " + str(root.titles)
    Label:
        text: "ğŸ¥ˆ " + str(root.seconds)
    Label:
        text: "ğŸ¥‰ " + str(root.thirds)


<ProfileScreen>:
    orientation: "vertical"
    padding: 10
    spacing: 10
    size_hint_y: 0.4

    Label:
        text: "ğŸ‘¤ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ " + root.username
        font_size: 22
        size_hint_y: None
        height: 50

    Button:
        text: "ğŸ† Ø¬Ø§Ù…â€ŒÙ‡Ø§"
        size_hint_y: None
        height: 50
        on_press: root.show_cups()

    RecycleView:
        viewclass: "CupItem"
        data: root.cups
        RecycleBoxLayout:
            orientation: "vertical"
            default_size: None, 40
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height


<CupItem@Label>:
    size_hint_y: None
    height: 40
    font_size: 16
<TrophyScreen>:
    orientation: "vertical"
    padding: 20
    spacing: 20

    Button:
        text: "ğŸ† Ú¯Ø±ÙØªÙ† Ø¬Ø§Ù…"
        size_hint_y: None
        height: 60
        on_press: root.play_animation()

    FloatLayout:

        Label:
            id: trophy
            text: "ğŸ†"
            font_size: 160
            size_hint: None, None
            size: self.texture_size
            pos_hint: {"center_x": 0.5}
            scale: 1
            canvas.before:
                PushMatrix
                Scale:
                    x: self.scale
                    y: self.scale
                    origin: self.center
            canvas.after:
                PopMatrix

        Label:
            text: "Ù‚Ù‡Ø±Ù…Ø§Ù† Ø´Ø¯ÛŒ!"
            font_size: 32
            bold: True
            color: 1, 0.85, 0, root.opacity_text
            pos_hint: {"center_x": 0.5, "center_y": 0.25}
from kivy.app import App
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.uix.floatlayout import FloatLayout
from kivy.properties import StringProperty, NumericProperty
from kivy.animation import Animation
from kivy.lang import Builder

# ---------- Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ… ----------
Builder.load_string("""
<StadiumScreen>:
    FloatLayout:
        canvas:
            Color:
                rgb: 0.1, 0.2, 0.3
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "ğŸŸï¸ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ… Ø¨Ø²Ø±Ú¯"
            font_size: 36
            pos_hint: {"center_x":0.5, "center_y":0.8}

        Label:
            id: crowd
            text: "ğŸ‰ğŸ‰ğŸ‰ Ø¬Ù…Ø¹ÛŒØª Ø¯Ø± Ø­Ø§Ù„ ØªØ´ÙˆÛŒÙ‚!"
            font_size: 28
            pos_hint: {"center_x":0.5, "center_y":0.6}

        Button:
            text: "Ø´Ø±ÙˆØ¹ Ù…Ø±Ø§Ø³Ù…"
            size_hint: None, None
            size: 200, 60
            pos_hint: {"center_x":0.5, "center_y":0.2}
            on_press: root.start_ceremony()
""")

class StadiumScreen(Screen):
    def start_ceremony(self):
        # ÙˆÙ‚ØªÛŒ Ù…Ø±Ø§Ø³Ù… Ø´Ø±ÙˆØ¹ Ø´Ø¯ØŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø³Ø§Ø¯Ù‡ Ø±ÙˆÛŒ Ø¬Ù…Ø¹ÛŒØª
        anim = Animation
<KitWidget>:
    Image:
        id: kit_img
        source: root.kit_image
        size_hint: None, None
        size: 200, 400
        pos_hint: {"center_x":0.5, "center_y":0.5}

    Image:
        id: logo_img
        source: root.logo_image
        size_hint: None, None
        size: 80, 80
        pos_hint: {"center_x":0.5, "center_y":0.8}

    Button:
        text: "Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³ Ú©ÛŒØª"
        size_hint: None, None
        size: 150, 50
        pos_hint: {"center_x":0.5, "y":0.05}
        on_press: root.open_filechooser()

<MainScreen>:
    orientation: "vertical"
    padding: 20
    spacing: 20

    Label:
        text: "ØµÙØ­Ù‡ Ú©ÛŒØª ØªÛŒÙ…"
        font_size: 24
        size_hint_y: None
        height: 50

    KitWidget:
        id: kit_widget
<PlayerWidget>:
    Image:
        id: player_img
        source: root.player_image
        size_hint: None, None
        size: 150, 300
        pos_hint: {"center_x":0.5, "center_y":0.2}

    Image:
        id: logo_img
        source: root.logo_image
        size_hint: None, None
        size: 80, 80
        pos_hint: {"center_x":0.5, "center_y":0.7}

    Label:
        id: number_label
        text: str(root.number)
        font_size: 48
        bold: True
        color: 1, 1, 0, 1
        pos_hint: {"center_x":0.5, "center_y":0.5}
        opacity: 0

<PurchaseScreen>:
    name: "purchase"
    FloatLayout:
        Button:
            text: "Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù†"
            size_hint: None, None
            size: 200, 60
            pos_hint: {"center_x":0.5, "y":0.05}
            on_press:
                root.on_enter()  # Ø´Ø±ÙˆØ¹ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨Ø§Ø²ÛŒÚ©Ù†
<PlayerProfile>:
    orientation: "vertical"
    padding: 10
    spacing: 10

    Label:
        text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø§Ø²ÛŒÚ©Ù†: " + root.player_position
        font_size: 22
        size_hint_y: None
        height: 40

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height
        row_default_height: 30
        spacing: 5
        RecycleView:
            viewclass: "StatItem"
            data: root.stats
            RecycleBoxLayout:
                default_size: None, 30
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: "vertical"

<StatItem@BoxLayout>:
    orientation: "horizontal"
    Label:
        text: root.title
        font_size: 16
    Label:
        text: str(root.value)
        font_size: 16

<MainScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 20

        Label:
            text: "ØµÙØ­Ù‡ Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† / Ø¢Ù†Ø§Ù„ÛŒØ² Ø¨Ø§Ø²ÛŒÚ©Ù†"
            font_size: 24
            size_hint_y: None
            height: 50

        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 10

            Button:
                text: "Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†"
                on_press: profile.show_stats("Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†")
            Button:
                text: "Ù…Ø¯Ø§ÙØ¹"
                on_press: profile.show_stats("Ù…Ø¯Ø§ÙØ¹")
            Button:
                text: "Ù‡Ø§ÙØ¨Ú©"
                on_press: profile.show_stats("Ù‡Ø§ÙØ¨Ú©")
            Button:
                text: "Ù…Ù‡Ø§Ø¬Ù…"
                on_press: profile.show_stats("Ù…Ù‡Ø§Ø¬Ù…")

        PlayerProfile:
            id: profile
<PlayerProfile>:
    orientation: "vertical"
    padding: 5
    spacing: 5

    Label:
        text: root.title
        font_size: 20
        size_hint_y: None
        height: 30

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height
        row_default_height: 25
        spacing: 5

        RecycleView:
            viewclass: "StatItem"
            data: root.stats
            RecycleBoxLayout:
                default_size: None, 25
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: "vertical"

<StatItem@BoxLayout>:
    orientation: "horizontal"
    Label:
        text: root.title
        font_size: 16
    Label:
        text: str(root.value)
        font_size: 16

<CompareScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 20

        Label:
            text: "Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¯Ùˆ Ø¨Ø§Ø²ÛŒÚ©Ù†"
            font_size: 24
            size_hint_y: None
            height: 50

        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 10

            Button:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§ÙˆÙ„: Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†"
                on_press: player1.show_stats("Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†")
            Button:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§ÙˆÙ„: Ù…Ø¯Ø§ÙØ¹"
                on_press: player1.show_stats("Ù…Ø¯Ø§ÙØ¹")
            Button:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯ÙˆÙ…: Ù‡Ø§ÙØ¨Ú©"
                on_press: player2.show_stats("Ù‡Ø§ÙØ¨Ú©")
            Button:
                text: "Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯ÙˆÙ…: Ù…Ù‡Ø§Ø¬Ù…"
                on_press: player2.show_stats("Ù…Ù‡Ø§Ø¬Ù…")

        BoxLayout:
            orientation: "horizontal"
            spacing: 20

            PlayerProfile:
                id: player1
            PlayerProfile:
                id: player2
#:kivy 2.2.0

<PlayerAIPanel>:
    orientation: "vertical"
    padding: 14
    spacing: 10

    canvas.before:
        Color:
            rgba: 0.08, 0.08, 0.1, 0.96
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [16]

    Label:
        text: "ğŸ§  ØªØ­Ù„ÛŒÙ„ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†"
        font_size: "20sp"
        bold: True
        size_hint_y: None
        height: "36dp"

    Divider

    # -------- Perception --------
    Label:
        text: "Perception | Ø¯Ø±Ú© Ù…Ø­ÛŒØ·"
        font_size: "16sp"
        bold: True
        size_hint_y: None
        height: "28dp"

    GridLayout:
        cols: 2
        spacing: 6
        size_hint_y: None
        height: self.minimum_height

        Label:
            text: "ÙØ§ØµÙ„Ù‡ ØªØ§ ØªÙˆÙ¾:"
        Label:
            text: root.ball_distance

        Label:
            text: "ÙØ§ØµÙ„Ù‡ ØªØ§ Ø¯Ø±ÙˆØ§Ø²Ù‡:"
        Label:
            text: root.goal_distance

        Label:
            text: "ÙØ´Ø§Ø± Ø­Ø±ÛŒÙ:"
        Label:
            text: root.pressure_level

        Label:
            text: "ÛŒØ§Ø± Ø¢Ø²Ø§Ø¯:"
        Label:
            text: root.free_teammate

    Divider

    # -------- Decision Scores --------
    Label:
        text: "Decision Scores"
        font_size: "16sp"
        bold: True
        size_hint_y: None
        height: "28dp"

    GridLayout:
        cols: 2
        spacing: 8
        size_hint_y: None
        height: self.minimum_height

        Label:
            text: "Ø´ÙˆØª"
        ProgressBar:
            max: 100
            value: root.shoot_score

        Label:
            text: "Ù¾Ø§Ø³"
        ProgressBar:
            max: 100
            value: root.pass_score

        Label:
            text: "Ø¯Ø±ÛŒØ¨Ù„"
        ProgressBar:
            max: 100
            value: root.dribble_score

    Divider

    # -------- Final Action --------
    BoxLayout:
        size_hint_y: None
        height: "48dp"
        padding: 8
        spacing: 10
        canvas.before:
            Color:
                rgba: 0.15, 0.25, 0.35, 1
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [12]

        Label:
            text: "ØªØµÙ…ÛŒÙ… Ù†Ù‡Ø§ÛŒÛŒ:"
            bold: True

        Label:
            text: root.final_action
            bold: True
            color: 0, 1, 0, 1

    Button:
        text: "ğŸ”„ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØµÙ…ÛŒÙ… Ø¬Ø¯ÛŒØ¯"
        size_hint_y: None
        height: "44dp"
        on_press: root.simulate_decision()


<Divider@Widget>:
    size_hint_y: None
    height: "1dp"
    canvas:
        Color:
            rgba: 1, 1, 1, 0.15
        Rectangle:
            pos: self.pos
            size: self.size
#:kivy 2.2.0

<LiveMatchPanel>:
    orientation: "vertical"
    padding: 12
    spacing: 10

    Label:
        text: "ğŸ“¡ Ù¾Ø®Ø´ Ø²Ù†Ø¯Ù‡ Ù…Ø³Ø§Ø¨Ù‚Ù‡"
        font_size: "20sp"
        bold: True
        size_hint_y: None
        height: "36dp"

    Label:
        text: "â±ï¸ Ø¯Ù‚ÛŒÙ‚Ù‡: " + str(root.match_minute)
        font_size: "16sp"
        size_hint_y: None
        height: "28dp"

    Divider

    Label:
        text: "ğŸ§  ØªØµÙ…ÛŒÙ… Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†"
        bold: True
        size_hint_y: None
        height: "26dp"

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height
        spacing: 6

        Label:
            text: "Ø´ÙˆØª"
        ProgressBar:
            max: 100
            value: root.shoot_score

        Label:
            text: "Ù¾Ø§Ø³"
        ProgressBar:
            max: 100
            value: root.pass_score

        Label:
            text: "Ø¯Ø±ÛŒØ¨Ù„"
        ProgressBar:
            max: 100
            value: root.dribble_score

    BoxLayout:
        size_hint_y: None
        height: "40dp"

        Label:
            text: "ØªØµÙ…ÛŒÙ… Ù†Ù‡Ø§ÛŒÛŒ:"
            bold: True
        Label:
            text: root.final_action
            bold: True
            color: 0, 1, 0, 1

    Divider

    Label:
        text: "ğŸ“¢ Ø§ØªÙØ§Ù‚Ø§Øª Ù…Ù‡Ù… Ø¨Ø§Ø²ÛŒ"
        bold: True
        size_hint_y: None
        height: "26dp"

    ScrollView:
        GridLayout:
            cols: 1
            size_hint_y: None
            height: self.minimum_height
            spacing: 6

            Label:
                text: event
                size_hint_y: None
                height: "24dp"
                halign: "right"
                text_size: self.width, None
                for event in root.live_events

    Button:
        text: "â–¶ Ø´Ø±ÙˆØ¹ Ù¾Ø®Ø´ Ø²Ù†Ø¯Ù‡"
        size_hint_y: None
        height: "44dp"
        on_press: root.start_match()


<Divider@Widget>:
    size_hint_y: None
    height: "1dp"
    canvas:
        Color:
            rgba: 1, 1, 1, 0.2
        Rectangle:
            pos: self.pos
            size: self.size
<GameLogic>:
    orientation: "vertical"
    padding: 10
    spacing: 10

    Label:
        text: "Ø¨Ø§Ø²ÛŒ ÙÙˆØªØ¨Ø§Ù„ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ"
        font_size: 24

    Label:
        text: "Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ú©ØªÛŒÚ©"

    Spinner:
        text: root.tactic
        values: ["Ø¯ÙØ§Ø¹ÛŒ", "Ù…Ø§Ù„Ú©ÛŒØªÛŒ", "Ù‡Ø¬ÙˆÙ…ÛŒ"]
        on_text: root.tactic = self.text

    Button:
        text: "ğŸ“£ ØªØ´ÙˆÛŒÙ‚"
        on_press: root.cheer()

    Button:
        text: "âš½ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ"
        on_press: root.play_match()

    Label:
        text: "Ø±ÙˆØ­ÛŒÙ‡ Ù…ÛŒØ²Ø¨Ø§Ù†: " + str(int(root.host_morale))

    Label:
        text: root.result_text
        font_size: 20
<Game>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "ğŸŸ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ ÙˆÛŒÚ˜Ù‡"
        font_size: 22

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Label:
        text: "Ù‚Ø¯Ø±Øª Ú©Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: " + str(root.player_power)

    Spinner:
        text: "Ø³Ø·Ø­ Ú©Ù…Ù¾: " + str(root.camp_level)
        values: ["1", "2", "3"]
        on_text: root.camp_level = int(self.text)

    Spinner:
        text: "Ø³Ø·Ø­ Ù…Ø±Ø¨ÛŒ: " + str(root.coach_level)
        values: ["1", "2", "3"]
        on_text: root.coach_level = int(self.text)

    Spinner:
        text: "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†"
        values: ["1", "2", "3", "4", "5"]
        on_text: root.players_in_camp = int(self.text)

    Button:
        text: "ğŸš€ Ø´Ø±ÙˆØ¹ Ú©Ù…Ù¾ Û· Ø±ÙˆØ²Ù‡"
        on_press: root.start_camp()

    Label:
        text: root.result_text

    Label:
        text: "----------------------"

    Label:
        text: "ğŸ” Ø¢Ù†Ø§Ù„ÛŒØ² Ø­Ø±ÛŒÙ"

    Button:
        text: "Ø¢Ù†Ø§Ù„ÛŒØ² (Û±ÛµÛ° Ú¯Ù„Ø¯)"
        on_press: root.analyze_enemy()

    Label:
        text: root.analysis_text
<Stadium>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "ğŸŸ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…"
        font_size: 24

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Label:
        text: "Ø³Ø·Ø­ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…: " + (str(root.stadium_level) if root.stadium_level > 0 else "Ù†Ø¯Ø§Ø±Ø¯")

    Label:
        text: "Ø¸Ø±ÙÛŒØª: " + str(root.stadium_capacity)

    Label:
        text: "Ù‚ÛŒÙ…Øª Ø¨Ù„ÛŒØ·"

    Slider:
        min: 100
        max: 500
        value: root.ticket_price
        step: 50
        on_value: root.ticket_price = int(self.value)

    Label:
        text: "Ù‚ÛŒÙ…Øª Ø¨Ù„ÛŒØ·: " + str(root.ticket_price)

    Button:
        text: "ğŸŸ Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªÙ…Ø§Ø´Ø§Ú¯Ø±Ø§Ù†"
        on_press: root.calculate_fans()

    Label:
        text: "ğŸ‘¥ ØªÙ…Ø§Ø´Ø§Ú¯Ø±Ø§Ù†: " + str(root.fans)

    Label:
        text: "ğŸ”¥ Ø±ÙˆØ­ÛŒÙ‡ Ø§Ø² ØªÙ…Ø§Ø´Ø§Ú¯Ø±Ø§Ù†: " + str(root.fan_morale)

    Label:
        text: "-------------------"

    Label:
        text: "Ø®Ø±ÛŒØ¯ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…"

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "Ø³Ø·Ø­ 1 (Ø±Ø§ÛŒÚ¯Ø§Ù†)"
            on_press: root.buy_stadium(1)

        Button:
            text: "Ø³Ø·Ø­ 2"
            on_press: root.buy_stadium(2)

        Button:
            text: "Ø³Ø·Ø­ 3"
            on_press: root.buy_stadium(3)

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "Ø³Ø·Ø­ 4"
            on_press: root.buy_stadium(4)

        Button:
            text: "Ø³Ø·Ø­ 5"
            on_press: root.buy_stadium(5)

    Label:
        text: root.info_text
<Stadium>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "ğŸŸ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…"
        font_size: 24

    Image:
        source: root.stadium_image
        allow_stretch: True
        keep_ratio: True
        size_hint_y: 0.5

    Label:
        text: "Ø³Ø·Ø­ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…: " + (str(root.stadium_level) if root.stadium_level > 0 else "Ù†Ø¯Ø§Ø±Ø¯")
canvas.before:
    Color:
        rgba: 0.75, 0.9, 0.75, 1
    Rectangle:
        pos: self.pos
        size: self.size
Image:
    source: "assets/green_city_bg.png"
    allow_stretch: True
    keep_ratio: False
    <Game>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "ğŸ† Ø³ÛŒØ³ØªÙ… Ø³Ø¨Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ (Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§)"
        font_size: 22

    Label:
        text: "Ù‚Ø¯Ø±Øª Ù¾Ø§ÛŒÙ‡: " + str(root.base_power)
    Label:
        text: "Ø±ÙˆØ­ÛŒÙ‡ Ù¾Ø§ÛŒÙ‡: " + str(root.base_morale)

    Spinner:
        text: root.selected_tactic
        values: ["Ø¯ÙØ§Ø¹ÛŒ", "Ù…Ø§Ù„Ú©ÛŒØªÛŒ", "Ù‡Ø¬ÙˆÙ…ÛŒ"]
        on_text: root.selected_tactic = self.text

    Label:
        text: "Ù‚Ø¯Ø±Øª Ú©Ù„: " + str(root.total_power)
    Label:
        text: "Ø±ÙˆØ­ÛŒÙ‡ Ú©Ù„: " + str(root.total_morale)

    Label:
        text: "----------------------"
    Label:
        text: "ğŸ“œ Ø³Ø¨Ú©â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø±"

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "Ø±Ù‡Ø¨Ø± ØªØ§Ú©ØªÛŒÚ©ÛŒ"
            on_press: root.add_legend("Ø±Ù‡Ø¨Ø± ØªØ§Ú©ØªÛŒÚ©ÛŒ")
        Button:
            text: "Ù…Ø¹Ù…Ø§Ø± Ø¯ÙØ§Ø¹"
            on_press: root.add_legend("Ù…Ø¹Ù…Ø§Ø± Ø¯ÙØ§Ø¹")

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "Ù…ÙˆØªÙˆØ± Ù…ÛŒØ§Ù†ÛŒ"
            on_press: root.add_legend("Ù…ÙˆØªÙˆØ± Ù…ÛŒØ§Ù†ÛŒ")
        Button:
            text: "Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ"
            on_press: root.add_legend("Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ")

    Label:
        text: "----------------------"
    Label:
        text: "ğŸ”¥ Ø³Ø¨Ú© ÙØ¹Ø§Ù„: " + (root.active_legend if root.active_legend else "Ù‡ÛŒÚ†â€ŒÚ©Ø¯Ø§Ù…")
    Label:
        text: "âš ï¸ Ø±ÛŒØ³Ú© Ø§Ø­ØªÙ…Ø§Ù„ÛŒ: " + (root.risk_text if root.risk_text else "Ù†Ø¯Ø§Ø±Ø¯")

    BoxLayout:
        size_hint_y: None
        height: 40

        Button:
            text: "ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ"
            on_press:
                if root.legends_owned: root.activate_legend(root.legends_owned[0])

        Button:
            text: "ØºÛŒØ±ÙØ¹Ø§Ù„"
            on_press: root.deactivate_legend()

    Label:
        text: root.info_text
<Game>:
    orientation: "vertical"
    padding: 10
    spacing: 8

    Label:
        text: "ğŸ® Ø¨Ø§Ø²ÛŒ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ ÙÙˆØªØ¨Ø§Ù„ Ù¾ÛŒØ´Ø±ÙØªÙ‡"
        font_size: 22

    # -------------------
    # Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ú©ØªÛŒÚ©
    # -------------------
    Label:
        text: "ØªØ§Ú©ØªÛŒÚ© ØªÛŒÙ…"
    Spinner:
        text: root.tactic
        values: ["Ø¯ÙØ§Ø¹ÛŒ", "Ù…Ø§Ù„Ú©ÛŒØªÛŒ", "Ù‡Ø¬ÙˆÙ…ÛŒ"]
        on_text: root.tactic = self.text

    Label:
        text: "Ø±ÙˆØ­ÛŒÙ‡ ØªÛŒÙ…: " + str(root.team_morale)
    Label:
        text: "Ø³Ø·Ø­ Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…: " + str(root.stadium_level)

    Label:
        text: "--------------------"

    # -------------------
    # Ø³ÛŒØ³ØªÙ… Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§
    # -------------------
    Label:
        text: "ğŸ† Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒÙ‡Ø§"
    BoxLayout:
        size_hint_y: None
        height: 40
        Button:
            text: "ÙØ±Ù…Ø§Ù†Ø¯Ù‡ Ø´Ù‡Ø±"
            on_press: root.add_legend_to_team("ÙØ±Ù…Ø§Ù†Ø¯Ù‡ Ø´Ù‡Ø±")
        Button:
            text: "Ù…ØºØ² Ù…ØªÙÚ©Ø±"
            on_press: root.add_legend_to_team("Ù…ØºØ² Ù…ØªÙÚ©Ø±")
    Button:
        text: "Ù…Ø±Ø¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯"
        size_hint_y: None
        height: 40
        on_press: root.add_legend_to_team("Ù…Ø±Ø¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯")

    Button:
        text: "âš½ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ"
        on_press: root.play_match()
    Label:
        text: root.legend_info

    Label:
        text: "--------------------"

    # -------------------
    # Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡
    # -------------------
    Label:
        text: f"ğŸ’° Ú¯Ù„Ø¯: {root.gold}"
    Button:
        text: "ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡"
        on_press: root.spin_daily()
    Label:
        text: root.spin_result

    Label:
        text: "--------------------"

    # -------------------
    # Ø§Ú©Ø§Ù†Øª / Ù†Ù‚Ø´â€ŒÙ‡Ø§
    # -------------------
    BoxLayout:
        size_hint_y: None
        height: 40
        Button:
            text: "ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ADMIN (ØªØ³Øª)"
            on_press: root.login("ADMIN")
        Button:
            text: "Ø¯Ø§Ø¯Ù† Ø¬Ø§ÛŒØ²Ù‡ 5000"
            on_press: root.give_reward(5000)
            opacity: 1 if root.is_admin else 0
            disabled: not root.is_admin

    Label:
        text: "Ù†Ù‚Ø´: " + root.role

    Label:
        text: "--------------------"

    # -------------------
    # Ú©Ù†ÙØ±Ø§Ù†Ø³ Ø®Ø¨Ø±ÛŒ
    # -------------------
    Label:
        text: "ğŸ“° Ú©Ù†ÙØ±Ø§Ù†Ø³ Ø®Ø¨Ø±ÛŒ"
    BoxLayout:
        size_hint_y: None
        height: 40
        Button:
            text: "Ù‡ÙØªÙ‡ 1"
            on_press: root.show_conference(1)
        Button:
            text: "Ù‡ÙØªÙ‡ 2"
            on_press: root.show_conference(2)
        Button:
            text: "Ù‡ÙØªÙ‡ 3"
            on_press: root.show_conference(3)
        Button:
            text: "Ù‡ÙØªÙ‡ 4"
            on_press: root.show_conference(4)
    Label:
        text: root.conference_text
<SponsorSystem>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "ğŸ¤ Ø§Ø³Ù¾Ø§Ù†Ø³Ø± Ø¨Ø§Ø´Ú¯Ø§Ù‡"
        font_size: 24

    Label:
        text: "Ù‚Ø¯Ø±Øª ØªÛŒÙ…: " + str(root.team_power) + " | Ø§Ù…ØªÛŒØ§Ø²: " + str(root.team_points)

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Label:
        text: "---------------------"

    Label:
        text: "Ø§Ø³Ù¾Ø§Ù†Ø³Ø± ÙØ¹Ø§Ù„: " + (str(root.active_sponsor_level) if root.active_sponsor_level > 0 else "Ù†Ø¯Ø§Ø±Ø¯")

    Button:
        text: "ğŸ’° Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø±Ø¢Ù…Ø¯ Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.get_weekly_income()

    Label:
        text: root.sponsor_info

    Label:
        text: "---------------------"

    Label:
        text: "Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³Ù¾Ø§Ù†Ø³Ø±"

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height
        spacing: 5

        Button:
            text: "Ø³Ø·Ø­ 1\nÛ² Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(1)

        Button:
            text: "Ø³Ø·Ø­ 2\nÛ¶ Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(2)

        Button:
            text: "Ø³Ø·Ø­ 3\nÛ±Ûµ Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(3)

        Button:
            text: "Ø³Ø·Ø­ 4\nÛ²Ûµ Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(4)

        Button:
            text: "Ø³Ø·Ø­ 5\nÛµÛ° Ú©Ø§ / Ù‡ÙØªÙ‡"
            on_press: root.sign_sponsor(5)
# my.kv (Ø³Ø§Ø®ØªØ§Ø± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ø®Ø´ Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯)

<RootWidget>:
    # ÙØ±Ø¶ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø§ÛŒÙ† ÙˆÛŒØ¬Øª Ø±ÛŒØ´Ù‡ Ø§Ø³Øª Ùˆ ScreenManager Ø±Ø§ Ù†Ú¯Ù‡ Ù…ÛŒ Ø¯Ø§Ø±Ø¯
    ScreenManager:
        id: screen_manager
        
        # --- ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ ØªÛŒÙ… A ---
        Screen:
            name: 'team_a_home'
            BoxLayout:
                orientation: 'vertical'
                padding: 10
                spacing: 10

                Label:
                    text: "ØªÛŒÙ… Ø§ØµÙ„ÛŒ (A)"
                    size_hint_y: None
                    height: 50
                    font_size: 24

                # Ù†Ù…Ø§ÛŒØ´ Ø·Ù„Ø§ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
                Label:
                    id: team_a_gold_label
                    text: f"Ø·Ù„Ø§: {app.team1.gold} Ú¯Ù„Ø¯"
                
                # Ø¯Ú©Ù…Ù‡ ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… B
                Button:
                    text: "ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… Ø¯ÙˆÙ… (B) - 700,000 Ú¯Ù„Ø¯"
                    on_release: root.manager.get_screen('setup_b').setup_team_b()
                    disabled: app.team2 is not None # Ø§Ú¯Ø± ØªÛŒÙ… B ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ØŒ Ø¯Ú©Ù…Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª

                # Ø¯Ú©Ù…Ù‡ Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±...
                Button:
                    text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†"
                    on_release: root.manager.current = 'player_management'

                Button:
                    text: "Ø¨Ø§Ù†Ú©Ø¯Ø§Ø±ÛŒ"
                    on_release: root.manager.current = 'bank_screen'
        
        # --- ØµÙØ­Ù‡ ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… B ---
        Screen:
            name: 'setup_b'
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: "ØªØ§Ø³ÛŒØ³ ØªÛŒÙ… B"
                    size_hint_y: None
                    height: 50
                
                Label:
                    id: setup_b_status
                    text: "Ù‡Ø²ÛŒÙ†Ù‡: 700,000 Ú¯Ù„Ø¯"
                
                Button:
                    text: "ØªØ§ÛŒÛŒØ¯ Ùˆ ØªØ§Ø³ÛŒØ³"
                    on_release: app.team1.create_team_b_logic(root.manager) # ØªØ§Ø¨Ø¹ Ù…Ù†Ø·Ù‚ÛŒ Ø¨Ø§ÛŒØ¯ Ø¯Ø± main.py ØªØ¹Ø±ÛŒÙ Ø´ÙˆØ¯
                
                Button:
                    text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                    on_release: root.manager.current = 'team_a_home'


        # --- ØµÙØ­Ù‡ Ø¨Ø§Ù†Ú©Ø¯Ø§Ø±ÛŒ (Ø¨Ø±Ø§ÛŒ ÙˆØ§Ù… Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„ Ø·Ù„Ø§) ---
        Screen:
            name: 'bank_screen'
            BoxLayout:
                orientation: 'vertical'
                padding: 20
                
                Label:
                    text: "Ø³ÛŒØ³ØªÙ… Ø¨Ø§Ù†Ú©ÛŒ"
                    size_hint_y: None
                    height: 50
                
                # ÙˆØ§Ù… Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø±Ø²Ø´ ØªÛŒÙ…
                Button:
                    text: "Ø¯Ø±ÛŒØ§ÙØª ÙˆØ§Ù… Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø±Ø²Ø´ ØªÛŒÙ…"
                    on_release: app.bank.take_power_loan(app.team1)

                # ÙˆØ§Ù… Ù‡Ø§ÛŒ Ø«Ø§Ø¨Øª
                Label:
                    text: "ÙˆØ§Ù… Ù‡Ø§ÛŒ Ø«Ø§Ø¨Øª (ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù‚Ø¯Ø±Øª Ø¨Ø§Ù„Ø§ÛŒ 5000):"
                    size_hint_y: None
                    height: 30

                Button:
                    text: "ÙˆØ§Ù… 500 Ù‡Ø²Ø§Ø± Ú¯Ù„Ø¯ (10% Ø³ÙˆØ¯)"
                    on_release: app.bank.take_fixed_loan(app.team1, 1)
                
                Button:
                    text: "ÙˆØ§Ù… 1 Ù…ÛŒÙ„ÛŒÙˆÙ† Ú¯Ù„Ø¯ (20% Ø³ÙˆØ¯)"
                    on_release: app.bank.take_fixed_loan(app.team1, 2)

                Button:
                    text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                    on_release: root.manager.current = 'team_a_home'

        # --- ØµÙØ­Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ---
        Screen:
            name: 'transfers_screen'
            BoxLayout:
                orientation: 'vertical'
                
                Label:
                    text: "Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª"
                    size_hint_y: None
                    height: 50

                # Ù…Ù†Ø·Ù‚ Ø§Ù†ØªÙ‚Ø§Ù„ Ø·Ù„Ø§ Ø¨ÛŒÙ† ØªÛŒÙ… A Ùˆ B (Ø¨Ø§ÛŒØ¯ ÛŒÚ© ÙˆÛŒØ¬Øª Ù…Ø¬Ø²Ø§ Ø¨Ø§Ø´Ø¯)
                Button:
                    text: "Ø§Ù†ØªÙ‚Ø§Ù„ Ø·Ù„Ø§ Ø§Ø² A Ø¨Ù‡ B"
                    on_release: app.transfer_gold_logic(from_team='A', to_team='B', amount=100000) # Ù†ÛŒØ§Ø² Ø¨Ù‡ ÙˆØ±ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø±

                # Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ (Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ RecycleView ÛŒØ§ ListView Ø¯Ø§Ø±Ø¯)
                Label:
                    text: "Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„:"
                    size_hint_y: None
                    height: 30
                
                # ... Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ Ø¯Ú©Ù…Ù‡ Ù‡Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ ...

                Button:
                    text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
                    on_release: root.manager.current = 'team_a_home'
# my.kv

#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import ListItemButton kivy.uix.listview.ListItemButton

<PlayerManagementScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        Label:
            text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†ØŒ Ú©Ø§Ù¾ÛŒØªØ§Ù† Ù‡Ø§ Ùˆ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù†Ø§Ù†"
            size_hint_y: None
            height: 40

        # --- Ø¨Ø®Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù† ---
        BoxLayout:
            size_hint_y: 0.4
            orientation: 'vertical'
            Label:
                text: "Ø§Ù†ØªØ®Ø§Ø¨ 5 Ù¾Ù†Ø§Ù„ØªÛŒ Ø²Ù†:"
                size_hint_y: None
                height: 30
            
            RecycleView: # Ø¨Ù‡ØªØ± Ø§Ø² ListView Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯ Ø²ÛŒØ§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†
                id: penalty_rv
                viewclass: 'PlayerItem' # Ø¨Ø§ÛŒØ¯ ÙˆÛŒØ¬Øª PlayerItem ØªØ¹Ø±ÛŒÙ Ø´ÙˆØ¯
                data: [{'text': p.name, 'on_release': lambda *args: root.select_player_for_penalty(p)} for p in app.team1.players]

            Label:
                text: f"Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡: {len(app.team1.penalty_takers)}/5"
                id: penalty_status_label

        # --- Ø¨Ø®Ø´ ØªØºÛŒÛŒØ± Ù¾Ø³Øª Ùˆ ØªØµÙˆÛŒØ± ---
        BoxLayout:
            size_hint_y: 0.3
            orientation: 'vertical'
            padding: 5
            spacing: 5
            
            Label:
                text: "ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø² Ù„ÛŒØ³Øª)"

            Button:
                text: "ØªØºÛŒÛŒØ± ØªØµÙˆÛŒØ± Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø±Ø§ÛŒÚ¯Ø§Ù†)"
                on_release: app.team1.change_player_image(app.team1.players[0], 'new_url_here') # Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯

            Button:
                text: "ØªØºÛŒÛŒØ± Ù¾Ø³Øª Ø¨Ø§Ø²ÛŒÚ©Ù† (100,000 Ú¯Ù„Ø¯)"
                on_release: app.team1.change_player_position(app.team1.players[0], 'DEF') # Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯


        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø®Ø§Ù†Ù‡"
            size_hint_y: None
            height: 50
            on_release: root.manager.current = 'home'

<TeamProfileScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ… Ùˆ Ø¢Ù…Ø§Ø± ØªØ§Ø±ÛŒØ®ÛŒ"
            size_hint_y: None
            height: 40

        # --- Ø¢Ù…Ø§Ø± Ø¯Ø±ÙˆØ§Ø²Ø¨Ø§Ù† Ù‡Ø§ÛŒ Ø¨Ø±ØªØ± ØªØ§Ø±ÛŒØ® ---
        Label:
            text: "Ø¨Ø±ØªØ±ÛŒÙ† Ø¯Ø±ÙˆØ§Ø²Ø¨Ø§Ù†Ø§Ù† ØªØ§Ø±ÛŒØ® ØªÛŒÙ… (Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„ Ø®ÙˆØ±Ø¯Ù‡)"
            size_hint_y: None
            height: 30

        RecycleView:
            id: gk_stats_rv
            data: [
                {'text': f"{gk.name} - Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ú¯Ù„: {gk.goals_per_match:.2f}"} 
                for gk in app.team1.stats.historical_gks
            ]
            viewclass: 'Label'
            size_hint_y: 0.4

        Button:
            text: "Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ (ØªØ³Øª)"
            size_hint_y: None
            height: 50
            on_release: root.manager.current = 'penalty_test'


<PenaltyShootoutScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15
        
        Label:
            text: "ØªØ³Øª Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ù¾Ù†Ø§Ù„ØªÛŒ Ú©Ø´ÛŒ"
            size_hint_y: None
            height: 50
            
        Button:
            text: "Ø´Ø±ÙˆØ¹ Ù¾Ù†Ø§Ù„ØªÛŒ Ú©Ø´ÛŒ"
            on_release: root.start_shootout()
            
        Label:
            id: result_label
            text: "Ù†ØªÛŒØ¬Ù‡: Ù…Ù†ØªØ¸Ø± Ø´Ø±ÙˆØ¹..."
            font_size: 20
            
        Button:
            text: "Ø¨Ø§Ø²Ú¯Ø´Øª"
            on_release: root.manager.current = 'team_profile'


<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        Button:
            text: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†ØŒ Ù¾Ù†Ø§Ù„ØªÛŒ Ùˆ Ú©Ø§Ù¾ÛŒØªØ§Ù†"
            on_release: root.manager.current = 'player_management'

        Button:
            text: "Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ØªÛŒÙ… Ùˆ Ø¢Ù…Ø§Ø± (Ø¯Ø±ÙˆØ§Ø²Ø¨Ø§Ù† Ù‡Ø§)"
            on_release: root.manager.current = 'team_profile'
        
        # Ø³Ø§ÛŒØ± Ø¯Ú©Ù…Ù‡ Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ...
<MainGame>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "âš½ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†"
        font_size: 22

    Label:
        text: "Ø¨Ø§Ø²ÛŒÚ©Ù†: " + root.player.name

    Label:
        text: "Ù¾Ø³Øª: " + root.player.position + " | Ù‚Ø¯Ø±Øª Ú©Ù„: " + str(root.player.power)

    Label:
        text: "ğŸ“Š Ù…Ø´Ø®ØµØ§Øª"

    Label:
        text:
            "Ø³Ø±Ø¹Øª: " + str(root.player.stats['speed']) + " | Ù‚Ø¯Ø±Øª: " + str(root.player.stats['power']) + "\n" + \
            "Ú¯Ù„Ø²Ù†ÛŒ: " + str(root.player.stats['finishing']) + " | Ø´ÙˆØª: " + str(root.player.stats['shot']) + "\n" + \
            "Ø¯Ø±ÛŒØ¨Ù„: " + str(root.player.stats['dribble']) + " | Ø¶Ø±Ø¨Ù‡ Ø³Ø±: " + str(root.player.stats['header'])

    Button:
        text: "ğŸ‹ï¸ ØªÙ…Ø±ÛŒÙ† Ø³Ø§Ø¯Ù‡"
        on_press: root.simple_training()

    Button:
        text: "ğŸ”¥ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ ÙˆÛŒÚ˜Ù‡"
        on_press: root.camp_training()

    Label:
        text: root.info

    Label:
        text: "---------------------------"

    Label:
        text: "ğŸ› Ø³Ø§Ø²Ù…Ø§Ù† Ù„ÛŒÚ¯"
        font_size: 20

    TextInput:
        id: league_msg
        hint_text: "Ø§Ø¹ØªØ±Ø§Ø¶ØŒ Ú¯Ø²Ø§Ø±Ø´ ØªØ®Ù„Ù ÛŒØ§ ÙØ­Ø§Ø´ÛŒ..."
        multiline: True
        size_hint_y: None
        height: 80

    Button:
        text: "ğŸ“¨ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø³Ø§Ø²Ù…Ø§Ù† Ù„ÛŒÚ¯"
        on_press:
            root.send_league_message(league_msg.text)
            league_msg.text = ""
<AcademySystem>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "ğŸ“ Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ø¨Ø§Ø´Ú¯Ø§Ù‡"
        font_size: 24

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold) + " | Ú©Ø§Ú¯Ù„Ø¯: " + str(root.kagold)

    Label:
        text: root.info

    Button:
        text: "â• ØªØ£Ø³ÛŒØ³ Ø¢Ú©Ø§Ø¯Ù…ÛŒ (ÛµÛ°Û°,Û°Û°Û° Ú¯Ù„Ø¯)"
        disabled: root.academy_created
        on_press: root.create_academy()

    Label:
        text: "-------------------------"

    Button:
        text: "ğŸ† ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù„ÛŒÚ¯ Ø¢Ú©Ø§Ø¯Ù…ÛŒ (Û±Û° Ú©Ø§Ú¯Ù„Ø¯)"
        disabled: not root.academy_created
        on_press: root.join_league()

    Label:
        text: "-------------------------"

    Label:
        text: "ğŸ”¥ Ú©Ù…Ù¾ ØªÙ…Ø±ÛŒÙ†ÛŒ"

    Button:
        text: "Ú©Ù…Ù¾ Û± | Û±Û°Û° Ú©Ø§ | +ÛµÛ°Û° Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.buy_camp(1)

    Button:
        text: "Ú©Ù…Ù¾ Û² | Û±ÛµÛ° Ú©Ø§ | +Û±Û°Û°Û° Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.buy_camp(2)

    Button:
        text: "Ú©Ù…Ù¾ Û³ | Û²Û°Û° Ú©Ø§ | +Û±Û¸Û°Û° Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.buy_camp(3)

    Button:
        text: "ğŸ“† ØªÙ…Ø±ÛŒÙ† Ù‡ÙØªÚ¯ÛŒ"
        on_press: root.weekly_training()

    Label:
        text: "-------------------------"

    Button:
        text: "â¬†ï¸ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù† ÙˆØ§Ø¬Ø¯ Ø´Ø±Ø§ÛŒØ· Ø¨Ù‡ ØªÛŒÙ… Ø§ØµÙ„ÛŒ"
        on_press: root.move_to_main_team()
<AcademyMarket>:
    orientation: "vertical"
    padding: 12
    spacing: 8

    Label:
        text: "ğŸ›’ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø¢Ú©Ø§Ø¯Ù…ÛŒ"
        font_size: 24

    Label:
        text: "Ú¯Ù„Ø¯: " + str(root.gold)

    Label:
        text: "ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¢Ú©Ø§Ø¯Ù…ÛŒ: " + str(len(root.players))

    Label:
        text: root.info

    Label:
        text: "----------------------"

    Button:
        text: "ğŸ”„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø§Ø²Ø§Ø±"
        on_press: root.refresh_market()

    Button:
        text: "ğŸ›’ Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø² Ø¨Ø§Ø²Ø§Ø±"
        on_press: root.buy_player()

    Button:
        text: "ğŸ’¸ ÙØ±ÙˆØ´ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¢Ú©Ø§Ø¯Ù…ÛŒ"
        on_press: root.sell_player()
<Player>:
    size: 30, 30

<Ball>:
    size: 15, 15

<MatchField>:
    player: player
    ball: ball

    canvas.before:
        Color:
            rgb: 0.1, 0.6, 0.1
        Rectangle:
            pos: self.pos
            size: self.size

    # ØªÙˆÙ¾
    Ball:
        id: ball
        pos:
            root.x + root.width * root.ball.x_pos,\
            root.y + root.height * root.ball.y_pos
        canvas:
            Color:
                rgb: 1,1,1
            Ellipse:
                pos: self.pos
                size: self.size

    # Ø¨Ø§Ø²ÛŒÚ©Ù†
    Player:
        id: player
        pos:
            root.x + root.width * root.player.x_pos,\
            root.y + root.height * root.player.y_pos
        canvas:
            PushMatrix
            Rotate:
                angle: root.player.angle
                origin: self.center
            Color:
                rgb: 0.2, 0.2, 1
            Ellipse:
                pos: self.pos
                size: self.size
            PopMatrix

    # Ù‡Ø¯Ø±
    Label:
        size_hint: 1, 0.12
        pos_hint: {"top":1}
        text:
            "â± {}'   SCORE {}   {}".format(root.minute, root.score, root.current_action)
        font_size: 18
<MatchField>:
    canvas.before:
        Color:
            rgb: 0.1, 0.6, 0.1
        Rectangle:
            pos: self.pos
            size: self.size

        Color:
            rgb: 1,1,1
        Line:
            rectangle: self.x+10, self.y+10, self.width-20, self.height-20
            width: 2
        Line:
            points: self.center_x, self.y+10, self.center_x, self.top-10
            width: 1

    # ØªÙˆÙ¾
    Ellipse:
        size: 20,20
        pos:
            root.x + root.ball_x * root.width - 10,\
            root.y + root.ball_y * root.height - 10

    # Ù‡Ø¯Ø±
    BoxLayout:
        size_hint: 1, 0.15
        pos_hint: {"top":1}
        Label:
            text: "â± {}'   Team A {} - {} Team B".format(root.minute, root.score_a, root.score_b)
            font_size: 20

    # Ú©Ù†ØªØ±Ù„ Ù…Ø±Ø¨ÛŒ
    BoxLayout:
        size_hint: 1, 0.2
        pos_hint: {"y":0}
        spacing: 10
        padding: 10

        Button:
            text: "DEFEND"
            on_press: root.set_tactic("DEFEND")
        Button:
            text: "BALANCED"
            on_press: root.set_tactic("BALANCED")
        Button:
            text: "ATTACK"
            on_press: root.set_tactic("ATTACK")

    on_kv_post:
        root.start_match()
<MatchEngine>:
    canvas.before:
        Color:
            rgb: 0.07, 0.55, 0.12
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        padding: 12
        spacing: 10

        Label:
            text: "â± {}'   Team A {} - {} Team B".format(
                root.minute, root.score_a, root.score_b)
            font_size: 20
            size_hint_y: 0.12

        Label:
            text: root.event_text
            font_size: 18
            size_hint_y: 0.12

        GridLayout:
            cols: 2
            spacing: 8
            size_hint_y: 0.45

            Label:
                text: "ğŸŸ¨ Yellow Cards"
            Label:
                text: str(root.player.yellow)

            Label:
                text: "ğŸ“’ Season Yellows"
            Label:
                text: str(root.player.season_yellow)

            Label:
                text: "ğŸŸ¥ Red Card"
            Label:
                text: "YES" if root.player.red else "NO"

            Label:
                text: "â›” Suspended Matches"
            Label:
                text: str(root.player.suspended_matches)

            Label:
                text: "ğŸ¤• Injury Level"
            Label:
                text: str(root.player.injury_level)

            Label:
                text: "ğŸš‘ Injury Matches"
            Label:
                text: str(root.player.injury_matches)

        Label:
            text: "Live Football Simulation â€“ Coach View"
            font_size: 16
            size_hint_y: 0.1
<Player>:
    orientation: 'vertical'
    spacing: 10
    padding: 20

    Label:
        text: "Ù†Ø§Ù… Ø¨Ø§Ø²ÛŒÚ©Ù†: " + root.name

    Label:
        text: "Ù‚ÛŒÙ…Øª Ø¨Ø§Ø²ÛŒÚ©Ù†: " + str(root.price) + " ØªÙˆÙ…Ø§Ù†"

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10

        Button:
            text: "ÙØ±ÙˆØ´ Ú©Ø§Ù…Ù„"
            on_press:
                root.is_loaned = False
                root.sell_player()

        Button:
            text: "Ù‚Ø±Ø¶ÛŒ"
            on_press:
                root.is_loaned = True
                root.sell_player()

    Button:
        text: "Ø´Ø±ÙˆØ¹ Ù†Ù‚Ù„ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø¨Ø¹Ø¯ÛŒ"
        on_press: root.next_transfer_window()
default_api:python{code:
# --- ØªØ¹Ø±ÛŒÙ Ø±Ø´ØªÙ‡ KV Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø± Kivy ---
KV_CODE = '''
<TransferScreen>:
    orientation: 'vertical'
    padding: 10
    spacing: 10
    
    # Ø¹Ù†ÙˆØ§Ù† Ùˆ ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ
    BoxLayout:
        size_hint_y: None
        height: 50
        Label:
            text: 'Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Øª Ø¨Ø§Ø²ÛŒ'
            font_size: 24
            bold: True
            color: (0.1, 0.5, 0.8, 1) # Ø¢Ø¨ÛŒ ØªÛŒØ±Ù‡
    
    ScrollView:
        do_scroll_x: False
        
        BoxLayout:
            id: issue_widgets_container
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: 5
            # ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Ø¯Ú©Ù…Ù‡ Ùˆ Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ ØªÙˆØ³Ø· main.py ØªØ²Ø±ÛŒÙ‚ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
            
            # ÙØ¶Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ ÙˆÛŒØ¬Øª Ø¯Ø± Ø§Ø¨ØªØ¯Ø§
            Label:
                id: dummy_label_for_init
                text: ''
                size_hint_y: None
                height: 0
    
    # 5. Ù†Ù…Ø§ÛŒØ´ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± (Ù‚Ø§Ù†ÙˆÙ† 5)
    Label:
        id: warnings_label
        text: root.warning_message
        font_size: 16
        color: (1, 0.6, 0, 1) # Ù†Ø§Ø±Ù†Ø¬ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ø´Ø¯Ø§Ø±
        size_hint_y: None
        height: self.texture_size[1] + 20 if root.warning_message else 0
        text_size: self.width, None
        halign: 'right'
        valign: 'top'
        padding: [10, 10, 10, 10]
    
    # Ø¨Ø®Ø´ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡
    BoxLayout:
        size_hint_y: 0.3
        orientation: 'vertical'
        Label:
            text: '--- Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ (Ù‚Ø§Ù†ÙˆÙ† 2) ---'
            font_size: 18
            size_hint_y: None
            height: 30
            halign: 'right'
        
        Label:
            id: remaining_cost_label
            text: root.remaining_cost_text
            font_size: 14
            halign: 'right'
            text_size: self.width, None
            padding: [10, 0, 0, 0]
    
    # Ø¯Ú©Ù…Ù‡ Ú¯Ø²Ø§Ø±Ø´
    Button:
        text: 'ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ù¾Ø§ÛŒØ§Ù† Ø¯ÙˆØ±Ù‡ (Ù‚Ø§Ù†ÙˆÙ† 6)'
        size_hint_y: None
        height: 50
        background_color: (0.2, 0.8, 0.2, 1) # Ø³Ø¨Ø²
        on_release: root.generate_report_action()
'''

# Ø°Ø®ÛŒØ±Ù‡ ÙØ§ÛŒÙ„ my.kv
with open("[/mnt/data/my.kv"](https://storage.gapgpt.app/media/code_interpreter/deeb188f-a014-47e3-bf17-cc6bc402a1d0/my.kv%22), "w", encoding="utf-8") as f:
    f.write(KV_CODE)
    print("my.kv file created successfully.")
    
# Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯ Ù¾Ø§ÛŒØªÙˆÙ† Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ØªØ¹Ø±ÛŒÙ Ù…ØªØºÛŒØ± KV_CODE Ø¯Ø± Ù…Ø­ÛŒØ·
# Ø§ÛŒÙ† Ú©Ø¯ Ø¯Ø± Ø§Ø¬Ø±Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´ÛŒ Ø§Ø² main.py Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ‡ Ø´Ø¯ØŒ 
# Ø§Ù…Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø¬Ø¯Ø¯Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ .kv Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
